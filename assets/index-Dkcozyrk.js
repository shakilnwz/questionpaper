(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))h(m);new MutationObserver(m=>{for(const S of m)if(S.type==="childList")for(const M of S.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&h(M)}).observe(document,{childList:!0,subtree:!0});function l(m){const S={};return m.integrity&&(S.integrity=m.integrity),m.referrerPolicy&&(S.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?S.credentials="include":m.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function h(m){if(m.ep)return;m.ep=!0;const S=l(m);fetch(m.href,S)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hi(r){const s=Object.create(null);for(const l of r.split(","))s[l]=1;return l=>l in s}const je={},bn=[],Ot=()=>{},Xa=()=>!1,br=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),mi=r=>r.startsWith("onUpdate:"),at=Object.assign,gi=(r,s)=>{const l=r.indexOf(s);l>-1&&r.splice(l,1)},kl=Object.prototype.hasOwnProperty,xe=(r,s)=>kl.call(r,s),we=Array.isArray,Nn=r=>wr(r)==="[object Map]",xl=r=>wr(r)==="[object Set]",ve=r=>typeof r=="function",$e=r=>typeof r=="string",Sn=r=>typeof r=="symbol",Fe=r=>r!==null&&typeof r=="object",Ya=r=>(Fe(r)||ve(r))&&ve(r.then)&&ve(r.catch),Ol=Object.prototype.toString,wr=r=>Ol.call(r),Dl=r=>wr(r).slice(8,-1),Hl=r=>wr(r)==="[object Object]",yi=r=>$e(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Rn=hi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vr=r=>{const s=Object.create(null);return(l=>s[l]||(s[l]=r(l)))},Nl=/-\w/g,Xt=vr(r=>r.replace(Nl,s=>s.slice(1).toUpperCase())),Rl=/\B([A-Z])/g,an=vr(r=>r.replace(Rl,"-$1").toLowerCase()),Qa=vr(r=>r.charAt(0).toUpperCase()+r.slice(1)),qr=vr(r=>r?`on${Qa(r)}`:""),Jt=(r,s)=>!Object.is(r,s),Gr=(r,...s)=>{for(let l=0;l<r.length;l++)r[l](...s)},es=(r,s,l,h=!1)=>{Object.defineProperty(r,s,{configurable:!0,enumerable:!1,writable:h,value:l})},Pl=r=>{const s=parseFloat(r);return isNaN(s)?r:s};let va;const Er=()=>va||(va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bi(r){if(we(r)){const s={};for(let l=0;l<r.length;l++){const h=r[l],m=$e(h)?Ul(h):bi(h);if(m)for(const S in m)s[S]=m[S]}return s}else if($e(r)||Fe(r))return r}const Il=/;(?![^(]*\))/g,jl=/:([^]+)/,Bl=/\/\*[^]*?\*\//g;function Ul(r){const s={};return r.replace(Bl,"").split(Il).forEach(l=>{if(l){const h=l.split(jl);h.length>1&&(s[h[0].trim()]=h[1].trim())}}),s}function wi(r){let s="";if($e(r))s=r;else if(we(r))for(let l=0;l<r.length;l++){const h=wi(r[l]);h&&(s+=h+" ")}else if(Fe(r))for(const l in r)r[l]&&(s+=l+" ");return s.trim()}const Fl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vl=hi(Fl);function ts(r){return!!r||r===""}/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ut;class Wl{constructor(s=!1){this.detached=s,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ut,!s&&ut&&(this.index=(ut.scopes||(ut.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let s,l;if(this.scopes)for(s=0,l=this.scopes.length;s<l;s++)this.scopes[s].pause();for(s=0,l=this.effects.length;s<l;s++)this.effects[s].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let s,l;if(this.scopes)for(s=0,l=this.scopes.length;s<l;s++)this.scopes[s].resume();for(s=0,l=this.effects.length;s<l;s++)this.effects[s].resume()}}run(s){if(this._active){const l=ut;try{return ut=this,s()}finally{ut=l}}}on(){++this._on===1&&(this.prevScope=ut,ut=this)}off(){this._on>0&&--this._on===0&&(ut=this.prevScope,this.prevScope=void 0)}stop(s){if(this._active){this._active=!1;let l,h;for(l=0,h=this.effects.length;l<h;l++)this.effects[l].stop();for(this.effects.length=0,l=0,h=this.cleanups.length;l<h;l++)this.cleanups[l]();if(this.cleanups.length=0,this.scopes){for(l=0,h=this.scopes.length;l<h;l++)this.scopes[l].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!s){const m=this.parent.scopes.pop();m&&m!==this&&(this.parent.scopes[this.index]=m,m.index=this.index)}this.parent=void 0}}}function Kl(){return ut}let Ie;const zr=new WeakSet;class ns{constructor(s){this.fn=s,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ut&&ut.active&&ut.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zr.has(this)&&(zr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||is(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ea(this),as(this);const s=Ie,l=Et;Ie=this,Et=!0;try{return this.fn()}finally{ss(this),Ie=s,Et=l,this.flags&=-3}}stop(){if(this.flags&1){for(let s=this.deps;s;s=s.nextDep)_i(s);this.deps=this.depsTail=void 0,Ea(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ni(this)&&this.run()}get dirty(){return ni(this)}}let rs=0,Pn,In;function is(r,s=!1){if(r.flags|=8,s){r.next=In,In=r;return}r.next=Pn,Pn=r}function vi(){rs++}function Ei(){if(--rs>0)return;if(In){let s=In;for(In=void 0;s;){const l=s.next;s.next=void 0,s.flags&=-9,s=l}}let r;for(;Pn;){let s=Pn;for(Pn=void 0;s;){const l=s.next;if(s.next=void 0,s.flags&=-9,s.flags&1)try{s.trigger()}catch(h){r||(r=h)}s=l}}if(r)throw r}function as(r){for(let s=r.deps;s;s=s.nextDep)s.version=-1,s.prevActiveLink=s.dep.activeLink,s.dep.activeLink=s}function ss(r){let s,l=r.depsTail,h=l;for(;h;){const m=h.prevDep;h.version===-1?(h===l&&(l=m),_i(h),ql(h)):s=h,h.dep.activeLink=h.prevActiveLink,h.prevActiveLink=void 0,h=m}r.deps=s,r.depsTail=l}function ni(r){for(let s=r.deps;s;s=s.nextDep)if(s.dep.version!==s.version||s.dep.computed&&(os(s.dep.computed)||s.dep.version!==s.version))return!0;return!!r._dirty}function os(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===Wn)||(r.globalVersion=Wn,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!ni(r))))return;r.flags|=2;const s=r.dep,l=Ie,h=Et;Ie=r,Et=!0;try{as(r);const m=r.fn(r._value);(s.version===0||Jt(m,r._value))&&(r.flags|=128,r._value=m,s.version++)}catch(m){throw s.version++,m}finally{Ie=l,Et=h,ss(r),r.flags&=-3}}function _i(r,s=!1){const{dep:l,prevSub:h,nextSub:m}=r;if(h&&(h.nextSub=m,r.prevSub=void 0),m&&(m.prevSub=h,r.nextSub=void 0),l.subs===r&&(l.subs=h,!h&&l.computed)){l.computed.flags&=-5;for(let S=l.computed.deps;S;S=S.nextDep)_i(S,!0)}!s&&!--l.sc&&l.map&&l.map.delete(l.key)}function ql(r){const{prevDep:s,nextDep:l}=r;s&&(s.nextDep=l,r.prevDep=void 0),l&&(l.prevDep=s,r.nextDep=void 0)}let Et=!0;const ls=[];function Ut(){ls.push(Et),Et=!1}function Ft(){const r=ls.pop();Et=r===void 0?!0:r}function Ea(r){const{cleanup:s}=r;if(r.cleanup=void 0,s){const l=Ie;Ie=void 0;try{s()}finally{Ie=l}}}let Wn=0;class Gl{constructor(s,l){this.sub=s,this.dep=l,this.version=l.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Si{constructor(s){this.computed=s,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(s){if(!Ie||!Et||Ie===this.computed)return;let l=this.activeLink;if(l===void 0||l.sub!==Ie)l=this.activeLink=new Gl(Ie,this),Ie.deps?(l.prevDep=Ie.depsTail,Ie.depsTail.nextDep=l,Ie.depsTail=l):Ie.deps=Ie.depsTail=l,cs(l);else if(l.version===-1&&(l.version=this.version,l.nextDep)){const h=l.nextDep;h.prevDep=l.prevDep,l.prevDep&&(l.prevDep.nextDep=h),l.prevDep=Ie.depsTail,l.nextDep=void 0,Ie.depsTail.nextDep=l,Ie.depsTail=l,Ie.deps===l&&(Ie.deps=h)}return l}trigger(s){this.version++,Wn++,this.notify(s)}notify(s){vi();try{for(let l=this.subs;l;l=l.prevSub)l.sub.notify()&&l.sub.dep.notify()}finally{Ei()}}}function cs(r){if(r.dep.sc++,r.sub.flags&4){const s=r.dep.computed;if(s&&!r.dep.subs){s.flags|=20;for(let h=s.deps;h;h=h.nextDep)cs(h)}const l=r.dep.subs;l!==r&&(r.prevSub=l,l&&(l.nextSub=r)),r.dep.subs=r}}const ri=new WeakMap,nn=Symbol(""),ii=Symbol(""),Kn=Symbol("");function Qe(r,s,l){if(Et&&Ie){let h=ri.get(r);h||ri.set(r,h=new Map);let m=h.get(l);m||(h.set(l,m=new Si),m.map=h,m.key=l),m.track()}}function Bt(r,s,l,h,m,S){const M=ri.get(r);if(!M){Wn++;return}const p=E=>{E&&E.trigger()};if(vi(),s==="clear")M.forEach(p);else{const E=we(r),H=E&&yi(l);if(E&&l==="length"){const O=Number(h);M.forEach((d,c)=>{(c==="length"||c===Kn||!Sn(c)&&c>=O)&&p(d)})}else switch((l!==void 0||M.has(void 0))&&p(M.get(l)),H&&p(M.get(Kn)),s){case"add":E?H&&p(M.get("length")):(p(M.get(nn)),Nn(r)&&p(M.get(ii)));break;case"delete":E||(p(M.get(nn)),Nn(r)&&p(M.get(ii)));break;case"set":Nn(r)&&p(M.get(nn));break}}Ei()}function gn(r){const s=ke(r);return s===r?s:(Qe(s,"iterate",Kn),_t(r)?s:s.map(nt))}function Ci(r){return Qe(r=ke(r),"iterate",Kn),r}const zl={__proto__:null,[Symbol.iterator](){return $r(this,Symbol.iterator,nt)},concat(...r){return gn(this).concat(...r.map(s=>we(s)?gn(s):s))},entries(){return $r(this,"entries",r=>(r[1]=nt(r[1]),r))},every(r,s){return Rt(this,"every",r,s,void 0,arguments)},filter(r,s){return Rt(this,"filter",r,s,l=>l.map(nt),arguments)},find(r,s){return Rt(this,"find",r,s,nt,arguments)},findIndex(r,s){return Rt(this,"findIndex",r,s,void 0,arguments)},findLast(r,s){return Rt(this,"findLast",r,s,nt,arguments)},findLastIndex(r,s){return Rt(this,"findLastIndex",r,s,void 0,arguments)},forEach(r,s){return Rt(this,"forEach",r,s,void 0,arguments)},includes(...r){return Jr(this,"includes",r)},indexOf(...r){return Jr(this,"indexOf",r)},join(r){return gn(this).join(r)},lastIndexOf(...r){return Jr(this,"lastIndexOf",r)},map(r,s){return Rt(this,"map",r,s,void 0,arguments)},pop(){return On(this,"pop")},push(...r){return On(this,"push",r)},reduce(r,...s){return _a(this,"reduce",r,s)},reduceRight(r,...s){return _a(this,"reduceRight",r,s)},shift(){return On(this,"shift")},some(r,s){return Rt(this,"some",r,s,void 0,arguments)},splice(...r){return On(this,"splice",r)},toReversed(){return gn(this).toReversed()},toSorted(r){return gn(this).toSorted(r)},toSpliced(...r){return gn(this).toSpliced(...r)},unshift(...r){return On(this,"unshift",r)},values(){return $r(this,"values",nt)}};function $r(r,s,l){const h=Ci(r),m=h[s]();return h!==r&&!_t(r)&&(m._next=m.next,m.next=()=>{const S=m._next();return S.done||(S.value=l(S.value)),S}),m}const $l=Array.prototype;function Rt(r,s,l,h,m,S){const M=Ci(r),p=M!==r&&!_t(r),E=M[s];if(E!==$l[s]){const d=E.apply(r,S);return p?nt(d):d}let H=l;M!==r&&(p?H=function(d,c){return l.call(this,nt(d),c,r)}:l.length>2&&(H=function(d,c){return l.call(this,d,c,r)}));const O=E.call(M,H,h);return p&&m?m(O):O}function _a(r,s,l,h){const m=Ci(r);let S=l;return m!==r&&(_t(r)?l.length>3&&(S=function(M,p,E){return l.call(this,M,p,E,r)}):S=function(M,p,E){return l.call(this,M,nt(p),E,r)}),m[s](S,...h)}function Jr(r,s,l){const h=ke(r);Qe(h,"iterate",Kn);const m=h[s](...l);return(m===-1||m===!1)&&Ai(l[0])?(l[0]=ke(l[0]),h[s](...l)):m}function On(r,s,l=[]){Ut(),vi();const h=ke(r)[s].apply(r,l);return Ei(),Ft(),h}const Jl=hi("__proto__,__v_isRef,__isVue"),us=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Sn));function Zl(r){Sn(r)||(r=String(r));const s=ke(this);return Qe(s,"has",r),s.hasOwnProperty(r)}class fs{constructor(s=!1,l=!1){this._isReadonly=s,this._isShallow=l}get(s,l,h){if(l==="__v_skip")return s.__v_skip;const m=this._isReadonly,S=this._isShallow;if(l==="__v_isReactive")return!m;if(l==="__v_isReadonly")return m;if(l==="__v_isShallow")return S;if(l==="__v_raw")return h===(m?S?sc:ms:S?hs:ps).get(s)||Object.getPrototypeOf(s)===Object.getPrototypeOf(h)?s:void 0;const M=we(s);if(!m){let E;if(M&&(E=zl[l]))return E;if(l==="hasOwnProperty")return Zl}const p=Reflect.get(s,l,et(s)?s:h);if((Sn(l)?us.has(l):Jl(l))||(m||Qe(s,"get",l),S))return p;if(et(p)){const E=M&&yi(l)?p:p.value;return m&&Fe(E)?si(E):E}return Fe(p)?m?si(p):Mi(p):p}}class ds extends fs{constructor(s=!1){super(!1,s)}set(s,l,h,m){let S=s[l];if(!this._isShallow){const E=rn(S);if(!_t(h)&&!rn(h)&&(S=ke(S),h=ke(h)),!we(s)&&et(S)&&!et(h))return E||(S.value=h),!0}const M=we(s)&&yi(l)?Number(l)<s.length:xe(s,l),p=Reflect.set(s,l,h,et(s)?s:m);return s===ke(m)&&(M?Jt(h,S)&&Bt(s,"set",l,h):Bt(s,"add",l,h)),p}deleteProperty(s,l){const h=xe(s,l);s[l];const m=Reflect.deleteProperty(s,l);return m&&h&&Bt(s,"delete",l,void 0),m}has(s,l){const h=Reflect.has(s,l);return(!Sn(l)||!us.has(l))&&Qe(s,"has",l),h}ownKeys(s){return Qe(s,"iterate",we(s)?"length":nn),Reflect.ownKeys(s)}}class Xl extends fs{constructor(s=!1){super(!0,s)}set(s,l){return!0}deleteProperty(s,l){return!0}}const Yl=new ds,Ql=new Xl,ec=new ds(!0);const ai=r=>r,ar=r=>Reflect.getPrototypeOf(r);function tc(r,s,l){return function(...h){const m=this.__v_raw,S=ke(m),M=Nn(S),p=r==="entries"||r===Symbol.iterator&&M,E=r==="keys"&&M,H=m[r](...h),O=l?ai:s?oi:nt;return!s&&Qe(S,"iterate",E?ii:nn),{next(){const{value:d,done:c}=H.next();return c?{value:d,done:c}:{value:p?[O(d[0]),O(d[1])]:O(d),done:c}},[Symbol.iterator](){return this}}}}function sr(r){return function(...s){return r==="delete"?!1:r==="clear"?void 0:this}}function nc(r,s){const l={get(m){const S=this.__v_raw,M=ke(S),p=ke(m);r||(Jt(m,p)&&Qe(M,"get",m),Qe(M,"get",p));const{has:E}=ar(M),H=s?ai:r?oi:nt;if(E.call(M,m))return H(S.get(m));if(E.call(M,p))return H(S.get(p));S!==M&&S.get(m)},get size(){const m=this.__v_raw;return!r&&Qe(ke(m),"iterate",nn),m.size},has(m){const S=this.__v_raw,M=ke(S),p=ke(m);return r||(Jt(m,p)&&Qe(M,"has",m),Qe(M,"has",p)),m===p?S.has(m):S.has(m)||S.has(p)},forEach(m,S){const M=this,p=M.__v_raw,E=ke(p),H=s?ai:r?oi:nt;return!r&&Qe(E,"iterate",nn),p.forEach((O,d)=>m.call(S,H(O),H(d),M))}};return at(l,r?{add:sr("add"),set:sr("set"),delete:sr("delete"),clear:sr("clear")}:{add(m){!s&&!_t(m)&&!rn(m)&&(m=ke(m));const S=ke(this);return ar(S).has.call(S,m)||(S.add(m),Bt(S,"add",m,m)),this},set(m,S){!s&&!_t(S)&&!rn(S)&&(S=ke(S));const M=ke(this),{has:p,get:E}=ar(M);let H=p.call(M,m);H||(m=ke(m),H=p.call(M,m));const O=E.call(M,m);return M.set(m,S),H?Jt(S,O)&&Bt(M,"set",m,S):Bt(M,"add",m,S),this},delete(m){const S=ke(this),{has:M,get:p}=ar(S);let E=M.call(S,m);E||(m=ke(m),E=M.call(S,m)),p&&p.call(S,m);const H=S.delete(m);return E&&Bt(S,"delete",m,void 0),H},clear(){const m=ke(this),S=m.size!==0,M=m.clear();return S&&Bt(m,"clear",void 0,void 0),M}}),["keys","values","entries",Symbol.iterator].forEach(m=>{l[m]=tc(m,r,s)}),l}function Ti(r,s){const l=nc(r,s);return(h,m,S)=>m==="__v_isReactive"?!r:m==="__v_isReadonly"?r:m==="__v_raw"?h:Reflect.get(xe(l,m)&&m in h?l:h,m,S)}const rc={get:Ti(!1,!1)},ic={get:Ti(!1,!0)},ac={get:Ti(!0,!1)};const ps=new WeakMap,hs=new WeakMap,ms=new WeakMap,sc=new WeakMap;function oc(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lc(r){return r.__v_skip||!Object.isExtensible(r)?0:oc(Dl(r))}function Mi(r){return rn(r)?r:Li(r,!1,Yl,rc,ps)}function cc(r){return Li(r,!1,ec,ic,hs)}function si(r){return Li(r,!0,Ql,ac,ms)}function Li(r,s,l,h,m){if(!Fe(r)||r.__v_raw&&!(s&&r.__v_isReactive))return r;const S=lc(r);if(S===0)return r;const M=m.get(r);if(M)return M;const p=new Proxy(r,S===2?h:l);return m.set(r,p),p}function jn(r){return rn(r)?jn(r.__v_raw):!!(r&&r.__v_isReactive)}function rn(r){return!!(r&&r.__v_isReadonly)}function _t(r){return!!(r&&r.__v_isShallow)}function Ai(r){return r?!!r.__v_raw:!1}function ke(r){const s=r&&r.__v_raw;return s?ke(s):r}function uc(r){return!xe(r,"__v_skip")&&Object.isExtensible(r)&&es(r,"__v_skip",!0),r}const nt=r=>Fe(r)?Mi(r):r,oi=r=>Fe(r)?si(r):r;function et(r){return r?r.__v_isRef===!0:!1}function Sa(r){return fc(r,!1)}function fc(r,s){return et(r)?r:new dc(r,s)}class dc{constructor(s,l){this.dep=new Si,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=l?s:ke(s),this._value=l?s:nt(s),this.__v_isShallow=l}get value(){return this.dep.track(),this._value}set value(s){const l=this._rawValue,h=this.__v_isShallow||_t(s)||rn(s);s=h?s:ke(s),Jt(s,l)&&(this._rawValue=s,this._value=h?s:nt(s),this.dep.trigger())}}function pc(r){return et(r)?r.value:r}const hc={get:(r,s,l)=>s==="__v_raw"?r:pc(Reflect.get(r,s,l)),set:(r,s,l,h)=>{const m=r[s];return et(m)&&!et(l)?(m.value=l,!0):Reflect.set(r,s,l,h)}};function gs(r){return jn(r)?r:new Proxy(r,hc)}class mc{constructor(s,l,h){this.fn=s,this.setter=l,this._value=void 0,this.dep=new Si(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Wn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!l,this.isSSR=h}notify(){if(this.flags|=16,!(this.flags&8)&&Ie!==this)return is(this,!0),!0}get value(){const s=this.dep.track();return os(this),s&&(s.version=this.dep.version),this._value}set value(s){this.setter&&this.setter(s)}}function gc(r,s,l=!1){let h,m;return ve(r)?h=r:(h=r.get,m=r.set),new mc(h,m,l)}const or={},dr=new WeakMap;let tn;function yc(r,s=!1,l=tn){if(l){let h=dr.get(l);h||dr.set(l,h=[]),h.push(r)}}function bc(r,s,l=je){const{immediate:h,deep:m,once:S,scheduler:M,augmentJob:p,call:E}=l,H=T=>m?T:_t(T)||m===!1||m===0?$t(T,1):$t(T);let O,d,c,v,y=!1,_=!1;if(et(r)?(d=()=>r.value,y=_t(r)):jn(r)?(d=()=>H(r),y=!0):we(r)?(_=!0,y=r.some(T=>jn(T)||_t(T)),d=()=>r.map(T=>{if(et(T))return T.value;if(jn(T))return H(T);if(ve(T))return E?E(T,2):T()})):ve(r)?s?d=E?()=>E(r,2):r:d=()=>{if(c){Ut();try{c()}finally{Ft()}}const T=tn;tn=O;try{return E?E(r,3,[v]):r(v)}finally{tn=T}}:d=Ot,s&&m){const T=d,u=m===!0?1/0:m;d=()=>$t(T(),u)}const g=Kl(),k=()=>{O.stop(),g&&g.active&&gi(g.effects,O)};if(S&&s){const T=s;s=(...u)=>{T(...u),k()}}let L=_?new Array(r.length).fill(or):or;const A=T=>{if(!(!(O.flags&1)||!O.dirty&&!T))if(s){const u=O.run();if(m||y||(_?u.some((N,F)=>Jt(N,L[F])):Jt(u,L))){c&&c();const N=tn;tn=O;try{const F=[u,L===or?void 0:_&&L[0]===or?[]:L,v];L=u,E?E(s,3,F):s(...F)}finally{tn=N}}}else O.run()};return p&&p(A),O=new ns(d),O.scheduler=M?()=>M(A,!1):A,v=T=>yc(T,!1,O),c=O.onStop=()=>{const T=dr.get(O);if(T){if(E)E(T,4);else for(const u of T)u();dr.delete(O)}},s?h?A(!0):L=O.run():M?M(A.bind(null,!0),!0):O.run(),k.pause=O.pause.bind(O),k.resume=O.resume.bind(O),k.stop=k,k}function $t(r,s=1/0,l){if(s<=0||!Fe(r)||r.__v_skip||(l=l||new Map,(l.get(r)||0)>=s))return r;if(l.set(r,s),s--,et(r))$t(r.value,s,l);else if(we(r))for(let h=0;h<r.length;h++)$t(r[h],s,l);else if(xl(r)||Nn(r))r.forEach(h=>{$t(h,s,l)});else if(Hl(r)){for(const h in r)$t(r[h],s,l);for(const h of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,h)&&$t(r[h],s,l)}return r}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $n(r,s,l,h){try{return h?r(...h):r()}catch(m){_r(m,s,l)}}function Dt(r,s,l,h){if(ve(r)){const m=$n(r,s,l,h);return m&&Ya(m)&&m.catch(S=>{_r(S,s,l)}),m}if(we(r)){const m=[];for(let S=0;S<r.length;S++)m.push(Dt(r[S],s,l,h));return m}}function _r(r,s,l,h=!0){const m=s?s.vnode:null,{errorHandler:S,throwUnhandledErrorInProduction:M}=s&&s.appContext.config||je;if(s){let p=s.parent;const E=s.proxy,H=`https://vuejs.org/error-reference/#runtime-${l}`;for(;p;){const O=p.ec;if(O){for(let d=0;d<O.length;d++)if(O[d](r,E,H)===!1)return}p=p.parent}if(S){Ut(),$n(S,null,10,[r,E,H]),Ft();return}}wc(r,l,m,h,M)}function wc(r,s,l,h=!0,m=!1){if(m)throw r;console.error(r)}const rt=[];let At=-1;const wn=[];let Gt=null,yn=0;const ys=Promise.resolve();let pr=null;function vc(r){const s=pr||ys;return r?s.then(this?r.bind(this):r):s}function Ec(r){let s=At+1,l=rt.length;for(;s<l;){const h=s+l>>>1,m=rt[h],S=qn(m);S<r||S===r&&m.flags&2?s=h+1:l=h}return s}function ki(r){if(!(r.flags&1)){const s=qn(r),l=rt[rt.length-1];!l||!(r.flags&2)&&s>=qn(l)?rt.push(r):rt.splice(Ec(s),0,r),r.flags|=1,bs()}}function bs(){pr||(pr=ys.then(vs))}function _c(r){we(r)?wn.push(...r):Gt&&r.id===-1?Gt.splice(yn+1,0,r):r.flags&1||(wn.push(r),r.flags|=1),bs()}function Ca(r,s,l=At+1){for(;l<rt.length;l++){const h=rt[l];if(h&&h.flags&2){if(r&&h.id!==r.uid)continue;rt.splice(l,1),l--,h.flags&4&&(h.flags&=-2),h(),h.flags&4||(h.flags&=-2)}}}function ws(r){if(wn.length){const s=[...new Set(wn)].sort((l,h)=>qn(l)-qn(h));if(wn.length=0,Gt){Gt.push(...s);return}for(Gt=s,yn=0;yn<Gt.length;yn++){const l=Gt[yn];l.flags&4&&(l.flags&=-2),l.flags&8||l(),l.flags&=-2}Gt=null,yn=0}}const qn=r=>r.id==null?r.flags&2?-1:1/0:r.id;function vs(r){try{for(At=0;At<rt.length;At++){const s=rt[At];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),$n(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;At<rt.length;At++){const s=rt[At];s&&(s.flags&=-2)}At=-1,rt.length=0,ws(),pr=null,(rt.length||wn.length)&&vs()}}let xt=null,Es=null;function hr(r){const s=xt;return xt=r,Es=r&&r.type.__scopeId||null,s}function Sc(r,s=xt,l){if(!s||r._n)return r;const h=(...m)=>{h._d&&Na(-1);const S=hr(s);let M;try{M=r(...m)}finally{hr(S),h._d&&Na(1)}return M};return h._n=!0,h._c=!0,h._d=!0,h}function Qt(r,s,l,h){const m=r.dirs,S=s&&s.dirs;for(let M=0;M<m.length;M++){const p=m[M];S&&(p.oldValue=S[M].value);let E=p.dir[h];E&&(Ut(),Dt(E,l,8,[r.el,p,r,s]),Ft())}}const Cc=Symbol("_vte"),Tc=r=>r.__isTeleport,Mc=Symbol("_leaveCb");function xi(r,s){r.shapeFlag&6&&r.component?(r.transition=s,xi(r.component.subTree,s)):r.shapeFlag&128?(r.ssContent.transition=s.clone(r.ssContent),r.ssFallback.transition=s.clone(r.ssFallback)):r.transition=s}function _s(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}const mr=new WeakMap;function Bn(r,s,l,h,m=!1){if(we(r)){r.forEach((y,_)=>Bn(y,s&&(we(s)?s[_]:s),l,h,m));return}if(Un(h)&&!m){h.shapeFlag&512&&h.type.__asyncResolved&&h.component.subTree.component&&Bn(r,s,l,h.component.subTree);return}const S=h.shapeFlag&4?Ni(h.component):h.el,M=m?null:S,{i:p,r:E}=r,H=s&&s.r,O=p.refs===je?p.refs={}:p.refs,d=p.setupState,c=ke(d),v=d===je?Xa:y=>xe(c,y);if(H!=null&&H!==E){if(Ta(s),$e(H))O[H]=null,v(H)&&(d[H]=null);else if(et(H)){H.value=null;const y=s;y.k&&(O[y.k]=null)}}if(ve(E))$n(E,p,12,[M,O]);else{const y=$e(E),_=et(E);if(y||_){const g=()=>{if(r.f){const k=y?v(E)?d[E]:O[E]:E.value;if(m)we(k)&&gi(k,S);else if(we(k))k.includes(S)||k.push(S);else if(y)O[E]=[S],v(E)&&(d[E]=O[E]);else{const L=[S];E.value=L,r.k&&(O[r.k]=L)}}else y?(O[E]=M,v(E)&&(d[E]=M)):_&&(E.value=M,r.k&&(O[r.k]=M))};if(M){const k=()=>{g(),mr.delete(r)};k.id=-1,mr.set(r,k),ht(k,l)}else Ta(r),g()}}}function Ta(r){const s=mr.get(r);s&&(s.flags|=8,mr.delete(r))}Er().requestIdleCallback;Er().cancelIdleCallback;const Un=r=>!!r.type.__asyncLoader,Ss=r=>r.type.__isKeepAlive;function Lc(r,s){Cs(r,"a",s)}function Ac(r,s){Cs(r,"da",s)}function Cs(r,s,l=it){const h=r.__wdc||(r.__wdc=()=>{let m=l;for(;m;){if(m.isDeactivated)return;m=m.parent}return r()});if(Sr(s,h,l),l){let m=l.parent;for(;m&&m.parent;)Ss(m.parent.vnode)&&kc(h,s,l,m),m=m.parent}}function kc(r,s,l,h){const m=Sr(s,r,h,!0);Ms(()=>{gi(h[s],m)},l)}function Sr(r,s,l=it,h=!1){if(l){const m=l[r]||(l[r]=[]),S=s.__weh||(s.__weh=(...M)=>{Ut();const p=Jn(l),E=Dt(s,l,r,M);return p(),Ft(),E});return h?m.unshift(S):m.push(S),S}}const Vt=r=>(s,l=it)=>{(!zn||r==="sp")&&Sr(r,(...h)=>s(...h),l)},xc=Vt("bm"),Ts=Vt("m"),Oc=Vt("bu"),Dc=Vt("u"),Hc=Vt("bum"),Ms=Vt("um"),Nc=Vt("sp"),Rc=Vt("rtg"),Pc=Vt("rtc");function Ic(r,s=it){Sr("ec",r,s)}const jc=Symbol.for("v-ndc"),li=r=>r?$s(r)?Ni(r):li(r.parent):null,Fn=at(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>li(r.parent),$root:r=>li(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>As(r),$forceUpdate:r=>r.f||(r.f=()=>{ki(r.update)}),$nextTick:r=>r.n||(r.n=vc.bind(r.proxy)),$watch:r=>su.bind(r)}),Zr=(r,s)=>r!==je&&!r.__isScriptSetup&&xe(r,s),Bc={get({_:r},s){if(s==="__v_skip")return!0;const{ctx:l,setupState:h,data:m,props:S,accessCache:M,type:p,appContext:E}=r;let H;if(s[0]!=="$"){const v=M[s];if(v!==void 0)switch(v){case 1:return h[s];case 2:return m[s];case 4:return l[s];case 3:return S[s]}else{if(Zr(h,s))return M[s]=1,h[s];if(m!==je&&xe(m,s))return M[s]=2,m[s];if((H=r.propsOptions[0])&&xe(H,s))return M[s]=3,S[s];if(l!==je&&xe(l,s))return M[s]=4,l[s];ci&&(M[s]=0)}}const O=Fn[s];let d,c;if(O)return s==="$attrs"&&Qe(r.attrs,"get",""),O(r);if((d=p.__cssModules)&&(d=d[s]))return d;if(l!==je&&xe(l,s))return M[s]=4,l[s];if(c=E.config.globalProperties,xe(c,s))return c[s]},set({_:r},s,l){const{data:h,setupState:m,ctx:S}=r;return Zr(m,s)?(m[s]=l,!0):h!==je&&xe(h,s)?(h[s]=l,!0):xe(r.props,s)||s[0]==="$"&&s.slice(1)in r?!1:(S[s]=l,!0)},has({_:{data:r,setupState:s,accessCache:l,ctx:h,appContext:m,propsOptions:S,type:M}},p){let E,H;return!!(l[p]||r!==je&&p[0]!=="$"&&xe(r,p)||Zr(s,p)||(E=S[0])&&xe(E,p)||xe(h,p)||xe(Fn,p)||xe(m.config.globalProperties,p)||(H=M.__cssModules)&&H[p])},defineProperty(r,s,l){return l.get!=null?r._.accessCache[s]=0:xe(l,"value")&&this.set(r,s,l.value,null),Reflect.defineProperty(r,s,l)}};function Ma(r){return we(r)?r.reduce((s,l)=>(s[l]=null,s),{}):r}let ci=!0;function Uc(r){const s=As(r),l=r.proxy,h=r.ctx;ci=!1,s.beforeCreate&&La(s.beforeCreate,r,"bc");const{data:m,computed:S,methods:M,watch:p,provide:E,inject:H,created:O,beforeMount:d,mounted:c,beforeUpdate:v,updated:y,activated:_,deactivated:g,beforeDestroy:k,beforeUnmount:L,destroyed:A,unmounted:T,render:u,renderTracked:N,renderTriggered:F,errorCaptured:V,serverPrefetch:I,expose:J,inheritAttrs:ie,components:ue,directives:ye,filters:Se}=s;if(H&&Fc(H,h,null),M)for(const ge in M){const pe=M[ge];ve(pe)&&(h[ge]=pe.bind(l))}if(m){const ge=m.call(l,l);Fe(ge)&&(r.data=Mi(ge))}if(ci=!0,S)for(const ge in S){const pe=S[ge],He=ve(pe)?pe.bind(l,l):ve(pe.get)?pe.get.bind(l,l):Ot,Ke=!ve(pe)&&ve(pe.set)?pe.set.bind(l):Ot,Ne=xu({get:He,set:Ke});Object.defineProperty(h,ge,{enumerable:!0,configurable:!0,get:()=>Ne.value,set:P=>Ne.value=P})}if(p)for(const ge in p)Ls(p[ge],h,l,ge);if(E){const ge=ve(E)?E.call(l):E;Reflect.ownKeys(ge).forEach(pe=>{zc(pe,ge[pe])})}O&&La(O,r,"c");function Ce(ge,pe){we(pe)?pe.forEach(He=>ge(He.bind(l))):pe&&ge(pe.bind(l))}if(Ce(xc,d),Ce(Ts,c),Ce(Oc,v),Ce(Dc,y),Ce(Lc,_),Ce(Ac,g),Ce(Ic,V),Ce(Pc,N),Ce(Rc,F),Ce(Hc,L),Ce(Ms,T),Ce(Nc,I),we(J))if(J.length){const ge=r.exposed||(r.exposed={});J.forEach(pe=>{Object.defineProperty(ge,pe,{get:()=>l[pe],set:He=>l[pe]=He,enumerable:!0})})}else r.exposed||(r.exposed={});u&&r.render===Ot&&(r.render=u),ie!=null&&(r.inheritAttrs=ie),ue&&(r.components=ue),ye&&(r.directives=ye),I&&_s(r)}function Fc(r,s,l=Ot){we(r)&&(r=ui(r));for(const h in r){const m=r[h];let S;Fe(m)?"default"in m?S=lr(m.from||h,m.default,!0):S=lr(m.from||h):S=lr(m),et(S)?Object.defineProperty(s,h,{enumerable:!0,configurable:!0,get:()=>S.value,set:M=>S.value=M}):s[h]=S}}function La(r,s,l){Dt(we(r)?r.map(h=>h.bind(s.proxy)):r.bind(s.proxy),s,l)}function Ls(r,s,l,h){let m=h.includes(".")?Fs(l,h):()=>l[h];if($e(r)){const S=s[r];ve(S)&&Yr(m,S)}else if(ve(r))Yr(m,r.bind(l));else if(Fe(r))if(we(r))r.forEach(S=>Ls(S,s,l,h));else{const S=ve(r.handler)?r.handler.bind(l):s[r.handler];ve(S)&&Yr(m,S,r)}}function As(r){const s=r.type,{mixins:l,extends:h}=s,{mixins:m,optionsCache:S,config:{optionMergeStrategies:M}}=r.appContext,p=S.get(s);let E;return p?E=p:!m.length&&!l&&!h?E=s:(E={},m.length&&m.forEach(H=>gr(E,H,M,!0)),gr(E,s,M)),Fe(s)&&S.set(s,E),E}function gr(r,s,l,h=!1){const{mixins:m,extends:S}=s;S&&gr(r,S,l,!0),m&&m.forEach(M=>gr(r,M,l,!0));for(const M in s)if(!(h&&M==="expose")){const p=Vc[M]||l&&l[M];r[M]=p?p(r[M],s[M]):s[M]}return r}const Vc={data:Aa,props:ka,emits:ka,methods:Hn,computed:Hn,beforeCreate:tt,created:tt,beforeMount:tt,mounted:tt,beforeUpdate:tt,updated:tt,beforeDestroy:tt,beforeUnmount:tt,destroyed:tt,unmounted:tt,activated:tt,deactivated:tt,errorCaptured:tt,serverPrefetch:tt,components:Hn,directives:Hn,watch:Kc,provide:Aa,inject:Wc};function Aa(r,s){return s?r?function(){return at(ve(r)?r.call(this,this):r,ve(s)?s.call(this,this):s)}:s:r}function Wc(r,s){return Hn(ui(r),ui(s))}function ui(r){if(we(r)){const s={};for(let l=0;l<r.length;l++)s[r[l]]=r[l];return s}return r}function tt(r,s){return r?[...new Set([].concat(r,s))]:s}function Hn(r,s){return r?at(Object.create(null),r,s):s}function ka(r,s){return r?we(r)&&we(s)?[...new Set([...r,...s])]:at(Object.create(null),Ma(r),Ma(s??{})):s}function Kc(r,s){if(!r)return s;if(!s)return r;const l=at(Object.create(null),r);for(const h in s)l[h]=tt(r[h],s[h]);return l}function ks(){return{app:null,config:{isNativeTag:Xa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qc=0;function Gc(r,s){return function(h,m=null){ve(h)||(h=at({},h)),m!=null&&!Fe(m)&&(m=null);const S=ks(),M=new WeakSet,p=[];let E=!1;const H=S.app={_uid:qc++,_component:h,_props:m,_container:null,_context:S,_instance:null,version:Ou,get config(){return S.config},set config(O){},use(O,...d){return M.has(O)||(O&&ve(O.install)?(M.add(O),O.install(H,...d)):ve(O)&&(M.add(O),O(H,...d))),H},mixin(O){return S.mixins.includes(O)||S.mixins.push(O),H},component(O,d){return d?(S.components[O]=d,H):S.components[O]},directive(O,d){return d?(S.directives[O]=d,H):S.directives[O]},mount(O,d,c){if(!E){const v=H._ceVNode||Zt(h,m);return v.appContext=S,c===!0?c="svg":c===!1&&(c=void 0),r(v,O,c),E=!0,H._container=O,O.__vue_app__=H,Ni(v.component)}},onUnmount(O){p.push(O)},unmount(){E&&(Dt(p,H._instance,16),r(null,H._container),delete H._container.__vue_app__)},provide(O,d){return S.provides[O]=d,H},runWithContext(O){const d=vn;vn=H;try{return O()}finally{vn=d}}};return H}}let vn=null;function zc(r,s){if(it){let l=it.provides;const h=it.parent&&it.parent.provides;h===l&&(l=it.provides=Object.create(h)),l[r]=s}}function lr(r,s,l=!1){const h=Cu();if(h||vn){let m=vn?vn._context.provides:h?h.parent==null||h.ce?h.vnode.appContext&&h.vnode.appContext.provides:h.parent.provides:void 0;if(m&&r in m)return m[r];if(arguments.length>1)return l&&ve(s)?s.call(h&&h.proxy):s}}const xs={},Os=()=>Object.create(xs),Ds=r=>Object.getPrototypeOf(r)===xs;function $c(r,s,l,h=!1){const m={},S=Os();r.propsDefaults=Object.create(null),Hs(r,s,m,S);for(const M in r.propsOptions[0])M in m||(m[M]=void 0);l?r.props=h?m:cc(m):r.type.props?r.props=m:r.props=S,r.attrs=S}function Jc(r,s,l,h){const{props:m,attrs:S,vnode:{patchFlag:M}}=r,p=ke(m),[E]=r.propsOptions;let H=!1;if((h||M>0)&&!(M&16)){if(M&8){const O=r.vnode.dynamicProps;for(let d=0;d<O.length;d++){let c=O[d];if(Cr(r.emitsOptions,c))continue;const v=s[c];if(E)if(xe(S,c))v!==S[c]&&(S[c]=v,H=!0);else{const y=Xt(c);m[y]=fi(E,p,y,v,r,!1)}else v!==S[c]&&(S[c]=v,H=!0)}}}else{Hs(r,s,m,S)&&(H=!0);let O;for(const d in p)(!s||!xe(s,d)&&((O=an(d))===d||!xe(s,O)))&&(E?l&&(l[d]!==void 0||l[O]!==void 0)&&(m[d]=fi(E,p,d,void 0,r,!0)):delete m[d]);if(S!==p)for(const d in S)(!s||!xe(s,d))&&(delete S[d],H=!0)}H&&Bt(r.attrs,"set","")}function Hs(r,s,l,h){const[m,S]=r.propsOptions;let M=!1,p;if(s)for(let E in s){if(Rn(E))continue;const H=s[E];let O;m&&xe(m,O=Xt(E))?!S||!S.includes(O)?l[O]=H:(p||(p={}))[O]=H:Cr(r.emitsOptions,E)||(!(E in h)||H!==h[E])&&(h[E]=H,M=!0)}if(S){const E=ke(l),H=p||je;for(let O=0;O<S.length;O++){const d=S[O];l[d]=fi(m,E,d,H[d],r,!xe(H,d))}}return M}function fi(r,s,l,h,m,S){const M=r[l];if(M!=null){const p=xe(M,"default");if(p&&h===void 0){const E=M.default;if(M.type!==Function&&!M.skipFactory&&ve(E)){const{propsDefaults:H}=m;if(l in H)h=H[l];else{const O=Jn(m);h=H[l]=E.call(null,s),O()}}else h=E;m.ce&&m.ce._setProp(l,h)}M[0]&&(S&&!p?h=!1:M[1]&&(h===""||h===an(l))&&(h=!0))}return h}const Zc=new WeakMap;function Ns(r,s,l=!1){const h=l?Zc:s.propsCache,m=h.get(r);if(m)return m;const S=r.props,M={},p=[];let E=!1;if(!ve(r)){const O=d=>{E=!0;const[c,v]=Ns(d,s,!0);at(M,c),v&&p.push(...v)};!l&&s.mixins.length&&s.mixins.forEach(O),r.extends&&O(r.extends),r.mixins&&r.mixins.forEach(O)}if(!S&&!E)return Fe(r)&&h.set(r,bn),bn;if(we(S))for(let O=0;O<S.length;O++){const d=Xt(S[O]);xa(d)&&(M[d]=je)}else if(S)for(const O in S){const d=Xt(O);if(xa(d)){const c=S[O],v=M[d]=we(c)||ve(c)?{type:c}:at({},c),y=v.type;let _=!1,g=!0;if(we(y))for(let k=0;k<y.length;++k){const L=y[k],A=ve(L)&&L.name;if(A==="Boolean"){_=!0;break}else A==="String"&&(g=!1)}else _=ve(y)&&y.name==="Boolean";v[0]=_,v[1]=g,(_||xe(v,"default"))&&p.push(d)}}const H=[M,p];return Fe(r)&&h.set(r,H),H}function xa(r){return r[0]!=="$"&&!Rn(r)}const Oi=r=>r==="_"||r==="_ctx"||r==="$stable",Di=r=>we(r)?r.map(kt):[kt(r)],Xc=(r,s,l)=>{if(s._n)return s;const h=Sc((...m)=>Di(s(...m)),l);return h._c=!1,h},Rs=(r,s,l)=>{const h=r._ctx;for(const m in r){if(Oi(m))continue;const S=r[m];if(ve(S))s[m]=Xc(m,S,h);else if(S!=null){const M=Di(S);s[m]=()=>M}}},Ps=(r,s)=>{const l=Di(s);r.slots.default=()=>l},Is=(r,s,l)=>{for(const h in s)(l||!Oi(h))&&(r[h]=s[h])},Yc=(r,s,l)=>{const h=r.slots=Os();if(r.vnode.shapeFlag&32){const m=s._;m?(Is(h,s,l),l&&es(h,"_",m,!0)):Rs(s,h)}else s&&Ps(r,s)},Qc=(r,s,l)=>{const{vnode:h,slots:m}=r;let S=!0,M=je;if(h.shapeFlag&32){const p=s._;p?l&&p===1?S=!1:Is(m,s,l):(S=!s.$stable,Rs(s,m)),M=s}else s&&(Ps(r,s),M={default:1});if(S)for(const p in m)!Oi(p)&&M[p]==null&&delete m[p]},ht=hu;function eu(r){return tu(r)}function tu(r,s){const l=Er();l.__VUE__=!0;const{insert:h,remove:m,patchProp:S,createElement:M,createText:p,createComment:E,setText:H,setElementText:O,parentNode:d,nextSibling:c,setScopeId:v=Ot,insertStaticContent:y}=r,_=(x,R,B,K=null,U=null,W=null,ee=void 0,Y=null,te=!!R.dynamicChildren)=>{if(x===R)return;x&&!Dn(x,R)&&(K=z(x),P(x,U,W,!0),x=null),R.patchFlag===-2&&(te=!1,R.dynamicChildren=null);const{type:X,ref:he,shapeFlag:le}=R;switch(X){case Tr:g(x,R,B,K);break;case En:k(x,R,B,K);break;case Qr:x==null&&L(R,B,K,ee);break;case It:ue(x,R,B,K,U,W,ee,Y,te);break;default:le&1?u(x,R,B,K,U,W,ee,Y,te):le&6?ye(x,R,B,K,U,W,ee,Y,te):(le&64||le&128)&&X.process(x,R,B,K,U,W,ee,Y,te,Q)}he!=null&&U?Bn(he,x&&x.ref,W,R||x,!R):he==null&&x&&x.ref!=null&&Bn(x.ref,null,W,x,!0)},g=(x,R,B,K)=>{if(x==null)h(R.el=p(R.children),B,K);else{const U=R.el=x.el;R.children!==x.children&&H(U,R.children)}},k=(x,R,B,K)=>{x==null?h(R.el=E(R.children||""),B,K):R.el=x.el},L=(x,R,B,K)=>{[x.el,x.anchor]=y(x.children,R,B,K,x.el,x.anchor)},A=({el:x,anchor:R},B,K)=>{let U;for(;x&&x!==R;)U=c(x),h(x,B,K),x=U;h(R,B,K)},T=({el:x,anchor:R})=>{let B;for(;x&&x!==R;)B=c(x),m(x),x=B;m(R)},u=(x,R,B,K,U,W,ee,Y,te)=>{R.type==="svg"?ee="svg":R.type==="math"&&(ee="mathml"),x==null?N(R,B,K,U,W,ee,Y,te):I(x,R,U,W,ee,Y,te)},N=(x,R,B,K,U,W,ee,Y)=>{let te,X;const{props:he,shapeFlag:le,transition:de,dirs:oe}=x;if(te=x.el=M(x.type,W,he&&he.is,he),le&8?O(te,x.children):le&16&&V(x.children,te,null,K,U,Xr(x,W),ee,Y),oe&&Qt(x,null,K,"created"),F(te,x,x.scopeId,ee,K),he){for(const De in he)De!=="value"&&!Rn(De)&&S(te,De,null,he[De],W,K);"value"in he&&S(te,"value",null,he.value,W),(X=he.onVnodeBeforeMount)&&Lt(X,K,x)}oe&&Qt(x,null,K,"beforeMount");const Te=nu(U,de);Te&&de.beforeEnter(te),h(te,R,B),((X=he&&he.onVnodeMounted)||Te||oe)&&ht(()=>{X&&Lt(X,K,x),Te&&de.enter(te),oe&&Qt(x,null,K,"mounted")},U)},F=(x,R,B,K,U)=>{if(B&&v(x,B),K)for(let W=0;W<K.length;W++)v(x,K[W]);if(U){let W=U.subTree;if(R===W||Ws(W.type)&&(W.ssContent===R||W.ssFallback===R)){const ee=U.vnode;F(x,ee,ee.scopeId,ee.slotScopeIds,U.parent)}}},V=(x,R,B,K,U,W,ee,Y,te=0)=>{for(let X=te;X<x.length;X++){const he=x[X]=Y?zt(x[X]):kt(x[X]);_(null,he,R,B,K,U,W,ee,Y)}},I=(x,R,B,K,U,W,ee)=>{const Y=R.el=x.el;let{patchFlag:te,dynamicChildren:X,dirs:he}=R;te|=x.patchFlag&16;const le=x.props||je,de=R.props||je;let oe;if(B&&en(B,!1),(oe=de.onVnodeBeforeUpdate)&&Lt(oe,B,R,x),he&&Qt(R,x,B,"beforeUpdate"),B&&en(B,!0),(le.innerHTML&&de.innerHTML==null||le.textContent&&de.textContent==null)&&O(Y,""),X?J(x.dynamicChildren,X,Y,B,K,Xr(R,U),W):ee||pe(x,R,Y,null,B,K,Xr(R,U),W,!1),te>0){if(te&16)ie(Y,le,de,B,U);else if(te&2&&le.class!==de.class&&S(Y,"class",null,de.class,U),te&4&&S(Y,"style",le.style,de.style,U),te&8){const Te=R.dynamicProps;for(let De=0;De<Te.length;De++){const Le=Te[De],Je=le[Le],Ye=de[Le];(Ye!==Je||Le==="value")&&S(Y,Le,Je,Ye,U,B)}}te&1&&x.children!==R.children&&O(Y,R.children)}else!ee&&X==null&&ie(Y,le,de,B,U);((oe=de.onVnodeUpdated)||he)&&ht(()=>{oe&&Lt(oe,B,R,x),he&&Qt(R,x,B,"updated")},K)},J=(x,R,B,K,U,W,ee)=>{for(let Y=0;Y<R.length;Y++){const te=x[Y],X=R[Y],he=te.el&&(te.type===It||!Dn(te,X)||te.shapeFlag&198)?d(te.el):B;_(te,X,he,null,K,U,W,ee,!0)}},ie=(x,R,B,K,U)=>{if(R!==B){if(R!==je)for(const W in R)!Rn(W)&&!(W in B)&&S(x,W,R[W],null,U,K);for(const W in B){if(Rn(W))continue;const ee=B[W],Y=R[W];ee!==Y&&W!=="value"&&S(x,W,Y,ee,U,K)}"value"in B&&S(x,"value",R.value,B.value,U)}},ue=(x,R,B,K,U,W,ee,Y,te)=>{const X=R.el=x?x.el:p(""),he=R.anchor=x?x.anchor:p("");let{patchFlag:le,dynamicChildren:de,slotScopeIds:oe}=R;oe&&(Y=Y?Y.concat(oe):oe),x==null?(h(X,B,K),h(he,B,K),V(R.children||[],B,he,U,W,ee,Y,te)):le>0&&le&64&&de&&x.dynamicChildren?(J(x.dynamicChildren,de,B,U,W,ee,Y),(R.key!=null||U&&R===U.subTree)&&js(x,R,!0)):pe(x,R,B,he,U,W,ee,Y,te)},ye=(x,R,B,K,U,W,ee,Y,te)=>{R.slotScopeIds=Y,x==null?R.shapeFlag&512?U.ctx.activate(R,B,K,ee,te):Se(R,B,K,U,W,ee,te):Ae(x,R,te)},Se=(x,R,B,K,U,W,ee)=>{const Y=x.component=Su(x,K,U);if(Ss(x)&&(Y.ctx.renderer=Q),Tu(Y,!1,ee),Y.asyncDep){if(U&&U.registerDep(Y,Ce,ee),!x.el){const te=Y.subTree=Zt(En);k(null,te,R,B),x.placeholder=te.el}}else Ce(Y,x,R,B,U,W,ee)},Ae=(x,R,B)=>{const K=R.component=x.component;if(du(x,R,B))if(K.asyncDep&&!K.asyncResolved){ge(K,R,B);return}else K.next=R,K.update();else R.el=x.el,K.vnode=R},Ce=(x,R,B,K,U,W,ee)=>{const Y=()=>{if(x.isMounted){let{next:le,bu:de,u:oe,parent:Te,vnode:De}=x;{const ot=Bs(x);if(ot){le&&(le.el=De.el,ge(x,le,ee)),ot.asyncDep.then(()=>{x.isUnmounted||Y()});return}}let Le=le,Je;en(x,!1),le?(le.el=De.el,ge(x,le,ee)):le=De,de&&Gr(de),(Je=le.props&&le.props.onVnodeBeforeUpdate)&&Lt(Je,Te,le,De),en(x,!0);const Ye=Da(x),gt=x.subTree;x.subTree=Ye,_(gt,Ye,d(gt.el),z(gt),x,U,W),le.el=Ye.el,Le===null&&pu(x,Ye.el),oe&&ht(oe,U),(Je=le.props&&le.props.onVnodeUpdated)&&ht(()=>Lt(Je,Te,le,De),U)}else{let le;const{el:de,props:oe}=R,{bm:Te,m:De,parent:Le,root:Je,type:Ye}=x,gt=Un(R);en(x,!1),Te&&Gr(Te),!gt&&(le=oe&&oe.onVnodeBeforeMount)&&Lt(le,Le,R),en(x,!0);{Je.ce&&Je.ce._def.shadowRoot!==!1&&Je.ce._injectChildStyle(Ye);const ot=x.subTree=Da(x);_(null,ot,B,K,x,U,W),R.el=ot.el}if(De&&ht(De,U),!gt&&(le=oe&&oe.onVnodeMounted)){const ot=R;ht(()=>Lt(le,Le,ot),U)}(R.shapeFlag&256||Le&&Un(Le.vnode)&&Le.vnode.shapeFlag&256)&&x.a&&ht(x.a,U),x.isMounted=!0,R=B=K=null}};x.scope.on();const te=x.effect=new ns(Y);x.scope.off();const X=x.update=te.run.bind(te),he=x.job=te.runIfDirty.bind(te);he.i=x,he.id=x.uid,te.scheduler=()=>ki(he),en(x,!0),X()},ge=(x,R,B)=>{R.component=x;const K=x.vnode.props;x.vnode=R,x.next=null,Jc(x,R.props,K,B),Qc(x,R.children,B),Ut(),Ca(x),Ft()},pe=(x,R,B,K,U,W,ee,Y,te=!1)=>{const X=x&&x.children,he=x?x.shapeFlag:0,le=R.children,{patchFlag:de,shapeFlag:oe}=R;if(de>0){if(de&128){Ke(X,le,B,K,U,W,ee,Y,te);return}else if(de&256){He(X,le,B,K,U,W,ee,Y,te);return}}oe&8?(he&16&&st(X,U,W),le!==X&&O(B,le)):he&16?oe&16?Ke(X,le,B,K,U,W,ee,Y,te):st(X,U,W,!0):(he&8&&O(B,""),oe&16&&V(le,B,K,U,W,ee,Y,te))},He=(x,R,B,K,U,W,ee,Y,te)=>{x=x||bn,R=R||bn;const X=x.length,he=R.length,le=Math.min(X,he);let de;for(de=0;de<le;de++){const oe=R[de]=te?zt(R[de]):kt(R[de]);_(x[de],oe,B,null,U,W,ee,Y,te)}X>he?st(x,U,W,!0,!1,le):V(R,B,K,U,W,ee,Y,te,le)},Ke=(x,R,B,K,U,W,ee,Y,te)=>{let X=0;const he=R.length;let le=x.length-1,de=he-1;for(;X<=le&&X<=de;){const oe=x[X],Te=R[X]=te?zt(R[X]):kt(R[X]);if(Dn(oe,Te))_(oe,Te,B,null,U,W,ee,Y,te);else break;X++}for(;X<=le&&X<=de;){const oe=x[le],Te=R[de]=te?zt(R[de]):kt(R[de]);if(Dn(oe,Te))_(oe,Te,B,null,U,W,ee,Y,te);else break;le--,de--}if(X>le){if(X<=de){const oe=de+1,Te=oe<he?R[oe].el:K;for(;X<=de;)_(null,R[X]=te?zt(R[X]):kt(R[X]),B,Te,U,W,ee,Y,te),X++}}else if(X>de)for(;X<=le;)P(x[X],U,W,!0),X++;else{const oe=X,Te=X,De=new Map;for(X=Te;X<=de;X++){const qe=R[X]=te?zt(R[X]):kt(R[X]);qe.key!=null&&De.set(qe.key,X)}let Le,Je=0;const Ye=de-Te+1;let gt=!1,ot=0;const St=new Array(Ye);for(X=0;X<Ye;X++)St[X]=0;for(X=oe;X<=le;X++){const qe=x[X];if(Je>=Ye){P(qe,U,W,!0);continue}let yt;if(qe.key!=null)yt=De.get(qe.key);else for(Le=Te;Le<=de;Le++)if(St[Le-Te]===0&&Dn(qe,R[Le])){yt=Le;break}yt===void 0?P(qe,U,W,!0):(St[yt-Te]=X+1,yt>=ot?ot=yt:gt=!0,_(qe,R[yt],B,null,U,W,ee,Y,te),Je++)}const ln=gt?ru(St):bn;for(Le=ln.length-1,X=Ye-1;X>=0;X--){const qe=Te+X,yt=R[qe],Ze=R[qe+1],Ct=qe+1<he?Ze.el||Ze.placeholder:K;St[X]===0?_(null,yt,B,Ct,U,W,ee,Y,te):gt&&(Le<0||X!==ln[Le]?Ne(yt,B,Ct,2):Le--)}}},Ne=(x,R,B,K,U=null)=>{const{el:W,type:ee,transition:Y,children:te,shapeFlag:X}=x;if(X&6){Ne(x.component.subTree,R,B,K);return}if(X&128){x.suspense.move(R,B,K);return}if(X&64){ee.move(x,R,B,Q);return}if(ee===It){h(W,R,B);for(let le=0;le<te.length;le++)Ne(te[le],R,B,K);h(x.anchor,R,B);return}if(ee===Qr){A(x,R,B);return}if(K!==2&&X&1&&Y)if(K===0)Y.beforeEnter(W),h(W,R,B),ht(()=>Y.enter(W),U);else{const{leave:le,delayLeave:de,afterLeave:oe}=Y,Te=()=>{x.ctx.isUnmounted?m(W):h(W,R,B)},De=()=>{W._isLeaving&&W[Mc](!0),le(W,()=>{Te(),oe&&oe()})};de?de(W,Te,De):De()}else h(W,R,B)},P=(x,R,B,K=!1,U=!1)=>{const{type:W,props:ee,ref:Y,children:te,dynamicChildren:X,shapeFlag:he,patchFlag:le,dirs:de,cacheIndex:oe}=x;if(le===-2&&(U=!1),Y!=null&&(Ut(),Bn(Y,null,B,x,!0),Ft()),oe!=null&&(R.renderCache[oe]=void 0),he&256){R.ctx.deactivate(x);return}const Te=he&1&&de,De=!Un(x);let Le;if(De&&(Le=ee&&ee.onVnodeBeforeUnmount)&&Lt(Le,R,x),he&6)on(x.component,B,K);else{if(he&128){x.suspense.unmount(B,K);return}Te&&Qt(x,null,R,"beforeUnmount"),he&64?x.type.remove(x,R,B,Q,K):X&&!X.hasOnce&&(W!==It||le>0&&le&64)?st(X,R,B,!1,!0):(W===It&&le&384||!U&&he&16)&&st(te,R,B),K&&ft(x)}(De&&(Le=ee&&ee.onVnodeUnmounted)||Te)&&ht(()=>{Le&&Lt(Le,R,x),Te&&Qt(x,null,R,"unmounted")},B)},ft=x=>{const{type:R,el:B,anchor:K,transition:U}=x;if(R===It){sn(B,K);return}if(R===Qr){T(x);return}const W=()=>{m(B),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(x.shapeFlag&1&&U&&!U.persisted){const{leave:ee,delayLeave:Y}=U,te=()=>ee(B,W);Y?Y(x.el,W,te):te()}else W()},sn=(x,R)=>{let B;for(;x!==R;)B=c(x),m(x),x=B;m(R)},on=(x,R,B)=>{const{bum:K,scope:U,job:W,subTree:ee,um:Y,m:te,a:X}=x;Oa(te),Oa(X),K&&Gr(K),U.stop(),W&&(W.flags|=8,P(ee,x,R,B)),Y&&ht(Y,R),ht(()=>{x.isUnmounted=!0},R)},st=(x,R,B,K=!1,U=!1,W=0)=>{for(let ee=W;ee<x.length;ee++)P(x[ee],R,B,K,U)},z=x=>{if(x.shapeFlag&6)return z(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const R=c(x.anchor||x.el),B=R&&R[Cc];return B?c(B):R};let Me=!1;const ae=(x,R,B)=>{x==null?R._vnode&&P(R._vnode,null,null,!0):_(R._vnode||null,x,R,null,null,null,B),R._vnode=x,Me||(Me=!0,Ca(),ws(),Me=!1)},Q={p:_,um:P,m:Ne,r:ft,mt:Se,mc:V,pc:pe,pbc:J,n:z,o:r};return{render:ae,hydrate:void 0,createApp:Gc(ae)}}function Xr({type:r,props:s},l){return l==="svg"&&r==="foreignObject"||l==="mathml"&&r==="annotation-xml"&&s&&s.encoding&&s.encoding.includes("html")?void 0:l}function en({effect:r,job:s},l){l?(r.flags|=32,s.flags|=4):(r.flags&=-33,s.flags&=-5)}function nu(r,s){return(!r||r&&!r.pendingBranch)&&s&&!s.persisted}function js(r,s,l=!1){const h=r.children,m=s.children;if(we(h)&&we(m))for(let S=0;S<h.length;S++){const M=h[S];let p=m[S];p.shapeFlag&1&&!p.dynamicChildren&&((p.patchFlag<=0||p.patchFlag===32)&&(p=m[S]=zt(m[S]),p.el=M.el),!l&&p.patchFlag!==-2&&js(M,p)),p.type===Tr&&p.patchFlag!==-1&&(p.el=M.el),p.type===En&&!p.el&&(p.el=M.el)}}function ru(r){const s=r.slice(),l=[0];let h,m,S,M,p;const E=r.length;for(h=0;h<E;h++){const H=r[h];if(H!==0){if(m=l[l.length-1],r[m]<H){s[h]=m,l.push(h);continue}for(S=0,M=l.length-1;S<M;)p=S+M>>1,r[l[p]]<H?S=p+1:M=p;H<r[l[S]]&&(S>0&&(s[h]=l[S-1]),l[S]=h)}}for(S=l.length,M=l[S-1];S-- >0;)l[S]=M,M=s[M];return l}function Bs(r){const s=r.subTree.component;if(s)return s.asyncDep&&!s.asyncResolved?s:Bs(s)}function Oa(r){if(r)for(let s=0;s<r.length;s++)r[s].flags|=8}const iu=Symbol.for("v-scx"),au=()=>lr(iu);function Yr(r,s,l){return Us(r,s,l)}function Us(r,s,l=je){const{immediate:h,deep:m,flush:S,once:M}=l,p=at({},l),E=s&&h||!s&&S!=="post";let H;if(zn){if(S==="sync"){const v=au();H=v.__watcherHandles||(v.__watcherHandles=[])}else if(!E){const v=()=>{};return v.stop=Ot,v.resume=Ot,v.pause=Ot,v}}const O=it;p.call=(v,y,_)=>Dt(v,O,y,_);let d=!1;S==="post"?p.scheduler=v=>{ht(v,O&&O.suspense)}:S!=="sync"&&(d=!0,p.scheduler=(v,y)=>{y?v():ki(v)}),p.augmentJob=v=>{s&&(v.flags|=4),d&&(v.flags|=2,O&&(v.id=O.uid,v.i=O))};const c=bc(r,s,p);return zn&&(H?H.push(c):E&&c()),c}function su(r,s,l){const h=this.proxy,m=$e(r)?r.includes(".")?Fs(h,r):()=>h[r]:r.bind(h,h);let S;ve(s)?S=s:(S=s.handler,l=s);const M=Jn(this),p=Us(m,S.bind(h),l);return M(),p}function Fs(r,s){const l=s.split(".");return()=>{let h=r;for(let m=0;m<l.length&&h;m++)h=h[l[m]];return h}}const ou=(r,s)=>s==="modelValue"||s==="model-value"?r.modelModifiers:r[`${s}Modifiers`]||r[`${Xt(s)}Modifiers`]||r[`${an(s)}Modifiers`];function lu(r,s,...l){if(r.isUnmounted)return;const h=r.vnode.props||je;let m=l;const S=s.startsWith("update:"),M=S&&ou(h,s.slice(7));M&&(M.trim&&(m=l.map(O=>$e(O)?O.trim():O)),M.number&&(m=l.map(Pl)));let p,E=h[p=qr(s)]||h[p=qr(Xt(s))];!E&&S&&(E=h[p=qr(an(s))]),E&&Dt(E,r,6,m);const H=h[p+"Once"];if(H){if(!r.emitted)r.emitted={};else if(r.emitted[p])return;r.emitted[p]=!0,Dt(H,r,6,m)}}const cu=new WeakMap;function Vs(r,s,l=!1){const h=l?cu:s.emitsCache,m=h.get(r);if(m!==void 0)return m;const S=r.emits;let M={},p=!1;if(!ve(r)){const E=H=>{const O=Vs(H,s,!0);O&&(p=!0,at(M,O))};!l&&s.mixins.length&&s.mixins.forEach(E),r.extends&&E(r.extends),r.mixins&&r.mixins.forEach(E)}return!S&&!p?(Fe(r)&&h.set(r,null),null):(we(S)?S.forEach(E=>M[E]=null):at(M,S),Fe(r)&&h.set(r,M),M)}function Cr(r,s){return!r||!br(s)?!1:(s=s.slice(2).replace(/Once$/,""),xe(r,s[0].toLowerCase()+s.slice(1))||xe(r,an(s))||xe(r,s))}function Da(r){const{type:s,vnode:l,proxy:h,withProxy:m,propsOptions:[S],slots:M,attrs:p,emit:E,render:H,renderCache:O,props:d,data:c,setupState:v,ctx:y,inheritAttrs:_}=r,g=hr(r);let k,L;try{if(l.shapeFlag&4){const T=m||h,u=T;k=kt(H.call(u,T,O,d,v,c,y)),L=p}else{const T=s;k=kt(T.length>1?T(d,{attrs:p,slots:M,emit:E}):T(d,null)),L=s.props?p:uu(p)}}catch(T){Vn.length=0,_r(T,r,1),k=Zt(En)}let A=k;if(L&&_!==!1){const T=Object.keys(L),{shapeFlag:u}=A;T.length&&u&7&&(S&&T.some(mi)&&(L=fu(L,S)),A=_n(A,L,!1,!0))}return l.dirs&&(A=_n(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(l.dirs):l.dirs),l.transition&&xi(A,l.transition),k=A,hr(g),k}const uu=r=>{let s;for(const l in r)(l==="class"||l==="style"||br(l))&&((s||(s={}))[l]=r[l]);return s},fu=(r,s)=>{const l={};for(const h in r)(!mi(h)||!(h.slice(9)in s))&&(l[h]=r[h]);return l};function du(r,s,l){const{props:h,children:m,component:S}=r,{props:M,children:p,patchFlag:E}=s,H=S.emitsOptions;if(s.dirs||s.transition)return!0;if(l&&E>=0){if(E&1024)return!0;if(E&16)return h?Ha(h,M,H):!!M;if(E&8){const O=s.dynamicProps;for(let d=0;d<O.length;d++){const c=O[d];if(M[c]!==h[c]&&!Cr(H,c))return!0}}}else return(m||p)&&(!p||!p.$stable)?!0:h===M?!1:h?M?Ha(h,M,H):!0:!!M;return!1}function Ha(r,s,l){const h=Object.keys(s);if(h.length!==Object.keys(r).length)return!0;for(let m=0;m<h.length;m++){const S=h[m];if(s[S]!==r[S]&&!Cr(l,S))return!0}return!1}function pu({vnode:r,parent:s},l){for(;s;){const h=s.subTree;if(h.suspense&&h.suspense.activeBranch===r&&(h.el=r.el),h===r)(r=s.vnode).el=l,s=s.parent;else break}}const Ws=r=>r.__isSuspense;function hu(r,s){s&&s.pendingBranch?we(r)?s.effects.push(...r):s.effects.push(r):_c(r)}const It=Symbol.for("v-fgt"),Tr=Symbol.for("v-txt"),En=Symbol.for("v-cmt"),Qr=Symbol.for("v-stc"),Vn=[];let mt=null;function Ks(r=!1){Vn.push(mt=r?null:[])}function mu(){Vn.pop(),mt=Vn[Vn.length-1]||null}let Gn=1;function Na(r,s=!1){Gn+=r,r<0&&mt&&s&&(mt.hasOnce=!0)}function gu(r){return r.dynamicChildren=Gn>0?mt||bn:null,mu(),Gn>0&&mt&&mt.push(r),r}function qs(r,s,l,h,m,S){return gu(jt(r,s,l,h,m,S,!0))}function Gs(r){return r?r.__v_isVNode===!0:!1}function Dn(r,s){return r.type===s.type&&r.key===s.key}const zs=({key:r})=>r??null,cr=({ref:r,ref_key:s,ref_for:l})=>(typeof r=="number"&&(r=""+r),r!=null?$e(r)||et(r)||ve(r)?{i:xt,r,k:s,f:!!l}:r:null);function jt(r,s=null,l=null,h=0,m=null,S=r===It?0:1,M=!1,p=!1){const E={__v_isVNode:!0,__v_skip:!0,type:r,props:s,key:s&&zs(s),ref:s&&cr(s),scopeId:Es,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:S,patchFlag:h,dynamicProps:m,dynamicChildren:null,appContext:null,ctx:xt};return p?(Hi(E,l),S&128&&r.normalize(E)):l&&(E.shapeFlag|=$e(l)?8:16),Gn>0&&!M&&mt&&(E.patchFlag>0||S&6)&&E.patchFlag!==32&&mt.push(E),E}const Zt=yu;function yu(r,s=null,l=null,h=0,m=null,S=!1){if((!r||r===jc)&&(r=En),Gs(r)){const p=_n(r,s,!0);return l&&Hi(p,l),Gn>0&&!S&&mt&&(p.shapeFlag&6?mt[mt.indexOf(r)]=p:mt.push(p)),p.patchFlag=-2,p}if(ku(r)&&(r=r.__vccOpts),s){s=bu(s);let{class:p,style:E}=s;p&&!$e(p)&&(s.class=wi(p)),Fe(E)&&(Ai(E)&&!we(E)&&(E=at({},E)),s.style=bi(E))}const M=$e(r)?1:Ws(r)?128:Tc(r)?64:Fe(r)?4:ve(r)?2:0;return jt(r,s,l,h,m,M,S,!0)}function bu(r){return r?Ai(r)||Ds(r)?at({},r):r:null}function _n(r,s,l=!1,h=!1){const{props:m,ref:S,patchFlag:M,children:p,transition:E}=r,H=s?vu(m||{},s):m,O={__v_isVNode:!0,__v_skip:!0,type:r.type,props:H,key:H&&zs(H),ref:s&&s.ref?l&&S?we(S)?S.concat(cr(s)):[S,cr(s)]:cr(s):S,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:p,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:s&&r.type!==It?M===-1?16:M|16:M,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:E,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&_n(r.ssContent),ssFallback:r.ssFallback&&_n(r.ssFallback),placeholder:r.placeholder,el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return E&&h&&xi(O,E.clone(O)),O}function wu(r=" ",s=0){return Zt(Tr,null,r,s)}function kt(r){return r==null||typeof r=="boolean"?Zt(En):we(r)?Zt(It,null,r.slice()):Gs(r)?zt(r):Zt(Tr,null,String(r))}function zt(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:_n(r)}function Hi(r,s){let l=0;const{shapeFlag:h}=r;if(s==null)s=null;else if(we(s))l=16;else if(typeof s=="object")if(h&65){const m=s.default;m&&(m._c&&(m._d=!1),Hi(r,m()),m._c&&(m._d=!0));return}else{l=32;const m=s._;!m&&!Ds(s)?s._ctx=xt:m===3&&xt&&(xt.slots._===1?s._=1:(s._=2,r.patchFlag|=1024))}else ve(s)?(s={default:s,_ctx:xt},l=32):(s=String(s),h&64?(l=16,s=[wu(s)]):l=8);r.children=s,r.shapeFlag|=l}function vu(...r){const s={};for(let l=0;l<r.length;l++){const h=r[l];for(const m in h)if(m==="class")s.class!==h.class&&(s.class=wi([s.class,h.class]));else if(m==="style")s.style=bi([s.style,h.style]);else if(br(m)){const S=s[m],M=h[m];M&&S!==M&&!(we(S)&&S.includes(M))&&(s[m]=S?[].concat(S,M):M)}else m!==""&&(s[m]=h[m])}return s}function Lt(r,s,l,h=null){Dt(r,s,7,[l,h])}const Eu=ks();let _u=0;function Su(r,s,l){const h=r.type,m=(s?s.appContext:r.appContext)||Eu,S={uid:_u++,vnode:r,type:h,parent:s,appContext:m,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Wl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(m.provides),ids:s?s.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ns(h,m),emitsOptions:Vs(h,m),emit:null,emitted:null,propsDefaults:je,inheritAttrs:h.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return S.ctx={_:S},S.root=s?s.root:S,S.emit=lu.bind(null,S),r.ce&&r.ce(S),S}let it=null;const Cu=()=>it||xt;let yr,di;{const r=Er(),s=(l,h)=>{let m;return(m=r[l])||(m=r[l]=[]),m.push(h),S=>{m.length>1?m.forEach(M=>M(S)):m[0](S)}};yr=s("__VUE_INSTANCE_SETTERS__",l=>it=l),di=s("__VUE_SSR_SETTERS__",l=>zn=l)}const Jn=r=>{const s=it;return yr(r),r.scope.on(),()=>{r.scope.off(),yr(s)}},Ra=()=>{it&&it.scope.off(),yr(null)};function $s(r){return r.vnode.shapeFlag&4}let zn=!1;function Tu(r,s=!1,l=!1){s&&di(s);const{props:h,children:m}=r.vnode,S=$s(r);$c(r,h,S,s),Yc(r,m,l||s);const M=S?Mu(r,s):void 0;return s&&di(!1),M}function Mu(r,s){const l=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,Bc);const{setup:h}=l;if(h){Ut();const m=r.setupContext=h.length>1?Au(r):null,S=Jn(r),M=$n(h,r,0,[r.props,m]),p=Ya(M);if(Ft(),S(),(p||r.sp)&&!Un(r)&&_s(r),p){if(M.then(Ra,Ra),s)return M.then(E=>{Pa(r,E)}).catch(E=>{_r(E,r,0)});r.asyncDep=M}else Pa(r,M)}else Js(r)}function Pa(r,s,l){ve(s)?r.type.__ssrInlineRender?r.ssrRender=s:r.render=s:Fe(s)&&(r.setupState=gs(s)),Js(r)}function Js(r,s,l){const h=r.type;r.render||(r.render=h.render||Ot);{const m=Jn(r);Ut();try{Uc(r)}finally{Ft(),m()}}}const Lu={get(r,s){return Qe(r,"get",""),r[s]}};function Au(r){const s=l=>{r.exposed=l||{}};return{attrs:new Proxy(r.attrs,Lu),slots:r.slots,emit:r.emit,expose:s}}function Ni(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(gs(uc(r.exposed)),{get(s,l){if(l in s)return s[l];if(l in Fn)return Fn[l](r)},has(s,l){return l in s||l in Fn}})):r.proxy}function ku(r){return ve(r)&&"__vccOpts"in r}const xu=(r,s)=>gc(r,s,zn),Ou="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pi;const Ia=typeof window<"u"&&window.trustedTypes;if(Ia)try{pi=Ia.createPolicy("vue",{createHTML:r=>r})}catch{}const Zs=pi?r=>pi.createHTML(r):r=>r,Du="http://www.w3.org/2000/svg",Hu="http://www.w3.org/1998/Math/MathML",Pt=typeof document<"u"?document:null,ja=Pt&&Pt.createElement("template"),Nu={insert:(r,s,l)=>{s.insertBefore(r,l||null)},remove:r=>{const s=r.parentNode;s&&s.removeChild(r)},createElement:(r,s,l,h)=>{const m=s==="svg"?Pt.createElementNS(Du,r):s==="mathml"?Pt.createElementNS(Hu,r):l?Pt.createElement(r,{is:l}):Pt.createElement(r);return r==="select"&&h&&h.multiple!=null&&m.setAttribute("multiple",h.multiple),m},createText:r=>Pt.createTextNode(r),createComment:r=>Pt.createComment(r),setText:(r,s)=>{r.nodeValue=s},setElementText:(r,s)=>{r.textContent=s},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Pt.querySelector(r),setScopeId(r,s){r.setAttribute(s,"")},insertStaticContent(r,s,l,h,m,S){const M=l?l.previousSibling:s.lastChild;if(m&&(m===S||m.nextSibling))for(;s.insertBefore(m.cloneNode(!0),l),!(m===S||!(m=m.nextSibling)););else{ja.innerHTML=Zs(h==="svg"?`<svg>${r}</svg>`:h==="mathml"?`<math>${r}</math>`:r);const p=ja.content;if(h==="svg"||h==="mathml"){const E=p.firstChild;for(;E.firstChild;)p.appendChild(E.firstChild);p.removeChild(E)}s.insertBefore(p,l)}return[M?M.nextSibling:s.firstChild,l?l.previousSibling:s.lastChild]}},Ru=Symbol("_vtc");function Pu(r,s,l){const h=r[Ru];h&&(s=(s?[s,...h]:[...h]).join(" ")),s==null?r.removeAttribute("class"):l?r.setAttribute("class",s):r.className=s}const Ba=Symbol("_vod"),Iu=Symbol("_vsh"),ju=Symbol(""),Bu=/(?:^|;)\s*display\s*:/;function Uu(r,s,l){const h=r.style,m=$e(l);let S=!1;if(l&&!m){if(s)if($e(s))for(const M of s.split(";")){const p=M.slice(0,M.indexOf(":")).trim();l[p]==null&&ur(h,p,"")}else for(const M in s)l[M]==null&&ur(h,M,"");for(const M in l)M==="display"&&(S=!0),ur(h,M,l[M])}else if(m){if(s!==l){const M=h[ju];M&&(l+=";"+M),h.cssText=l,S=Bu.test(l)}}else s&&r.removeAttribute("style");Ba in r&&(r[Ba]=S?h.display:"",r[Iu]&&(h.display="none"))}const Ua=/\s*!important$/;function ur(r,s,l){if(we(l))l.forEach(h=>ur(r,s,h));else if(l==null&&(l=""),s.startsWith("--"))r.setProperty(s,l);else{const h=Fu(r,s);Ua.test(l)?r.setProperty(an(h),l.replace(Ua,""),"important"):r[h]=l}}const Fa=["Webkit","Moz","ms"],ei={};function Fu(r,s){const l=ei[s];if(l)return l;let h=Xt(s);if(h!=="filter"&&h in r)return ei[s]=h;h=Qa(h);for(let m=0;m<Fa.length;m++){const S=Fa[m]+h;if(S in r)return ei[s]=S}return s}const Va="http://www.w3.org/1999/xlink";function Wa(r,s,l,h,m,S=Vl(s)){h&&s.startsWith("xlink:")?l==null?r.removeAttributeNS(Va,s.slice(6,s.length)):r.setAttributeNS(Va,s,l):l==null||S&&!ts(l)?r.removeAttribute(s):r.setAttribute(s,S?"":Sn(l)?String(l):l)}function Ka(r,s,l,h,m){if(s==="innerHTML"||s==="textContent"){l!=null&&(r[s]=s==="innerHTML"?Zs(l):l);return}const S=r.tagName;if(s==="value"&&S!=="PROGRESS"&&!S.includes("-")){const p=S==="OPTION"?r.getAttribute("value")||"":r.value,E=l==null?r.type==="checkbox"?"on":"":String(l);(p!==E||!("_value"in r))&&(r.value=E),l==null&&r.removeAttribute(s),r._value=l;return}let M=!1;if(l===""||l==null){const p=typeof r[s];p==="boolean"?l=ts(l):l==null&&p==="string"?(l="",M=!0):p==="number"&&(l=0,M=!0)}try{r[s]=l}catch{}M&&r.removeAttribute(m||s)}function Vu(r,s,l,h){r.addEventListener(s,l,h)}function Wu(r,s,l,h){r.removeEventListener(s,l,h)}const qa=Symbol("_vei");function Ku(r,s,l,h,m=null){const S=r[qa]||(r[qa]={}),M=S[s];if(h&&M)M.value=h;else{const[p,E]=qu(s);if(h){const H=S[s]=$u(h,m);Vu(r,p,H,E)}else M&&(Wu(r,p,M,E),S[s]=void 0)}}const Ga=/(?:Once|Passive|Capture)$/;function qu(r){let s;if(Ga.test(r)){s={};let h;for(;h=r.match(Ga);)r=r.slice(0,r.length-h[0].length),s[h[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):an(r.slice(2)),s]}let ti=0;const Gu=Promise.resolve(),zu=()=>ti||(Gu.then(()=>ti=0),ti=Date.now());function $u(r,s){const l=h=>{if(!h._vts)h._vts=Date.now();else if(h._vts<=l.attached)return;Dt(Ju(h,l.value),s,5,[h])};return l.value=r,l.attached=zu(),l}function Ju(r,s){if(we(s)){const l=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{l.call(r),r._stopped=!0},s.map(h=>m=>!m._stopped&&h&&h(m))}else return s}const za=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,Zu=(r,s,l,h,m,S)=>{const M=m==="svg";s==="class"?Pu(r,h,M):s==="style"?Uu(r,l,h):br(s)?mi(s)||Ku(r,s,l,h,S):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Xu(r,s,h,M))?(Ka(r,s,h),!r.tagName.includes("-")&&(s==="value"||s==="checked"||s==="selected")&&Wa(r,s,h,M,S,s!=="value")):r._isVueCE&&(/[A-Z]/.test(s)||!$e(h))?Ka(r,Xt(s),h,S,s):(s==="true-value"?r._trueValue=h:s==="false-value"&&(r._falseValue=h),Wa(r,s,h,M))};function Xu(r,s,l,h){if(h)return!!(s==="innerHTML"||s==="textContent"||s in r&&za(s)&&ve(l));if(s==="spellcheck"||s==="draggable"||s==="translate"||s==="autocorrect"||s==="form"||s==="list"&&r.tagName==="INPUT"||s==="type"&&r.tagName==="TEXTAREA")return!1;if(s==="width"||s==="height"){const m=r.tagName;if(m==="IMG"||m==="VIDEO"||m==="CANVAS"||m==="SOURCE")return!1}return za(s)&&$e(l)?!1:s in r}const Yu=at({patchProp:Zu},Nu);let $a;function Qu(){return $a||($a=eu(Yu))}const ef=((...r)=>{const s=Qu().createApp(...r),{mount:l}=s;return s.mount=h=>{const m=nf(h);if(!m)return;const S=s._component;!ve(S)&&!S.render&&!S.template&&(S.template=m.innerHTML),m.nodeType===1&&(m.textContent="");const M=l(m,!1,tf(m));return m instanceof Element&&(m.removeAttribute("v-cloak"),m.setAttribute("data-v-app","")),M},s});function tf(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function nf(r){return $e(r)?document.querySelector(r):r}function rf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fr={exports:{}};/*!
 * Vditor v3.11.2 - A markdown editor written in TypeScript.
 *
 * MIT License
 *
 * Copyright (c) 2018-present B3log , b3log.org
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */var af=fr.exports,Ja;function sf(){return Ja||(Ja=1,(function(r,s){(function(h,m){r.exports=m()})(af,function(){return(()=>{var l={173:(M=>{var p=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},E=-1,H=1,O=0;p.Diff=function(d,c){return[d,c]},p.prototype.diff_main=function(d,c,v,y){typeof y>"u"&&(this.Diff_Timeout<=0?y=Number.MAX_VALUE:y=new Date().getTime()+this.Diff_Timeout*1e3);var _=y;if(d==null||c==null)throw new Error("Null input. (diff_main)");if(d==c)return d?[new p.Diff(O,d)]:[];typeof v>"u"&&(v=!0);var g=v,k=this.diff_commonPrefix(d,c),L=d.substring(0,k);d=d.substring(k),c=c.substring(k),k=this.diff_commonSuffix(d,c);var A=d.substring(d.length-k);d=d.substring(0,d.length-k),c=c.substring(0,c.length-k);var T=this.diff_compute_(d,c,g,_);return L&&T.unshift(new p.Diff(O,L)),A&&T.push(new p.Diff(O,A)),this.diff_cleanupMerge(T),T},p.prototype.diff_compute_=function(d,c,v,y){var _;if(!d)return[new p.Diff(H,c)];if(!c)return[new p.Diff(E,d)];var g=d.length>c.length?d:c,k=d.length>c.length?c:d,L=g.indexOf(k);if(L!=-1)return _=[new p.Diff(H,g.substring(0,L)),new p.Diff(O,k),new p.Diff(H,g.substring(L+k.length))],d.length>c.length&&(_[0][0]=_[2][0]=E),_;if(k.length==1)return[new p.Diff(E,d),new p.Diff(H,c)];var A=this.diff_halfMatch_(d,c);if(A){var T=A[0],u=A[1],N=A[2],F=A[3],V=A[4],I=this.diff_main(T,N,v,y),J=this.diff_main(u,F,v,y);return I.concat([new p.Diff(O,V)],J)}return v&&d.length>100&&c.length>100?this.diff_lineMode_(d,c,y):this.diff_bisect_(d,c,y)},p.prototype.diff_lineMode_=function(d,c,v){var y=this.diff_linesToChars_(d,c);d=y.chars1,c=y.chars2;var _=y.lineArray,g=this.diff_main(d,c,!1,v);this.diff_charsToLines_(g,_),this.diff_cleanupSemantic(g),g.push(new p.Diff(O,""));for(var k=0,L=0,A=0,T="",u="";k<g.length;){switch(g[k][0]){case H:A++,u+=g[k][1];break;case E:L++,T+=g[k][1];break;case O:if(L>=1&&A>=1){g.splice(k-L-A,L+A),k=k-L-A;for(var N=this.diff_main(T,u,!1,v),F=N.length-1;F>=0;F--)g.splice(k,0,N[F]);k=k+N.length}A=0,L=0,T="",u="";break}k++}return g.pop(),g},p.prototype.diff_bisect_=function(d,c,v){for(var y=d.length,_=c.length,g=Math.ceil((y+_)/2),k=g,L=2*g,A=new Array(L),T=new Array(L),u=0;u<L;u++)A[u]=-1,T[u]=-1;A[k+1]=0,T[k+1]=0;for(var N=y-_,F=N%2!=0,V=0,I=0,J=0,ie=0,ue=0;ue<g&&!(new Date().getTime()>v);ue++){for(var ye=-ue+V;ye<=ue-I;ye+=2){var Se=k+ye,Ae;ye==-ue||ye!=ue&&A[Se-1]<A[Se+1]?Ae=A[Se+1]:Ae=A[Se-1]+1;for(var Ce=Ae-ye;Ae<y&&Ce<_&&d.charAt(Ae)==c.charAt(Ce);)Ae++,Ce++;if(A[Se]=Ae,Ae>y)I+=2;else if(Ce>_)V+=2;else if(F){var ge=k+N-ye;if(ge>=0&&ge<L&&T[ge]!=-1){var pe=y-T[ge];if(Ae>=pe)return this.diff_bisectSplit_(d,c,Ae,Ce,v)}}}for(var He=-ue+J;He<=ue-ie;He+=2){var ge=k+He,pe;He==-ue||He!=ue&&T[ge-1]<T[ge+1]?pe=T[ge+1]:pe=T[ge-1]+1;for(var Ke=pe-He;pe<y&&Ke<_&&d.charAt(y-pe-1)==c.charAt(_-Ke-1);)pe++,Ke++;if(T[ge]=pe,pe>y)ie+=2;else if(Ke>_)J+=2;else if(!F){var Se=k+N-He;if(Se>=0&&Se<L&&A[Se]!=-1){var Ae=A[Se],Ce=k+Ae-Se;if(pe=y-pe,Ae>=pe)return this.diff_bisectSplit_(d,c,Ae,Ce,v)}}}}return[new p.Diff(E,d),new p.Diff(H,c)]},p.prototype.diff_bisectSplit_=function(d,c,v,y,_){var g=d.substring(0,v),k=c.substring(0,y),L=d.substring(v),A=c.substring(y),T=this.diff_main(g,k,!1,_),u=this.diff_main(L,A,!1,_);return T.concat(u)},p.prototype.diff_linesToChars_=function(d,c){var v=[],y={};v[0]="";function _(A){for(var T="",u=0,N=-1,F=v.length;N<A.length-1;){N=A.indexOf(`
`,u),N==-1&&(N=A.length-1);var V=A.substring(u,N+1);(y.hasOwnProperty?y.hasOwnProperty(V):y[V]!==void 0)?T+=String.fromCharCode(y[V]):(F==g&&(V=A.substring(u),N=A.length),T+=String.fromCharCode(F),y[V]=F,v[F++]=V),u=N+1}return T}var g=4e4,k=_(d);g=65535;var L=_(c);return{chars1:k,chars2:L,lineArray:v}},p.prototype.diff_charsToLines_=function(d,c){for(var v=0;v<d.length;v++){for(var y=d[v][1],_=[],g=0;g<y.length;g++)_[g]=c[y.charCodeAt(g)];d[v][1]=_.join("")}},p.prototype.diff_commonPrefix=function(d,c){if(!d||!c||d.charAt(0)!=c.charAt(0))return 0;for(var v=0,y=Math.min(d.length,c.length),_=y,g=0;v<_;)d.substring(g,_)==c.substring(g,_)?(v=_,g=v):y=_,_=Math.floor((y-v)/2+v);return _},p.prototype.diff_commonSuffix=function(d,c){if(!d||!c||d.charAt(d.length-1)!=c.charAt(c.length-1))return 0;for(var v=0,y=Math.min(d.length,c.length),_=y,g=0;v<_;)d.substring(d.length-_,d.length-g)==c.substring(c.length-_,c.length-g)?(v=_,g=v):y=_,_=Math.floor((y-v)/2+v);return _},p.prototype.diff_commonOverlap_=function(d,c){var v=d.length,y=c.length;if(v==0||y==0)return 0;v>y?d=d.substring(v-y):v<y&&(c=c.substring(0,v));var _=Math.min(v,y);if(d==c)return _;for(var g=0,k=1;;){var L=d.substring(_-k),A=c.indexOf(L);if(A==-1)return g;k+=A,(A==0||d.substring(_-k)==c.substring(0,k))&&(g=k,k++)}},p.prototype.diff_halfMatch_=function(d,c){if(this.Diff_Timeout<=0)return null;var v=d.length>c.length?d:c,y=d.length>c.length?c:d;if(v.length<4||y.length*2<v.length)return null;var _=this;function g(I,J,ie){for(var ue=I.substring(ie,ie+Math.floor(I.length/4)),ye=-1,Se="",Ae,Ce,ge,pe;(ye=J.indexOf(ue,ye+1))!=-1;){var He=_.diff_commonPrefix(I.substring(ie),J.substring(ye)),Ke=_.diff_commonSuffix(I.substring(0,ie),J.substring(0,ye));Se.length<Ke+He&&(Se=J.substring(ye-Ke,ye)+J.substring(ye,ye+He),Ae=I.substring(0,ie-Ke),Ce=I.substring(ie+He),ge=J.substring(0,ye-Ke),pe=J.substring(ye+He))}return Se.length*2>=I.length?[Ae,Ce,ge,pe,Se]:null}var k=g(v,y,Math.ceil(v.length/4)),L=g(v,y,Math.ceil(v.length/2)),A;if(!k&&!L)return null;L?k?A=k[4].length>L[4].length?k:L:A=L:A=k;var T,u,N,F;d.length>c.length?(T=A[0],u=A[1],N=A[2],F=A[3]):(N=A[0],F=A[1],T=A[2],u=A[3]);var V=A[4];return[T,u,N,F,V]},p.prototype.diff_cleanupSemantic=function(d){for(var c=!1,v=[],y=0,_=null,g=0,k=0,L=0,A=0,T=0;g<d.length;)d[g][0]==O?(v[y++]=g,k=A,L=T,A=0,T=0,_=d[g][1]):(d[g][0]==H?A+=d[g][1].length:T+=d[g][1].length,_&&_.length<=Math.max(k,L)&&_.length<=Math.max(A,T)&&(d.splice(v[y-1],0,new p.Diff(E,_)),d[v[y-1]+1][0]=H,y--,y--,g=y>0?v[y-1]:-1,k=0,L=0,A=0,T=0,_=null,c=!0)),g++;for(c&&this.diff_cleanupMerge(d),this.diff_cleanupSemanticLossless(d),g=1;g<d.length;){if(d[g-1][0]==E&&d[g][0]==H){var u=d[g-1][1],N=d[g][1],F=this.diff_commonOverlap_(u,N),V=this.diff_commonOverlap_(N,u);F>=V?(F>=u.length/2||F>=N.length/2)&&(d.splice(g,0,new p.Diff(O,N.substring(0,F))),d[g-1][1]=u.substring(0,u.length-F),d[g+1][1]=N.substring(F),g++):(V>=u.length/2||V>=N.length/2)&&(d.splice(g,0,new p.Diff(O,u.substring(0,V))),d[g-1][0]=H,d[g-1][1]=N.substring(0,N.length-V),d[g+1][0]=E,d[g+1][1]=u.substring(V),g++),g++}g++}},p.prototype.diff_cleanupSemanticLossless=function(d){function c(V,I){if(!V||!I)return 6;var J=V.charAt(V.length-1),ie=I.charAt(0),ue=J.match(p.nonAlphaNumericRegex_),ye=ie.match(p.nonAlphaNumericRegex_),Se=ue&&J.match(p.whitespaceRegex_),Ae=ye&&ie.match(p.whitespaceRegex_),Ce=Se&&J.match(p.linebreakRegex_),ge=Ae&&ie.match(p.linebreakRegex_),pe=Ce&&V.match(p.blanklineEndRegex_),He=ge&&I.match(p.blanklineStartRegex_);return pe||He?5:Ce||ge?4:ue&&!Se&&Ae?3:Se||Ae?2:ue||ye?1:0}for(var v=1;v<d.length-1;){if(d[v-1][0]==O&&d[v+1][0]==O){var y=d[v-1][1],_=d[v][1],g=d[v+1][1],k=this.diff_commonSuffix(y,_);if(k){var L=_.substring(_.length-k);y=y.substring(0,y.length-k),_=L+_.substring(0,_.length-k),g=L+g}for(var A=y,T=_,u=g,N=c(y,_)+c(_,g);_.charAt(0)===g.charAt(0);){y+=_.charAt(0),_=_.substring(1)+g.charAt(0),g=g.substring(1);var F=c(y,_)+c(_,g);F>=N&&(N=F,A=y,T=_,u=g)}d[v-1][1]!=A&&(A?d[v-1][1]=A:(d.splice(v-1,1),v--),d[v][1]=T,u?d[v+1][1]=u:(d.splice(v+1,1),v--))}v++}},p.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,p.whitespaceRegex_=/\s/,p.linebreakRegex_=/[\r\n]/,p.blanklineEndRegex_=/\n\r?\n$/,p.blanklineStartRegex_=/^\r?\n\r?\n/,p.prototype.diff_cleanupEfficiency=function(d){for(var c=!1,v=[],y=0,_=null,g=0,k=!1,L=!1,A=!1,T=!1;g<d.length;)d[g][0]==O?(d[g][1].length<this.Diff_EditCost&&(A||T)?(v[y++]=g,k=A,L=T,_=d[g][1]):(y=0,_=null),A=T=!1):(d[g][0]==E?T=!0:A=!0,_&&(k&&L&&A&&T||_.length<this.Diff_EditCost/2&&k+L+A+T==3)&&(d.splice(v[y-1],0,new p.Diff(E,_)),d[v[y-1]+1][0]=H,y--,_=null,k&&L?(A=T=!0,y=0):(y--,g=y>0?v[y-1]:-1,A=T=!1),c=!0)),g++;c&&this.diff_cleanupMerge(d)},p.prototype.diff_cleanupMerge=function(d){d.push(new p.Diff(O,""));for(var c=0,v=0,y=0,_="",g="",k;c<d.length;)switch(d[c][0]){case H:y++,g+=d[c][1],c++;break;case E:v++,_+=d[c][1],c++;break;case O:v+y>1?(v!==0&&y!==0&&(k=this.diff_commonPrefix(g,_),k!==0&&(c-v-y>0&&d[c-v-y-1][0]==O?d[c-v-y-1][1]+=g.substring(0,k):(d.splice(0,0,new p.Diff(O,g.substring(0,k))),c++),g=g.substring(k),_=_.substring(k)),k=this.diff_commonSuffix(g,_),k!==0&&(d[c][1]=g.substring(g.length-k)+d[c][1],g=g.substring(0,g.length-k),_=_.substring(0,_.length-k))),c-=v+y,d.splice(c,v+y),_.length&&(d.splice(c,0,new p.Diff(E,_)),c++),g.length&&(d.splice(c,0,new p.Diff(H,g)),c++),c++):c!==0&&d[c-1][0]==O?(d[c-1][1]+=d[c][1],d.splice(c,1)):c++,y=0,v=0,_="",g="";break}d[d.length-1][1]===""&&d.pop();var L=!1;for(c=1;c<d.length-1;)d[c-1][0]==O&&d[c+1][0]==O&&(d[c][1].substring(d[c][1].length-d[c-1][1].length)==d[c-1][1]?(d[c][1]=d[c-1][1]+d[c][1].substring(0,d[c][1].length-d[c-1][1].length),d[c+1][1]=d[c-1][1]+d[c+1][1],d.splice(c-1,1),L=!0):d[c][1].substring(0,d[c+1][1].length)==d[c+1][1]&&(d[c-1][1]+=d[c+1][1],d[c][1]=d[c][1].substring(d[c+1][1].length)+d[c+1][1],d.splice(c+1,1),L=!0)),c++;L&&this.diff_cleanupMerge(d)},p.prototype.diff_xIndex=function(d,c){var v=0,y=0,_=0,g=0,k;for(k=0;k<d.length&&(d[k][0]!==H&&(v+=d[k][1].length),d[k][0]!==E&&(y+=d[k][1].length),!(v>c));k++)_=v,g=y;return d.length!=k&&d[k][0]===E?g:g+(c-_)},p.prototype.diff_prettyHtml=function(d){for(var c=[],v=/&/g,y=/</g,_=/>/g,g=/\n/g,k=0;k<d.length;k++){var L=d[k][0],A=d[k][1],T=A.replace(v,"&amp;").replace(y,"&lt;").replace(_,"&gt;").replace(g,"&para;<br>");switch(L){case H:c[k]='<ins style="background:#e6ffe6;">'+T+"</ins>";break;case E:c[k]='<del style="background:#ffe6e6;">'+T+"</del>";break;case O:c[k]="<span>"+T+"</span>";break}}return c.join("")},p.prototype.diff_text1=function(d){for(var c=[],v=0;v<d.length;v++)d[v][0]!==H&&(c[v]=d[v][1]);return c.join("")},p.prototype.diff_text2=function(d){for(var c=[],v=0;v<d.length;v++)d[v][0]!==E&&(c[v]=d[v][1]);return c.join("")},p.prototype.diff_levenshtein=function(d){for(var c=0,v=0,y=0,_=0;_<d.length;_++){var g=d[_][0],k=d[_][1];switch(g){case H:v+=k.length;break;case E:y+=k.length;break;case O:c+=Math.max(v,y),v=0,y=0;break}}return c+=Math.max(v,y),c},p.prototype.diff_toDelta=function(d){for(var c=[],v=0;v<d.length;v++)switch(d[v][0]){case H:c[v]="+"+encodeURI(d[v][1]);break;case E:c[v]="-"+d[v][1].length;break;case O:c[v]="="+d[v][1].length;break}return c.join("	").replace(/%20/g," ")},p.prototype.diff_fromDelta=function(d,c){for(var v=[],y=0,_=0,g=c.split(/\t/g),k=0;k<g.length;k++){var L=g[k].substring(1);switch(g[k].charAt(0)){case"+":try{v[y++]=new p.Diff(H,decodeURI(L))}catch{throw new Error("Illegal escape in diff_fromDelta: "+L)}break;case"-":case"=":var A=parseInt(L,10);if(isNaN(A)||A<0)throw new Error("Invalid number in diff_fromDelta: "+L);var T=d.substring(_,_+=A);g[k].charAt(0)=="="?v[y++]=new p.Diff(O,T):v[y++]=new p.Diff(E,T);break;default:if(g[k])throw new Error("Invalid diff operation in diff_fromDelta: "+g[k])}}if(_!=d.length)throw new Error("Delta length ("+_+") does not equal source text length ("+d.length+").");return v},p.prototype.match_main=function(d,c,v){if(d==null||c==null||v==null)throw new Error("Null input. (match_main)");return v=Math.max(0,Math.min(v,d.length)),d==c?0:d.length?d.substring(v,v+c.length)==c?v:this.match_bitap_(d,c,v):-1},p.prototype.match_bitap_=function(d,c,v){if(c.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var y=this.match_alphabet_(c),_=this;function g(Ae,Ce){var ge=Ae/c.length,pe=Math.abs(v-Ce);return _.Match_Distance?ge+pe/_.Match_Distance:pe?1:ge}var k=this.Match_Threshold,L=d.indexOf(c,v);L!=-1&&(k=Math.min(g(0,L),k),L=d.lastIndexOf(c,v+c.length),L!=-1&&(k=Math.min(g(0,L),k)));var A=1<<c.length-1;L=-1;for(var T,u,N=c.length+d.length,F,V=0;V<c.length;V++){for(T=0,u=N;T<u;)g(V,v+u)<=k?T=u:N=u,u=Math.floor((N-T)/2+T);N=u;var I=Math.max(1,v-u+1),J=Math.min(v+u,d.length)+c.length,ie=Array(J+2);ie[J+1]=(1<<V)-1;for(var ue=J;ue>=I;ue--){var ye=y[d.charAt(ue-1)];if(V===0?ie[ue]=(ie[ue+1]<<1|1)&ye:ie[ue]=(ie[ue+1]<<1|1)&ye|((F[ue+1]|F[ue])<<1|1)|F[ue+1],ie[ue]&A){var Se=g(V,ue-1);if(Se<=k)if(k=Se,L=ue-1,L>v)I=Math.max(1,2*v-L);else break}}if(g(V+1,v)>k)break;F=ie}return L},p.prototype.match_alphabet_=function(d){for(var c={},v=0;v<d.length;v++)c[d.charAt(v)]=0;for(var v=0;v<d.length;v++)c[d.charAt(v)]|=1<<d.length-v-1;return c},p.prototype.patch_addContext_=function(d,c){if(c.length!=0){if(d.start2===null)throw Error("patch not initialized");for(var v=c.substring(d.start2,d.start2+d.length1),y=0;c.indexOf(v)!=c.lastIndexOf(v)&&v.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)y+=this.Patch_Margin,v=c.substring(d.start2-y,d.start2+d.length1+y);y+=this.Patch_Margin;var _=c.substring(d.start2-y,d.start2);_&&d.diffs.unshift(new p.Diff(O,_));var g=c.substring(d.start2+d.length1,d.start2+d.length1+y);g&&d.diffs.push(new p.Diff(O,g)),d.start1-=_.length,d.start2-=_.length,d.length1+=_.length+g.length,d.length2+=_.length+g.length}},p.prototype.patch_make=function(d,c,v){var y,_;if(typeof d=="string"&&typeof c=="string"&&typeof v>"u")y=d,_=this.diff_main(y,c,!0),_.length>2&&(this.diff_cleanupSemantic(_),this.diff_cleanupEfficiency(_));else if(d&&typeof d=="object"&&typeof c>"u"&&typeof v>"u")_=d,y=this.diff_text1(_);else if(typeof d=="string"&&c&&typeof c=="object"&&typeof v>"u")y=d,_=c;else if(typeof d=="string"&&typeof c=="string"&&v&&typeof v=="object")y=d,_=v;else throw new Error("Unknown call format to patch_make.");if(_.length===0)return[];for(var g=[],k=new p.patch_obj,L=0,A=0,T=0,u=y,N=y,F=0;F<_.length;F++){var V=_[F][0],I=_[F][1];switch(!L&&V!==O&&(k.start1=A,k.start2=T),V){case H:k.diffs[L++]=_[F],k.length2+=I.length,N=N.substring(0,T)+I+N.substring(T);break;case E:k.length1+=I.length,k.diffs[L++]=_[F],N=N.substring(0,T)+N.substring(T+I.length);break;case O:I.length<=2*this.Patch_Margin&&L&&_.length!=F+1?(k.diffs[L++]=_[F],k.length1+=I.length,k.length2+=I.length):I.length>=2*this.Patch_Margin&&L&&(this.patch_addContext_(k,u),g.push(k),k=new p.patch_obj,L=0,u=N,A=T);break}V!==H&&(A+=I.length),V!==E&&(T+=I.length)}return L&&(this.patch_addContext_(k,u),g.push(k)),g},p.prototype.patch_deepCopy=function(d){for(var c=[],v=0;v<d.length;v++){var y=d[v],_=new p.patch_obj;_.diffs=[];for(var g=0;g<y.diffs.length;g++)_.diffs[g]=new p.Diff(y.diffs[g][0],y.diffs[g][1]);_.start1=y.start1,_.start2=y.start2,_.length1=y.length1,_.length2=y.length2,c[v]=_}return c},p.prototype.patch_apply=function(d,c){if(d.length==0)return[c,[]];d=this.patch_deepCopy(d);var v=this.patch_addPadding(d);c=v+c+v,this.patch_splitMax(d);for(var y=0,_=[],g=0;g<d.length;g++){var k=d[g].start2+y,L=this.diff_text1(d[g].diffs),A,T=-1;if(L.length>this.Match_MaxBits?(A=this.match_main(c,L.substring(0,this.Match_MaxBits),k),A!=-1&&(T=this.match_main(c,L.substring(L.length-this.Match_MaxBits),k+L.length-this.Match_MaxBits),(T==-1||A>=T)&&(A=-1))):A=this.match_main(c,L,k),A==-1)_[g]=!1,y-=d[g].length2-d[g].length1;else{_[g]=!0,y=A-k;var u;if(T==-1?u=c.substring(A,A+L.length):u=c.substring(A,T+this.Match_MaxBits),L==u)c=c.substring(0,A)+this.diff_text2(d[g].diffs)+c.substring(A+L.length);else{var N=this.diff_main(L,u,!1);if(L.length>this.Match_MaxBits&&this.diff_levenshtein(N)/L.length>this.Patch_DeleteThreshold)_[g]=!1;else{this.diff_cleanupSemanticLossless(N);for(var F=0,V,I=0;I<d[g].diffs.length;I++){var J=d[g].diffs[I];J[0]!==O&&(V=this.diff_xIndex(N,F)),J[0]===H?c=c.substring(0,A+V)+J[1]+c.substring(A+V):J[0]===E&&(c=c.substring(0,A+V)+c.substring(A+this.diff_xIndex(N,F+J[1].length))),J[0]!==E&&(F+=J[1].length)}}}}}return c=c.substring(v.length,c.length-v.length),[c,_]},p.prototype.patch_addPadding=function(d){for(var c=this.Patch_Margin,v="",y=1;y<=c;y++)v+=String.fromCharCode(y);for(var y=0;y<d.length;y++)d[y].start1+=c,d[y].start2+=c;var _=d[0],g=_.diffs;if(g.length==0||g[0][0]!=O)g.unshift(new p.Diff(O,v)),_.start1-=c,_.start2-=c,_.length1+=c,_.length2+=c;else if(c>g[0][1].length){var k=c-g[0][1].length;g[0][1]=v.substring(g[0][1].length)+g[0][1],_.start1-=k,_.start2-=k,_.length1+=k,_.length2+=k}if(_=d[d.length-1],g=_.diffs,g.length==0||g[g.length-1][0]!=O)g.push(new p.Diff(O,v)),_.length1+=c,_.length2+=c;else if(c>g[g.length-1][1].length){var k=c-g[g.length-1][1].length;g[g.length-1][1]+=v.substring(0,k),_.length1+=k,_.length2+=k}return v},p.prototype.patch_splitMax=function(d){for(var c=this.Match_MaxBits,v=0;v<d.length;v++)if(!(d[v].length1<=c)){var y=d[v];d.splice(v--,1);for(var _=y.start1,g=y.start2,k="";y.diffs.length!==0;){var L=new p.patch_obj,A=!0;for(L.start1=_-k.length,L.start2=g-k.length,k!==""&&(L.length1=L.length2=k.length,L.diffs.push(new p.Diff(O,k)));y.diffs.length!==0&&L.length1<c-this.Patch_Margin;){var T=y.diffs[0][0],u=y.diffs[0][1];T===H?(L.length2+=u.length,g+=u.length,L.diffs.push(y.diffs.shift()),A=!1):T===E&&L.diffs.length==1&&L.diffs[0][0]==O&&u.length>2*c?(L.length1+=u.length,_+=u.length,A=!1,L.diffs.push(new p.Diff(T,u)),y.diffs.shift()):(u=u.substring(0,c-L.length1-this.Patch_Margin),L.length1+=u.length,_+=u.length,T===O?(L.length2+=u.length,g+=u.length):A=!1,L.diffs.push(new p.Diff(T,u)),u==y.diffs[0][1]?y.diffs.shift():y.diffs[0][1]=y.diffs[0][1].substring(u.length))}k=this.diff_text2(L.diffs),k=k.substring(k.length-this.Patch_Margin);var N=this.diff_text1(y.diffs).substring(0,this.Patch_Margin);N!==""&&(L.length1+=N.length,L.length2+=N.length,L.diffs.length!==0&&L.diffs[L.diffs.length-1][0]===O?L.diffs[L.diffs.length-1][1]+=N:L.diffs.push(new p.Diff(O,N))),A||d.splice(++v,0,L)}}},p.prototype.patch_toText=function(d){for(var c=[],v=0;v<d.length;v++)c[v]=d[v];return c.join("")},p.prototype.patch_fromText=function(d){var c=[];if(!d)return c;for(var v=d.split(`
`),y=0,_=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;y<v.length;){var g=v[y].match(_);if(!g)throw new Error("Invalid patch string: "+v[y]);var k=new p.patch_obj;for(c.push(k),k.start1=parseInt(g[1],10),g[2]===""?(k.start1--,k.length1=1):g[2]=="0"?k.length1=0:(k.start1--,k.length1=parseInt(g[2],10)),k.start2=parseInt(g[3],10),g[4]===""?(k.start2--,k.length2=1):g[4]=="0"?k.length2=0:(k.start2--,k.length2=parseInt(g[4],10)),y++;y<v.length;){var L=v[y].charAt(0);try{var A=decodeURI(v[y].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+A)}if(L=="-")k.diffs.push(new p.Diff(E,A));else if(L=="+")k.diffs.push(new p.Diff(H,A));else if(L==" ")k.diffs.push(new p.Diff(O,A));else{if(L=="@")break;if(L!=="")throw new Error('Invalid patch mode "'+L+'" in: '+A)}y++}}return c},p.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},p.patch_obj.prototype.toString=function(){var d,c;this.length1===0?d=this.start1+",0":this.length1==1?d=this.start1+1:d=this.start1+1+","+this.length1,this.length2===0?c=this.start2+",0":this.length2==1?c=this.start2+1:c=this.start2+1+","+this.length2;for(var v=["@@ -"+d+" +"+c+` @@
`],y,_=0;_<this.diffs.length;_++){switch(this.diffs[_][0]){case H:y="+";break;case E:y="-";break;case O:y=" ";break}v[_+1]=y+encodeURI(this.diffs[_][1])+`
`}return v.join("").replace(/%20/g," ")},M.exports=p,M.exports.diff_match_patch=p,M.exports.DIFF_DELETE=E,M.exports.DIFF_INSERT=H,M.exports.DIFF_EQUAL=O}),408:((M,p,E)=>{E.d(p,{default:()=>st});var H=E(135),O=E(840),d=E(775),c=E(428),v=E(325),y=E(483),_=E(999),g=function(z){z===void 0&&(z=document);var Me=function(ae){var Q=document.createElement("img");Q.src=ae.getAttribute("data-src"),Q.addEventListener("load",function(){!ae.getAttribute("style")&&!ae.getAttribute("class")&&!ae.getAttribute("width")&&!ae.getAttribute("height")&&Q.naturalHeight>Q.naturalWidth&&Q.naturalWidth/Q.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&Q.naturalHeight>window.innerHeight-40&&(ae.style.height=window.innerHeight-40+"px"),ae.src=Q.src}),ae.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return z.querySelectorAll("img").forEach(function(ae){ae.getAttribute("data-src")&&Me(ae)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),z.querySelectorAll("img").forEach(function(ae){window.vditorImageIntersectionObserver.observe(ae)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(ae){ae.forEach(function(Q){(typeof Q.isIntersecting>"u"?Q.intersectionRatio!==0:Q.isIntersecting)&&Q.target.getAttribute("data-src")&&Me(Q.target)})}),z.querySelectorAll("img").forEach(function(ae){window.vditorImageIntersectionObserver.observe(ae)}))},k=E(472),L=E(280),A=E(637),T=E(825),u=E(11),N=E(194),F=E(436),V=E(229),I=E(145),J=E(538),ie=E(413),ue=E(106),ye=E(673),Se=function(z){document.querySelectorAll(".vditor-anchor").forEach(function(Me){z===1&&Me.classList.add("vditor-anchor--left"),Me.onclick=function(){var ae=Me.getAttribute("href").substr(1),Q=document.getElementById("vditorAnchor-"+ae).offsetTop;document.querySelector("html").scrollTop=Q}}),window.onhashchange=function(){var Me=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));Me&&(document.querySelector("html").scrollTop=Me.offsetTop)}},Ae=E(214),Ce=E(810),ge=function(z,Me){if(Me===void 0&&(Me="zh_CN"),!(typeof speechSynthesis>"u"||typeof SpeechSynthesisUtterance>"u")){var ae=function(){var K=speechSynthesis.getVoices(),U,W;return K.forEach(function(ee){ee.lang===Me.replace("_","-")&&(U=ee),ee.default&&(W=ee)}),U||(U=W),U},Q='<svg><use xlink:href="#vditor-icon-play"></use></svg>',Be='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(Q='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',Be='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var x=document.querySelector(".vditor-speech");x||(x=document.createElement("button"),x.className="vditor-speech",z.insertAdjacentElement("beforeend",x),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=ae));var R=ae(),B=new SpeechSynthesisUtterance;B.voice=R,B.onend=B.onerror=function(){x.style.display="none",speechSynthesis.cancel(),x.classList.remove("vditor-speech--current"),x.innerHTML=Q},z.addEventListener(window.ontouchstart!==void 0?"touchend":"click",function(K){var U=K.target;if(U.classList.contains("vditor-speech")||U.parentElement.classList.contains("vditor-speech")){x.classList.contains("vditor-speech--current")?speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),x.innerHTML=Be):(speechSynthesis.pause(),x.innerHTML=Q)):(B.text=x.getAttribute("data-text"),speechSynthesis.speak(B),x.classList.add("vditor-speech--current"),x.innerHTML=Be),(0,Ce.Hc)(window.vditorSpeechRange),z.focus();return}if(x.style.display="none",speechSynthesis.cancel(),x.classList.remove("vditor-speech--current"),x.innerHTML=Q,getSelection().rangeCount!==0){var W=getSelection().getRangeAt(0),ee=W.toString().trim();if(ee){window.vditorSpeechRange=W.cloneRange();var Y=W.getBoundingClientRect();x.innerHTML=Q,x.style.display="block",x.style.top=Y.top+Y.height+document.querySelector("html").scrollTop-20+"px",window.ontouchstart!==void 0?x.style.left=K.changedTouches[K.changedTouches.length-1].pageX+2+"px":x.style.left=K.clientX+2+"px",x.setAttribute("data-text",ee)}}})}},pe=function(z,Me,ae,Q){function Be(x){return x instanceof ae?x:new ae(function(R){R(x)})}return new(ae||(ae=Promise))(function(x,R){function B(W){try{U(Q.next(W))}catch(ee){R(ee)}}function K(W){try{U(Q.throw(W))}catch(ee){R(ee)}}function U(W){W.done?x(W.value):Be(W.value).then(B,K)}U((Q=Q.apply(z,Me||[])).next())})},He=function(z,Me){var ae={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},Q,Be,x,R;return R={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function B(U){return function(W){return K([U,W])}}function K(U){if(Q)throw new TypeError("Generator is already executing.");for(;R&&(R=0,U[0]&&(ae=0)),ae;)try{if(Q=1,Be&&(x=U[0]&2?Be.return:U[0]?Be.throw||((x=Be.return)&&x.call(Be),0):Be.next)&&!(x=x.call(Be,U[1])).done)return x;switch(Be=0,x&&(U=[U[0]&2,x.value]),U[0]){case 0:case 1:x=U;break;case 4:return ae.label++,{value:U[1],done:!1};case 5:ae.label++,Be=U[1],U=[0];continue;case 7:U=ae.ops.pop(),ae.trys.pop();continue;default:if(x=ae.trys,!(x=x.length>0&&x[x.length-1])&&(U[0]===6||U[0]===2)){ae=0;continue}if(U[0]===3&&(!x||U[1]>x[0]&&U[1]<x[3])){ae.label=U[1];break}if(U[0]===6&&ae.label<x[1]){ae.label=x[1],x=U;break}if(x&&ae.label<x[2]){ae.label=x[2],ae.ops.push(U);break}x[2]&&ae.ops.pop(),ae.trys.pop();continue}U=Me.call(z,ae)}catch(W){U=[6,W],Be=0}finally{Q=x=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}},Ke=function(z){var Me,ae={anchor:0,cdn:I.g.CDN,customEmoji:{},emojiPath:"".concat(I.g.CDN,"/dist/images/emoji"),hljs:I.g.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:I.g.MARKDOWN_OPTIONS,math:I.g.MATH_OPTIONS,mode:"light",speech:{enable:!1},render:{media:{enable:!0}},theme:I.g.THEME_OPTIONS};return z.cdn&&(!((Me=z.theme)===null||Me===void 0)&&Me.path||(ae.theme.path="".concat(z.cdn,"/dist/css/content-theme")),z.emojiPath||(ae.emojiPath="".concat(z.cdn,"/dist/images/emoji"))),(0,ye.T)(ae,z)},Ne=function(z,Me){var ae=Ke(Me);return(0,ie.G)("".concat(ae.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){var Q=(0,Ae.X)({autoSpace:ae.markdown.autoSpace,gfmAutoLink:ae.markdown.gfmAutoLink,codeBlockPreview:ae.markdown.codeBlockPreview,emojiSite:ae.emojiPath,emojis:ae.customEmoji,fixTermTypo:ae.markdown.fixTermTypo,footnotes:ae.markdown.footnotes,headingAnchor:ae.anchor!==0,inlineMathDigit:ae.math.inlineDigit,lazyLoadImage:ae.lazyLoadImage,linkBase:ae.markdown.linkBase,linkPrefix:ae.markdown.linkPrefix,listStyle:ae.markdown.listStyle,mark:ae.markdown.mark,mathBlockPreview:ae.markdown.mathBlockPreview,paragraphBeginningSpace:ae.markdown.paragraphBeginningSpace,sanitize:ae.markdown.sanitize,toc:ae.markdown.toc});return Me?.renderers&&Q.SetJSRenderers({renderers:{Md2HTML:Me.renderers}}),Q.SetHeadingID(!0),Q.Md2HTML(z)})},P=function(z,Me,ae){return pe(void 0,void 0,void 0,function(){var Q,Be,x,R;return He(this,function(B){switch(B.label){case 0:return Q=Ke(ae),[4,Ne(Me,Q)];case 1:if(Be=B.sent(),Q.transform&&(Be=Q.transform(Be)),z.innerHTML=Be,z.classList.add("vditor-reset"),Q.i18n)return[3,5];if(["de_DE","en_US","es_ES","fr_FR","ja_JP","ko_KR","pt_BR","ru_RU","sv_SE","vi_VN","zh_CN","zh_TW"].includes(Q.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return x="vditorI18nScript",R=x+Q.lang,document.querySelectorAll('head script[id^="'.concat(x,'"]')).forEach(function(K){K.id!==R&&document.head.removeChild(K)}),[4,(0,ie.G)("".concat(Q.cdn,"/dist/js/i18n/").concat(Q.lang,".js"),R)];case 3:B.sent(),B.label=4;case 4:return[3,6];case 5:window.VditorI18n=Q.i18n,B.label=6;case 6:return Q.icon?[4,(0,ie.G)("".concat(Q.cdn,"/dist/js/icons/").concat(Q.icon,".js"),"vditorIconScript")]:[3,8];case 7:B.sent(),B.label=8;case 8:return(0,J.Z)(Q.theme.current,Q.theme.path),Q.anchor===1&&z.classList.add("vditor-reset--anchor"),(0,c.O)(z,Q.hljs),(0,_.s)(Q.hljs,z,Q.cdn),(0,k.H)(z,{cdn:Q.cdn,math:Q.math}),(0,A.i)(z,Q.cdn,Q.mode),(0,T.J)(z,Q.cdn,Q.mode),(0,u.K)(z,Q.cdn),(0,v.P)(z,Q.cdn),(0,y.v)(z,Q.cdn),(0,d.p)(z,Q.cdn,Q.mode),(0,N.P)(z,Q.cdn,Q.mode),(0,V.B)(z,Q.cdn),(0,H.Q)(z,Q.cdn),Q.render.media.enable&&(0,L.Y)(z),Q.speech.enable&&ge(z),Q.anchor!==0&&Se(Q.anchor),Q.after&&Q.after(),Q.lazyLoadImage&&g(z),z.addEventListener("click",function(K){var U=(0,ue.lG)(K.target,"SPAN");if(U&&(0,ue.fb)(U,"vditor-toc")){var W=z.querySelector("#"+U.getAttribute("data-target-id"));W&&window.scrollTo(window.scrollX,W.offsetTop);return}}),[2]}})})},ft=E(190),sn=E(580),on=(function(){function z(){}return z.adapterRender=O,z.previewImage=ft.E,z.codeRender=c.O,z.graphvizRender=y.v,z.highlightRender=_.s,z.mathRender=k.H,z.mermaidRender=A.i,z.SMILESRender=T.J,z.markmapRender=u.K,z.flowchartRender=v.P,z.chartRender=d.p,z.abcRender=H.Q,z.mindmapRender=N.P,z.plantumlRender=V.B,z.outlineRender=F.k,z.mediaRender=L.Y,z.speechRender=ge,z.lazyLoadImageRender=g,z.md2html=Ne,z.preview=P,z.setCodeTheme=sn.Y,z.setContentTheme=J.Z,z})();const st=on}),145:((M,p,E)=>{E.d(p,{H:()=>H,g:()=>O});var H="3.11.2",O=(function(){function d(){}return d.ZWSP="",d.DROP_EDITOR="application/editor",d.MOBILE_WIDTH=520,d.CLASS_MENU_DISABLED="vditor-menu--disabled",d.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],d.CODE_THEME=["a11y-dark","agate","an-old-hope","androidstudio","arta","atom-one-dark","atom-one-dark-reasonable","base16/3024","base16/apathy","base16/apprentice","base16/ashes","base16/atelier-cave","base16/atelier-dune","base16/atelier-estuary","base16/atelier-forest","base16/atelier-heath","base16/atelier-lakeside","base16/atelier-plateau","base16/atelier-savanna","base16/atelier-seaside","base16/atelier-sulphurpool","base16/atlas","base16/bespin","base16/black-metal","base16/black-metal-bathory","base16/black-metal-burzum","base16/black-metal-dark-funeral","base16/black-metal-gorgoroth","base16/black-metal-immortal","base16/black-metal-khold","base16/black-metal-marduk","base16/black-metal-mayhem","base16/black-metal-nile","base16/black-metal-venom","base16/brewer","base16/bright","base16/brogrammer","base16/brush-trees-dark","base16/chalk","base16/circus","base16/classic-dark","base16/codeschool","base16/colors","base16/danqing","base16/darcula","base16/dark-violet","base16/darkmoss","base16/darktooth","base16/decaf","base16/default-dark","base16/dracula","base16/edge-dark","base16/eighties","base16/embers","base16/equilibrium-dark","base16/equilibrium-gray-dark","base16/espresso","base16/eva","base16/eva-dim","base16/flat","base16/framer","base16/gigavolt","base16/google-dark","base16/grayscale-dark","base16/green-screen","base16/gruvbox-dark-hard","base16/gruvbox-dark-medium","base16/gruvbox-dark-pale","base16/gruvbox-dark-soft","base16/hardcore","base16/harmonic16-dark","base16/heetch-dark","base16/helios","base16/hopscotch","base16/horizon-dark","base16/humanoid-dark","base16/ia-dark","base16/icy-dark","base16/ir-black","base16/isotope","base16/kimber","base16/london-tube","base16/macintosh","base16/marrakesh","base16/materia","base16/material","base16/material-darker","base16/material-palenight","base16/material-vivid","base16/mellow-purple","base16/mocha","base16/monokai","base16/nebula","base16/nord","base16/nova","base16/ocean","base16/oceanicnext","base16/onedark","base16/outrun-dark","base16/papercolor-dark","base16/paraiso","base16/pasque","base16/phd","base16/pico","base16/pop","base16/porple","base16/qualia","base16/railscasts","base16/rebecca","base16/ros-pine","base16/ros-pine-moon","base16/sandcastle","base16/seti-ui","base16/silk-dark","base16/snazzy","base16/solar-flare","base16/solarized-dark","base16/spacemacs","base16/summercamp","base16/summerfruit-dark","base16/synth-midnight-terminal-dark","base16/tango","base16/tender","base16/tomorrow-night","base16/twilight","base16/unikitty-dark","base16/vulcan","base16/windows-10","base16/windows-95","base16/windows-high-contrast","base16/windows-nt","base16/woodland","base16/xcode-dusk","base16/zenburn","codepen-embed","dark","devibeans","far","felipec","github-dark","github-dark-dimmed","gml","gradient-dark","hybrid","ir-black","isbl-editor-dark","kimbie-dark","lioshi","monokai","monokai-sublime","night-owl","nnfx-dark","nord","obsidian","panda-syntax-dark","paraiso-dark","pojoaque","qtcreator-dark","rainbow","shades-of-purple","srcery","stackoverflow-dark","sunburst","tomorrow-night-blue","tomorrow-night-bright","tokyo-night-dark","vs2015","xt256","ant-design","a11y-light","arduino-light","ascetic","atom-one-light","base16/atelier-cave-light","base16/atelier-dune-light","base16/atelier-estuary-light","base16/atelier-forest-light","base16/atelier-heath-light","base16/atelier-lakeside-light","base16/atelier-plateau-light","base16/atelier-savanna-light","base16/atelier-seaside-light","base16/atelier-sulphurpool-light","base16/brush-trees","base16/classic-light","base16/cupcake","base16/cupertino","base16/default-light","base16/dirtysea","base16/edge-light","base16/equilibrium-gray-light","base16/equilibrium-light","base16/fruit-soda","base16/github","base16/google-light","base16/grayscale-light","base16/gruvbox-light-hard","base16/gruvbox-light-medium","base16/gruvbox-light-soft","base16/harmonic16-light","base16/heetch-light","base16/humanoid-light","base16/horizon-light","base16/ia-light","base16/material-lighter","base16/mexico-light","base16/one-light","base16/papercolor-light","base16/ros-pine-dawn","base16/sagelight","base16/shapeshifter","base16/silk-light","base16/solar-flare-light","base16/solarized-light","base16/summerfruit-light","base16/synth-midnight-terminal-light","base16/tomorrow","base16/unikitty-light","base16/windows-10-light","base16/windows-95-light","base16/windows-high-contrast-light","brown-paper","base16/windows-nt-light","color-brewer","docco","foundation","github","googlecode","gradient-light","grayscale","idea","intellij-light","isbl-editor-light","kimbie-light","lightfair","magula","mono-blue","nnfx-light","panda-syntax-light","paraiso-light","purebasic","qtcreator-light","routeros","school-book","stackoverflow-light","tokyo-night-light","vs","xcode","default"],d.ALIAS_CODE_LANGUAGES=["abc","plantuml","mermaid","flowchart","echarts","mindmap","graphviz","math","markmap","smiles","js","ts","html","toml","c#","bat"],d.CDN="https://unpkg.com/vditor@".concat("3.11.2"),d.MARKDOWN_OPTIONS={autoSpace:!1,gfmAutoLink:!0,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},d.HLJS_OPTIONS={enable:!0,lineNumber:!1,defaultLang:"",style:"github"},d.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},d.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:"".concat(d.CDN,"/dist/css/content-theme")},d})()}),825:((M,p,E)=>{E.d(p,{J:()=>v});var H=E(145),O=E(413),d=E(840),c=E(494),v=function(y,_,g){y===void 0&&(y=document),_===void 0&&(_=H.g.CDN);var k=d.SMILESRenderAdapter.getElements(y);k.length>0&&(0,O.G)("".concat(_,"/dist/js/smiles-drawer/smiles-drawer.min.js?v=2.1.7"),"vditorAbcjsScript").then(function(){var L=new SmiDrawer({},{});k.forEach(function(A){var T=d.SMILESRenderAdapter.getCode(A).trim();if(!(A.getAttribute("data-processed")==="true"||T.trim()==="")){var u="smiles"+(0,c.Wb)();A.innerHTML='<svg id="'.concat(u,'"></svg>'),L.draw(T,"#"+u,g==="dark"?"dark":void 0),A.setAttribute("data-processed","true")}})})}}),135:((M,p,E)=>{E.d(p,{Q:()=>c});var H=E(145),O=E(413),d=E(840),c=function(v,y){v===void 0&&(v=document),y===void 0&&(y=H.g.CDN);var _=d.abcRenderAdapter.getElements(v);_.length>0&&(0,O.G)("".concat(y,"/dist/js/abcjs/abcjs_basic.min.js"),"vditorAbcjsScript").then(function(){_.forEach(function(g){g.parentElement.classList.contains("vditor-wysiwyg__pre")||g.parentElement.classList.contains("vditor-ir__marker--pre")||g.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(g,d.abcRenderAdapter.getCode(g).trim()),g.style.overflowX="auto",g.setAttribute("data-processed","true"))})})}}),840:((M,p,E)=>{E.r(p),E.d(p,{mathRenderAdapter:()=>H,SMILESRenderAdapter:()=>O,mermaidRenderAdapter:()=>d,markmapRenderAdapter:()=>c,mindmapRenderAdapter:()=>v,chartRenderAdapter:()=>y,abcRenderAdapter:()=>_,graphvizRenderAdapter:()=>g,flowchartRenderAdapter:()=>k,plantumlRenderAdapter:()=>L});var H={getCode:function(A){return A.textContent},getElements:function(A){return A.querySelectorAll(".language-math")}},O={getCode:function(A){return A.textContent},getElements:function(A){return A.querySelectorAll(".language-smiles")}},d={getCode:function(A){return A.textContent},getElements:function(A){return A.querySelectorAll(".language-mermaid")}},c={getCode:function(A){return A.textContent},getElements:function(A){return A.querySelectorAll(".language-markmap")}},v={getCode:function(A){return A.getAttribute("data-code")},getElements:function(A){return A.querySelectorAll(".language-mindmap")}},y={getCode:function(A){return A.innerText},getElements:function(A){return A.querySelectorAll(".language-echarts")}},_={getCode:function(A){return A.textContent},getElements:function(A){return A.querySelectorAll(".language-abc")}},g={getCode:function(A){return A.textContent},getElements:function(A){return A.querySelectorAll(".language-graphviz")}},k={getCode:function(A){return A.textContent},getElements:function(A){return A.querySelectorAll(".language-flowchart")}},L={getCode:function(A){return A.textContent},getElements:function(A){return A.querySelectorAll(".language-plantuml")}}}),775:((M,p,E)=>{E.d(p,{p:()=>_});var H=E(145),O=E(413),d=E(840),c=E(494),v=function(g,k,L,A){function T(u){return u instanceof L?u:new L(function(N){N(u)})}return new(L||(L=Promise))(function(u,N){function F(J){try{I(A.next(J))}catch(ie){N(ie)}}function V(J){try{I(A.throw(J))}catch(ie){N(ie)}}function I(J){J.done?u(J.value):T(J.value).then(F,V)}I((A=A.apply(g,k||[])).next())})},y=function(g,k){var L={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},A,T,u,N;return N={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function F(I){return function(J){return V([I,J])}}function V(I){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,I[0]&&(L=0)),L;)try{if(A=1,T&&(u=I[0]&2?T.return:I[0]?T.throw||((u=T.return)&&u.call(T),0):T.next)&&!(u=u.call(T,I[1])).done)return u;switch(T=0,u&&(I=[I[0]&2,u.value]),I[0]){case 0:case 1:u=I;break;case 4:return L.label++,{value:I[1],done:!1};case 5:L.label++,T=I[1],I=[0];continue;case 7:I=L.ops.pop(),L.trys.pop();continue;default:if(u=L.trys,!(u=u.length>0&&u[u.length-1])&&(I[0]===6||I[0]===2)){L=0;continue}if(I[0]===3&&(!u||I[1]>u[0]&&I[1]<u[3])){L.label=I[1];break}if(I[0]===6&&L.label<u[1]){L.label=u[1],u=I;break}if(u&&L.label<u[2]){L.label=u[2],L.ops.push(I);break}u[2]&&L.ops.pop(),L.trys.pop();continue}I=k.call(g,L)}catch(J){I=[6,J],T=0}finally{A=u=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},_=function(g,k,L){g===void 0&&(g=document),k===void 0&&(k=H.g.CDN);var A=d.chartRenderAdapter.getElements(g);A.length>0&&(0,O.G)("".concat(k,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){A.forEach(function(T){return v(void 0,void 0,void 0,function(){var u,N,F;return y(this,function(V){switch(V.label){case 0:if(T.parentElement.classList.contains("vditor-wysiwyg__pre")||T.parentElement.classList.contains("vditor-ir__marker--pre"))return[2];if(u=d.chartRenderAdapter.getCode(T).trim(),!u)return[2];V.label=1;case 1:return V.trys.push([1,3,,4]),T.getAttribute("data-processed")==="true"?[2]:[4,(0,c.Qf)(u)];case 2:return N=V.sent(),echarts.init(T,L==="dark"?"dark":void 0).setOption(N),T.setAttribute("data-processed","true"),[3,4];case 3:return F=V.sent(),T.className="vditor-reset--error",T.innerHTML="echarts render error: <br>".concat(F),[3,4];case 4:return[2]}})})})})}}),428:((M,p,E)=>{E.d(p,{O:()=>d});var H=E(105),O=E(145),d=function(c,v){Array.from(c.querySelectorAll("pre > code")).filter(function(y,_){return!(y.parentElement.classList.contains("vditor-wysiwyg__pre")||y.parentElement.classList.contains("vditor-ir__marker--pre")||y.classList.contains("language-mermaid")||y.classList.contains("language-flowchart")||y.classList.contains("language-echarts")||y.classList.contains("language-mindmap")||y.classList.contains("language-plantuml")||y.classList.contains("language-markmap")||y.classList.contains("language-abc")||y.classList.contains("language-graphviz")||y.classList.contains("language-math")||y.classList.contains("language-smiles")||y.style.maxHeight.indexOf("px")>-1||c.classList.contains("vditor-preview")&&_>5)}).forEach(function(y){var _,g,k,L=y.innerText;if(y.classList.contains("highlight-chroma")){var A=y.cloneNode(!0);A.querySelectorAll(".highlight-ln").forEach(function(F){F.remove()}),L=A.innerText}else L.endsWith(`
`)&&(L=L.substr(0,L.length-1));var T='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(T='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var u=document.createElement("div");u.className="vditor-copy",u.innerHTML='<span aria-label="'.concat(((_=window.VditorI18n)===null||_===void 0?void 0:_.copy)||"",`"
onmouseover="this.setAttribute('aria-label', '`).concat(((g=window.VditorI18n)===null||g===void 0?void 0:g.copy)||"",`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="event.stopPropagation();this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`).concat(((k=window.VditorI18n)===null||k===void 0?void 0:k.copied)||"",`');this.previousElementSibling.blur()">`).concat(T,"</span>");var N=document.createElement("textarea");N.value=(0,H.X)(L),u.insertAdjacentElement("afterbegin",N),v&&v.renderMenu&&v.renderMenu(y,u),y.before(u),y.style.maxHeight=window.outerHeight-40+"px",y.insertAdjacentHTML("afterend",'<span style="position: absolute">'.concat(O.g.ZWSP,"</span>"))})}}),325:((M,p,E)=>{E.d(p,{P:()=>c});var H=E(145),O=E(413),d=E(840),c=function(v,y){y===void 0&&(y=H.g.CDN);var _=d.flowchartRenderAdapter.getElements(v);_.length!==0&&(0,O.G)("".concat(y,"/dist/js/flowchart.js/flowchart.min.js"),"vditorFlowchartScript").then(function(){_.forEach(function(g){if(g.getAttribute("data-processed")!=="true"){var k=flowchart.parse(d.flowchartRenderAdapter.getCode(g));g.innerHTML="",k.drawSVG(g),g.setAttribute("data-processed","true")}})})}}),483:((M,p,E)=>{E.d(p,{v:()=>c});var H=E(145),O=E(413),d=E(840),c=function(v,y){y===void 0&&(y=H.g.CDN);var _=d.graphvizRenderAdapter.getElements(v);_.length!==0&&(0,O.G)("".concat(y,"/dist/js/graphviz/viz.js"),"vditorGraphVizScript").then(function(){_.forEach(function(g){var k=d.graphvizRenderAdapter.getCode(g);if(!(g.parentElement.classList.contains("vditor-wysiwyg__pre")||g.parentElement.classList.contains("vditor-ir__marker--pre"))&&!(g.getAttribute("data-processed")==="true"||k.trim()==="")){try{var L=new Blob(["importScripts('".concat(document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js"),"');")],{type:"application/javascript"}),A=window.URL||window.webkitURL,T=A.createObjectURL(L),u=new Worker(T);new Viz({worker:u}).renderSVGElement(k).then(function(N){g.innerHTML=N.outerHTML}).catch(function(N){g.innerHTML="graphviz render error: <br>".concat(N),g.className="vditor-reset--error"})}catch(N){console.error("graphviz error",N)}g.setAttribute("data-processed","true")}})})}}),999:((M,p,E)=>{E.d(p,{s:()=>c});var H=E(145),O=E(413),d=E(290),c=function(v,y,_){y===void 0&&(y=document),_===void 0&&(_=H.g.CDN);var g=v.style;H.g.CODE_THEME.includes(g)||(g="github");var k=document.getElementById("vditorHljsStyle"),L="".concat(_,"/dist/js/highlight.js/styles/").concat(g,".min.css");if(k&&k.getAttribute("href")!==L&&k.remove(),(0,d.c)("".concat(_,"/dist/js/highlight.js/styles/").concat(g,".min.css"),"vditorHljsStyle"),v.enable!==!1){var A=y.querySelectorAll("pre > code");A.length!==0&&(0,O.G)("".concat(_,"/dist/js/highlight.js/highlight.min.js?v=11.7.0"),"vditorHljsScript").then(function(){(0,O.G)("".concat(_,"/dist/js/highlight.js/third-languages.js?v=1.0.1"),"vditorHljsThirdScript").then(function(){y.querySelectorAll("pre > code").forEach(function(T){if(!(T.parentElement.classList.contains("vditor-ir__marker--pre")||T.parentElement.classList.contains("vditor-wysiwyg__pre"))&&!(T.classList.contains("language-mermaid")||T.classList.contains("language-flowchart")||T.classList.contains("language-echarts")||T.classList.contains("language-mindmap")||T.classList.contains("language-plantuml")||T.classList.contains("language-smiles")||T.classList.contains("language-abc")||T.classList.contains("language-graphviz")||T.classList.contains("language-math"))){v.defaultLang!==""&&T.className.indexOf("language-")===-1&&T.classList.add("language-"+v.defaultLang);var u=T.className.replace("language-","");if(window.hljs.getLanguage(u)||(u="plaintext"),T.innerHTML=window.hljs.highlight(T.textContent,{language:u,ignoreIllegals:!0}).value,T.classList.add("hljs"),!!v.lineNumber){T.classList.add("vditor-linenumber");var N=T.querySelector(".vditor-linenumber__temp");N||(N=document.createElement("div"),N.className="vditor-linenumber__temp",T.insertAdjacentElement("beforeend",N));var F=getComputedStyle(T).whiteSpace,V=!1;(F==="pre-wrap"||F==="pre-line")&&(V=!0);var I="",J=T.textContent.split(/\r\n|\r|\n/g);J.pop(),J.map(function(ie){var ue="";V&&(N.textContent=ie||`
`,ue=' style="height:'.concat(N.getBoundingClientRect().height,'px"')),I+="<span".concat(ue,"></span>")}),N.style.display="none",I='<span class="vditor-linenumber__rows">'.concat(I,"</span>"),T.insertAdjacentHTML("beforeend",I)}}})})})}}}),11:((M,p,E)=>{E.d(p,{K:()=>_});var H=E(145),O=E(413),d=E(840),c={},v=function(g,k){var L=g.transform(k),A=Object.keys(L.features).filter(function(V){return!c[V]});A.forEach(function(V){c[V]=!0});var T=g.getAssets(A),u=T.styles,N=T.scripts,F=window.markmap;return u&&F.loadCSS(u),N&&F.loadJS(N),L},y=function(g,k){var L=window.markmap,A=L.Transformer,T=L.Markmap,u=L.deriveOptions;L.globalCSS;var N=new A;g.innerHTML='<svg style="width:100%"></svg>';var F=g.firstChild,V=T.create(F,null),I=v(N,k),J=I.root,ie=I.frontmatter,ue=ie?.markmap,ye=u(ue);V.setData(J,ye),V.fit()},_=function(g,k){g===void 0&&(g=document),k===void 0&&(k=H.g.CDN);var L=d.markmapRenderAdapter.getElements(g);L.length!==0&&(0,O.G)("".concat(k,"/dist/js/markmap/markmap.min.js"),"vditorMarkerScript").then(function(){L.forEach(function(A){var T=d.markmapRenderAdapter.getCode(A);if(!(A.getAttribute("data-processed")==="true"||T.trim()==="")){var u=document.createElement("div");u.className="language-markmap",A.parentNode.appendChild(u),y(u,T),A.parentNode.childNodes[0].nodeName=="CODE"&&A.parentNode.removeChild(A.parentNode.childNodes[0])}})})}}),472:((M,p,E)=>{E.d(p,{H:()=>y});var H=E(145),O=E(413),d=E(290),c=E(105),v=E(840),y=function(_,g){_===void 0&&(_=document);var k=v.mathRenderAdapter.getElements(_);if(k.length!==0){var L={cdn:H.g.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(g&&g.math&&(g.math=Object.assign({},L.math,g.math)),g=Object.assign({},L,g),g.math.engine==="KaTeX")(0,d.c)("".concat(g.cdn,"/dist/js/katex/katex.min.css?v=0.16.9"),"vditorKatexStyle"),(0,O.G)("".concat(g.cdn,"/dist/js/katex/katex.min.js?v=0.16.9"),"vditorKatexScript").then(function(){(0,O.G)("".concat(g.cdn,"/dist/js/katex/mhchem.min.js?v=0.16.9"),"vditorKatexChemScript").then(function(){k.forEach(function(u){if(!(u.parentElement.classList.contains("vditor-wysiwyg__pre")||u.parentElement.classList.contains("vditor-ir__marker--pre"))&&!u.getAttribute("data-math")){var N=(0,c.X)(v.mathRenderAdapter.getCode(u));u.setAttribute("data-math",N);try{u.innerHTML=katex.renderToString(N,{displayMode:u.tagName==="DIV",output:"html",macros:g.math.macros})}catch(F){u.innerHTML=F.message,u.className="language-math vditor-reset--error"}u.addEventListener("copy",function(F){F.stopPropagation(),F.preventDefault();var V=F.currentTarget.closest(".language-math");F.clipboardData.setData("text/html",V.innerHTML),F.clipboardData.setData("text/plain",V.getAttribute("data-math"))})}})})});else if(g.math.engine==="MathJax"){var A=function(u){if(u.length!==0){var N=0,F=u[u.length-1],V=function(){var I=u[N++];I===F?I():I(V)};V()}};window.MathJax||(window.MathJax={loader:{paths:{mathjax:"".concat(g.cdn,"/dist/js/mathjax")}},startup:{typeset:!1},tex:{macros:g.math.macros}},Object.assign(window.MathJax,g.math.mathJaxOptions)),(0,O.J)("".concat(g.cdn,"/dist/js/mathjax/tex-svg-full.js"),"protyleMathJaxScript");var T=function(u,N){var F=(0,c.X)(u.textContent).trim(),V=window.MathJax.getMetricsFor(u);V.display=u.tagName==="DIV",window.MathJax.tex2svgPromise(F,V).then(function(I){u.innerHTML="",u.setAttribute("data-math",F),u.append(I),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var J=I.querySelector('[data-mml-node="merror"]');J&&J.textContent.trim()!==""&&(u.innerHTML=J.textContent.trim(),u.className="vditor-reset--error"),N&&N()})};window.MathJax.startup.promise.then(function(){for(var u=[],N=function(V){var I=k[V];!I.parentElement.classList.contains("vditor-wysiwyg__pre")&&!I.parentElement.classList.contains("vditor-ir__marker--pre")&&!I.getAttribute("data-math")&&(0,c.X)(I.textContent).trim()&&u.push(function(J){V===k.length-1?T(I):T(I,J)})},F=0;F<k.length;F++)N(F);A(u)})}}}}),280:((M,p,E)=>{E.d(p,{Y:()=>v});var H=E(494),O=function(y,_){y.insertAdjacentHTML("afterend",'<video controls="controls" src="'.concat(_,'"></video>')),y.remove()},d=function(y,_){y.insertAdjacentHTML("afterend",'<audio controls="controls" src="'.concat(_,'"></audio>')),y.remove()},c=function(y,_){var g=_.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),k=_.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),L=_.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),A=_.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),T=_.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),u=_.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),N=_.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),F=_.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);if(g&&g[1].length===11)y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'.concat(g[1]+(g[2]?"?start="+g[2]:""),'"></iframe>')),y.remove();else if(k&&k[1])y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'.concat(k[1],'"></iframe>')),y.remove();else if(L&&L[1])y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='.concat(L[1],'"></iframe>')),y.remove();else if(A&&A[1])y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`.concat(A[1],'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>')),y.remove();else if(T&&T[0])y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`.concat(encodeURIComponent(T[0]),'"></iframe>')),y.remove();else if(u&&u[2])y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`.concat(u[2],'"></iframe>')),y.remove();else if(_.indexOf("bilibili.com")>-1&&(_.indexOf("bvid=")>-1||N&&N[1])){var V={bvid:(0,H.on)("bvid",_)||N&&N[1],page:"1",high_quality:"1",as_wide:"1",allowfullscreen:"true",autoplay:"0"};new URL(_.startsWith("http")?_:"https:"+_).search.split("&").forEach(function(ie,ue){if(ie){ue===0&&(ie=ie.substr(1));var ye=ie.split("=");V[ye[0]]=ye[1]}});var I="https://player.bilibili.com/player.html?",J=Object.keys(V);J.forEach(function(ie,ue){I+="".concat(ie,"=").concat(V[ie]),ue<J.length-1&&(I+="&")}),y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="'.concat(I,'"></iframe>')),y.remove()}else F&&F[1]&&(y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'.concat(F[1],'"></iframe>')),y.remove())},v=function(y){y&&y.querySelectorAll("a").forEach(function(_){var g=_.getAttribute("href");g&&(g.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?O(_,g):g.match(/^.+.(mp3|wav|flac)$/)?d(_,g):c(_,g))})}}),637:((M,p,E)=>{E.d(p,{i:()=>_});var H=E(145),O=E(413),d=E(840),c=E(494),v=function(g,k,L,A){function T(u){return u instanceof L?u:new L(function(N){N(u)})}return new(L||(L=Promise))(function(u,N){function F(J){try{I(A.next(J))}catch(ie){N(ie)}}function V(J){try{I(A.throw(J))}catch(ie){N(ie)}}function I(J){J.done?u(J.value):T(J.value).then(F,V)}I((A=A.apply(g,k||[])).next())})},y=function(g,k){var L={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},A,T,u,N;return N={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function F(I){return function(J){return V([I,J])}}function V(I){if(A)throw new TypeError("Generator is already executing.");for(;N&&(N=0,I[0]&&(L=0)),L;)try{if(A=1,T&&(u=I[0]&2?T.return:I[0]?T.throw||((u=T.return)&&u.call(T),0):T.next)&&!(u=u.call(T,I[1])).done)return u;switch(T=0,u&&(I=[I[0]&2,u.value]),I[0]){case 0:case 1:u=I;break;case 4:return L.label++,{value:I[1],done:!1};case 5:L.label++,T=I[1],I=[0];continue;case 7:I=L.ops.pop(),L.trys.pop();continue;default:if(u=L.trys,!(u=u.length>0&&u[u.length-1])&&(I[0]===6||I[0]===2)){L=0;continue}if(I[0]===3&&(!u||I[1]>u[0]&&I[1]<u[3])){L.label=I[1];break}if(I[0]===6&&L.label<u[1]){L.label=u[1],u=I;break}if(u&&L.label<u[2]){L.label=u[2],L.ops.push(I);break}u[2]&&L.ops.pop(),L.trys.pop();continue}I=k.call(g,L)}catch(J){I=[6,J],T=0}finally{A=u=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},_=function(g,k,L){g===void 0&&(g=document),k===void 0&&(k=H.g.CDN);var A=d.mermaidRenderAdapter.getElements(g);A.length!==0&&(0,O.G)("".concat(k,"/dist/js/mermaid/mermaid.min.js?v=11.6.0"),"vditorMermaidScript").then(function(){var T={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8,showSequenceNumbers:!0},gantt:{leftPadding:75,rightPadding:20}};L==="dark"&&(T.theme="dark"),mermaid.initialize(T),A.forEach(function(u){return v(void 0,void 0,void 0,function(){var N,F,V,I,J;return y(this,function(ie){switch(ie.label){case 0:if(N=d.mermaidRenderAdapter.getCode(u),u.getAttribute("data-processed")==="true"||N.trim()==="")return[2];F="mermaid"+(0,c.Wb)(),ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,mermaid.render(F,u.textContent)];case 2:return V=ie.sent(),u.innerHTML=V.svg,[3,4];case 3:return I=ie.sent(),J=document.querySelector("#"+F),u.innerHTML="".concat(J.outerHTML,`<br>
<div style="text-align: left"><small>`).concat(I.message.replace(/\n/,"<br>"),"</small></div>"),J.parentElement.remove(),[3,4];case 4:return u.setAttribute("data-processed","true"),[2]}})})})})}}),194:((M,p,E)=>{E.d(p,{P:()=>c});var H=E(145),O=E(413),d=E(840),c=function(v,y,_){v===void 0&&(v=document),y===void 0&&(y=H.g.CDN);var g=d.mindmapRenderAdapter.getElements(v);g.length>0&&(0,O.G)("".concat(y,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){g.forEach(function(k){if(!(k.parentElement.classList.contains("vditor-wysiwyg__pre")||k.parentElement.classList.contains("vditor-ir__marker--pre"))){var L=d.mindmapRenderAdapter.getCode(k);if(L)try{if(k.getAttribute("data-processed")==="true")return;echarts.init(k,_==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(L))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(A,T){var u;return!((u=T?.data)===null||u===void 0)&&u.children?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),k.setAttribute("data-processed","true")}catch(A){k.className="vditor-reset--error",k.innerHTML="mindmap render error: <br>".concat(A)}}})})}}),436:((M,p,E)=>{E.d(p,{k:()=>d});var H=E(771),O=E(472),d=function(c,v,y){var _="",g=[];if(Array.from(c.children).forEach(function(T,u){if((0,H.W)(T)){if(y){var N=T.id.lastIndexOf("_");T.id=T.id.substring(0,N===-1?void 0:N)+"_"+u}g.push(T.id),_+=T.outerHTML.replace("<wbr>","")}}),_==="")return v.innerHTML="","";var k=document.createElement("div");if(y)y.lute.SetToC(!0),y.currentMode==="wysiwyg"&&!y.preview.element.contains(c)?k.innerHTML=y.lute.SpinVditorDOM("<p>[ToC]</p>"+_):y.currentMode==="ir"&&!y.preview.element.contains(c)?k.innerHTML=y.lute.SpinVditorIRDOM("<p>[ToC]</p>"+_):k.innerHTML=y.lute.HTML2VditorDOM("<p>[ToC]</p>"+_),y.lute.SetToC(y.options.preview.markdown.toc);else{v.classList.add("vditor-outline");var L=Lute.New();L.SetToC(!0),k.innerHTML=L.HTML2VditorDOM("<p>[ToC]</p>"+_)}var A=k.firstElementChild.querySelectorAll("li > span[data-target-id]");return A.forEach(function(T,u){if(T.nextElementSibling&&T.nextElementSibling.tagName==="UL"){var N="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(N='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),T.innerHTML="".concat(N,"<span>").concat(T.innerHTML,"</span>")}else T.innerHTML="<svg></svg><span>".concat(T.innerHTML,"</span>");T.setAttribute("data-target-id",g[u])}),_=k.firstElementChild.innerHTML,A.length===0?(v.innerHTML="",_):(v.innerHTML=_,y&&(0,O.H)(v,{cdn:y.options.cdn,math:y.options.preview.math}),v.firstElementChild.addEventListener("click",function(T){for(var u=T.target;u&&!u.isEqualNode(v);){if(u.classList.contains("vditor-outline__action")){u.classList.contains("vditor-outline__action--close")?(u.classList.remove("vditor-outline__action--close"),u.parentElement.nextElementSibling.setAttribute("style","display:block")):(u.classList.add("vditor-outline__action--close"),u.parentElement.nextElementSibling.setAttribute("style","display:none")),T.preventDefault(),T.stopPropagation();break}else if(u.getAttribute("data-target-id")){T.preventDefault(),T.stopPropagation();var N=document.getElementById(u.getAttribute("data-target-id"));if(!N)return;if(y)if(y.options.height==="auto"){var F=N.offsetTop+y.element.offsetTop;y.options.toolbarConfig.pin||(F+=y.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,F)}else y.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,y.element.offsetTop),y.preview.element.contains(c)?c.parentElement.scrollTop=N.offsetTop:c.scrollTop=N.offsetTop;else window.scrollTo(window.scrollX,N.offsetTop);break}u=u.parentElement}}),_)}}),229:((M,p,E)=>{E.d(p,{B:()=>c});var H=E(145),O=E(413),d=E(840),c=function(v,y){v===void 0&&(v=document),y===void 0&&(y=H.g.CDN);var _=d.plantumlRenderAdapter.getElements(v);_.length!==0&&(0,O.G)("".concat(y,"/dist/js/plantuml/plantuml-encoder.min.js"),"vditorPlantumlScript").then(function(){_.forEach(function(g){if(!(g.parentElement.classList.contains("vditor-wysiwyg__pre")||g.parentElement.classList.contains("vditor-ir__marker--pre"))){var k=d.plantumlRenderAdapter.getCode(g).trim();if(k)try{g.innerHTML='<object type="image/svg+xml" data="https://www.plantuml.com/plantuml/svg/~1'.concat(plantumlEncoder.encode(k),'"/>')}catch(L){g.className="vditor-reset--error",g.innerHTML="plantuml render error: <br>".concat(L)}}})})}}),214:((M,p,E)=>{E.d(p,{X:()=>H});var H=function(O){var d=Lute.New();return d.PutEmojis(O.emojis),d.SetEmojiSite(O.emojiSite),d.SetHeadingAnchor(O.headingAnchor),d.SetInlineMathAllowDigitAfterOpenMarker(O.inlineMathDigit),d.SetAutoSpace(O.autoSpace),d.SetToC(O.toc),d.SetFootnotes(O.footnotes),d.SetFixTermTypo(O.fixTermTypo),d.SetVditorCodeBlockPreview(O.codeBlockPreview),d.SetVditorMathBlockPreview(O.mathBlockPreview),d.SetSanitize(O.sanitize),d.SetChineseParagraphBeginningSpace(O.paragraphBeginningSpace),d.SetRenderListStyle(O.listStyle),d.SetLinkBase(O.linkBase),d.SetLinkPrefix(O.linkPrefix),d.SetMark(O.mark),d.SetGFMAutoLink(O.gfmAutoLink),O.lazyLoadImage&&d.SetImageLazyLoading(O.lazyLoadImage),d}}),190:((M,p,E)=>{E.d(p,{E:()=>H});var H=function(O,d,c){c===void 0&&(c="classic");var v=O.getBoundingClientRect(),y=36;document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'.concat(c==="dark"?" vditor--dark":"",`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `).concat(window.VditorI18n.spin,`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`).concat(window.VditorI18n.close,`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `).concat(O.width,"px;height:").concat(O.height,"px;transform: translate3d(").concat(v.left,"px, ").concat(v.top-y,'px, 0)" src="').concat(O.getAttribute("src"),`">
    </div>
</div>`)),document.body.style.overflow="hidden";var _=document.querySelector(".vditor-img img"),g="translate3d(".concat(Math.max(0,window.innerWidth-O.naturalWidth)/2,"px, ").concat(Math.max(0,window.innerHeight-y-O.naturalHeight)/2,"px, 0)");setTimeout(function(){_.setAttribute("style","transition: transform .3s ease-in-out;transform: ".concat(g)),setTimeout(function(){_.parentElement.scrollTo((_.parentElement.scrollWidth-_.parentElement.clientWidth)/2,(_.parentElement.scrollHeight-_.parentElement.clientHeight)/2)},400)});var k=document.querySelector(".vditor-img__btn");k.addEventListener("click",function(){var L=parseInt(k.getAttribute("data-deg"),10)+90;L/90%2===1&&O.naturalWidth>_.parentElement.clientHeight?_.style.transform="translate3d(".concat(Math.max(0,window.innerWidth-O.naturalWidth)/2,"px, ").concat(O.naturalWidth/2-O.naturalHeight/2,"px, 0) rotateZ(").concat(L,"deg)"):_.style.transform="".concat(g," rotateZ(").concat(L,"deg)"),k.setAttribute("data-deg",L.toString()),setTimeout(function(){_.parentElement.scrollTo((_.parentElement.scrollWidth-_.parentElement.clientWidth)/2,(_.parentElement.scrollHeight-_.parentElement.clientHeight)/2)},400)})}}),580:((M,p,E)=>{E.d(p,{Y:()=>d});var H=E(145),O=E(290),d=function(c,v){v===void 0&&(v=H.g.CDN),H.g.CODE_THEME.includes(c)||(c="github");var y=document.getElementById("vditorHljsStyle"),_="".concat(v,"/dist/js/highlight.js/styles/").concat(c,".min.css");y?y.getAttribute("href")!==_&&(y.remove(),(0,O.c)(_,"vditorHljsStyle")):(0,O.c)(_,"vditorHljsStyle")}}),538:((M,p,E)=>{E.d(p,{Z:()=>O});var H=E(290),O=function(d,c){if(!(!d||!c)){var v=document.getElementById("vditorContentTheme"),y="".concat(c,"/").concat(d,".css");v?v.getAttribute("href")!==y&&(v.remove(),(0,H.c)(y,"vditorContentTheme")):(0,H.c)(y,"vditorContentTheme")}}}),413:((M,p,E)=>{E.d(p,{J:()=>H,G:()=>O});var H=function(d,c){if(document.getElementById(c))return!1;var v=new XMLHttpRequest;v.open("GET",d,!1),v.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),v.send("");var y=document.createElement("script");y.type="text/javascript",y.text=v.responseText,y.id=c,document.head.appendChild(y)},O=function(d,c){return new Promise(function(v,y){if(document.getElementById(c))return v(!0),!1;var _=document.createElement("script");_.src=d,_.async=!0,document.head.appendChild(_),_.onerror=function(g){y(g)},_.onload=function(){if(document.getElementById(c))return _.remove(),v(!0),!1;_.id=c,v(!0)}})}}),290:((M,p,E)=>{E.d(p,{c:()=>H});var H=function(O,d){if(!document.getElementById(d)){var c=document.createElement("link");c.id=d,c.rel="stylesheet",c.type="text/css",c.href=O,document.getElementsByTagName("head")[0].appendChild(c)}}}),105:((M,p,E)=>{E.d(p,{X:()=>H});var H=function(O){return O.replace(/\u00a0/g," ")}}),410:((M,p,E)=>{E.d(p,{G6:()=>H,vU:()=>O,pK:()=>d,Le:()=>c,yl:()=>v,ns:()=>y,i7:()=>_});var H=function(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")===-1},O=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},d=function(){try{return typeof localStorage<"u"}catch{return!1}},c=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},v=function(g){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!!(g.metaKey&&!g.ctrlKey):!!(!g.metaKey&&g.ctrlKey)},y=function(g){return/Mac/.test(navigator.platform)||navigator.platform==="iPhone"?g.indexOf("")>-1&&O()&&(g=g.replace(";",":").replace("=","+").replace("-","_")):(g.startsWith("")?g=g.replace("","+"):g.startsWith("")&&g.substr(1,1)!==""?g=g.replace("","+"):g=g.replace("","++").replace("","++"),g=g.replace("","Ctrl").replace("","Shift").replace("","Alt"),g.indexOf("Shift")>-1&&(g=g.replace(";",":").replace("=","+").replace("-","_"))),g},_=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}}),494:((M,p,E)=>{E.d(p,{Wb:()=>H,on:()=>O,Qf:()=>d});var H=function(){return([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(c){return(parseInt(c,10)^window.crypto.getRandomValues(new Uint32Array(1))[0]&15>>parseInt(c,10)/4).toString(16)})},O=function(c,v){v===void 0&&(v=window.location.search);var y=v.substring(v.indexOf("?")),_=y.indexOf("#"),g=new URLSearchParams(y.substring(0,_>=0?_:void 0));return g.get(c)},d=function(c){return Function('"use strict";return ('.concat(c,")"))()}}),106:((M,p,E)=>{E.d(p,{JQ:()=>O,E2:()=>d,O9:()=>c,a1:()=>v,F9:()=>y,lG:()=>_,fb:()=>g,DX:()=>k});var H=E(771),O=function(L,A){for(var T=g(L,A),u=!1,N=!1;T&&!T.classList.contains("vditor-reset")&&!N;)u=g(T.parentElement,A),u?T=u:N=!0;return T||!1},d=function(L,A){for(var T=(0,H.S)(L,A),u=!1,N=!1;T&&!T.classList.contains("vditor-reset")&&!N;)u=(0,H.S)(T.parentElement,A),u?T=u:N=!0;return T||!1},c=function(L){var A=d(L,"UL"),T=d(L,"OL"),u=A;return T&&(!A||A&&T.contains(A))&&(u=T),u},v=function(L,A,T){if(!L)return!1;L.nodeType===3&&(L=L.parentElement);for(var u=L,N=!1;u&&!N&&!u.classList.contains("vditor-reset");)u.getAttribute(A)===T?N=!0:u=u.parentElement;return N&&u},y=function(L){if(!L)return!1;L.nodeType===3&&(L=L.parentElement);var A=L,T=!1,u=v(L,"data-block","0");if(u)return u;for(;A&&!T&&!A.classList.contains("vditor-reset");)A.tagName==="H1"||A.tagName==="H2"||A.tagName==="H3"||A.tagName==="H4"||A.tagName==="H5"||A.tagName==="H6"||A.tagName==="P"||A.tagName==="BLOCKQUOTE"||A.tagName==="OL"||A.tagName==="UL"?T=!0:A=A.parentElement;return T&&A},_=function(L,A){if(!L)return!1;L.nodeType===3&&(L=L.parentElement);for(var T=L,u=!1;T&&!u&&!T.classList.contains("vditor-reset");)T.nodeName===A?u=!0:T=T.parentElement;return u&&T},g=function(L,A){if(!L)return!1;L.nodeType===3&&(L=L.parentElement);for(var T=L,u=!1;T&&!u&&!T.classList.contains("vditor-reset");)T.classList.contains(A)?u=!0:T=T.parentElement;return u&&T},k=function(L){for(;L&&L.lastChild;)L=L.lastChild;return L}}),771:((M,p,E)=>{E.d(p,{S:()=>H,W:()=>O});var H=function(d,c){if(!d)return!1;d.nodeType===3&&(d=d.parentElement);for(var v=d,y=!1;v&&!y&&!v.classList.contains("vditor-reset");)v.nodeName.indexOf(c)===0?y=!0:v=v.parentElement;return y&&v},O=function(d){var c=H(d,"H");return c&&c.tagName.length===2&&c.tagName!=="HR"?c:!1}}),673:((M,p,E)=>{E.d(p,{T:()=>H});var H=function(){for(var O=[],d=0;d<arguments.length;d++)O[d]=arguments[d];for(var c={},v=function(_){for(var g in _)_.hasOwnProperty(g)&&(Object.prototype.toString.call(_[g])==="[object Object]"?c[g]=H(c[g],_[g]):c[g]=_[g])},y=0;y<O.length;y++)v(O[y]);return c}}),810:((M,p,E)=>{E.d(p,{zh:()=>c,Ny:()=>v,Gb:()=>y,Hc:()=>_,im:()=>g,$j:()=>k,ib:()=>L,oC:()=>A});var H=E(145),O=E(410),d=E(106),c=function(T){var u,N=T[T.currentMode].element;return getSelection().rangeCount>0&&(u=getSelection().getRangeAt(0),N.isEqualNode(u.startContainer)||N.contains(u.startContainer))?u:T[T.currentMode].range?T[T.currentMode].range:(N.focus(),u=N.ownerDocument.createRange(),u.setStart(N,0),u.collapse(!0),u)},v=function(T){var u=window.getSelection().getRangeAt(0);if(!T.contains(u.startContainer)&&!(0,d.fb)(u.startContainer,"vditor-panel--none"))return{left:0,top:0};var N=T.parentElement.getBoundingClientRect(),F;if(u.getClientRects().length===0)if(u.startContainer.nodeType===3){var V=u.startContainer.parentElement;if(V&&V.getClientRects().length>0)F=V.getClientRects()[0];else return{left:0,top:0}}else{var I=u.startContainer.children;if(I[u.startOffset]&&I[u.startOffset].getClientRects().length>0)F=I[u.startOffset].getClientRects()[0];else if(u.startContainer.childNodes.length>0){var J=u.cloneRange();u.selectNode(u.startContainer.childNodes[Math.max(0,u.startOffset-1)]),F=u.getClientRects()[0],u.setEnd(J.endContainer,J.endOffset),u.setStart(J.startContainer,J.startOffset)}else F=u.startContainer.getClientRects()[0];if(!F){for(var ie=u.startContainer.childNodes[u.startOffset];!ie.getClientRects||ie.getClientRects&&ie.getClientRects().length===0;)ie=ie.parentElement;F=ie.getClientRects()[0]}}else F=u.getClientRects()[0];return{left:F.left-N.left,top:F.top-N.top}},y=function(T,u){if(!u){if(getSelection().rangeCount===0)return!1;u=getSelection().getRangeAt(0)}var N=u.commonAncestorContainer;return T.isEqualNode(N)||T.contains(N)},_=function(T){var u=window.getSelection();u.removeAllRanges(),u.addRange(T)},g=function(T,u,N){var F={end:0,start:0};if(!N){if(getSelection().rangeCount===0)return F;N=window.getSelection().getRangeAt(0)}if(y(u,N)){var V=N.cloneRange();T.childNodes[0]&&T.childNodes[0].childNodes[0]?V.setStart(T.childNodes[0].childNodes[0],0):V.selectNodeContents(T),V.setEnd(N.startContainer,N.startOffset),F.start=V.toString().length,F.end=F.start+N.toString().length}return F},k=function(T,u,N){var F=0,V=0,I=N.childNodes[V],J=!1,ie=!1;T=Math.max(0,T),u=Math.max(0,u);var ue=N.ownerDocument.createRange();for(ue.setStart(I||N,0),ue.collapse(!0);!ie&&I;){var ye=F+I.textContent.length;if(!J&&T>=F&&T<=ye&&(T===0?ue.setStart(I,0):I.childNodes[0].nodeType===3?ue.setStart(I.childNodes[0],T-F):I.nextSibling?ue.setStartBefore(I.nextSibling):ue.setStartAfter(I),J=!0,T===u)){ie=!0;break}J&&u>=F&&u<=ye&&(u===0?ue.setEnd(I,0):I.childNodes[0].nodeType===3?ue.setEnd(I.childNodes[0],u-F):I.nextSibling?ue.setEndBefore(I.nextSibling):ue.setEndAfter(I),ie=!0),F=ye,I=N.childNodes[++V]}return!ie&&N.childNodes[V-1]&&ue.setStartBefore(N.childNodes[V-1]),_(ue),ue},L=function(T,u){var N=T.querySelector("wbr");if(N){if(!N.previousElementSibling)N.previousSibling?u.setStart(N.previousSibling,N.previousSibling.textContent.length):N.nextSibling?N.nextSibling.nodeType===3?u.setStart(N.nextSibling,0):u.setStartBefore(N.nextSibling):u.setStart(N.parentElement,0);else if(N.previousElementSibling.isSameNode(N.previousSibling))if(N.previousElementSibling.lastChild){u.setStartBefore(N),u.collapse(!0),_(u),(0,O.i7)()&&(N.previousElementSibling.tagName==="EM"||N.previousElementSibling.tagName==="STRONG"||N.previousElementSibling.tagName==="S")&&(u.insertNode(document.createTextNode(H.g.ZWSP)),u.collapse(!1)),N.remove();return}else u.setStartAfter(N.previousElementSibling);else u.setStart(N.previousSibling,N.previousSibling.textContent.length);u.collapse(!0),N.remove(),_(u)}},A=function(T,u){var N=document.createElement("div");N.innerHTML=T;var F=N.querySelectorAll("p");F.length===1&&!F[0].previousSibling&&!F[0].nextSibling&&u[u.currentMode].element.children.length>0&&N.firstElementChild.tagName==="P"&&(T=F[0].innerHTML.trim());var V=document.createElement("div");V.innerHTML=T;var I=c(u);if(I.toString()!==""&&(u[u.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),V.firstElementChild&&V.firstElementChild.getAttribute("data-block")==="0"){V.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var J=(0,d.F9)(I.startContainer);if(!J)u[u.currentMode].element.insertAdjacentHTML("beforeend",V.innerHTML);else{var ie=(0,d.lG)(I.startContainer,"LI");ie&&V.firstElementChild.tagName==="UL"?ie.insertAdjacentHTML("afterend",V.firstElementChild.innerHTML):J.insertAdjacentHTML("afterend",V.innerHTML)}L(u[u.currentMode].element,I)}else{var ue=document.createElement("template");ue.innerHTML=T,I.insertNode(ue.content.cloneNode(!0)),I.collapse(!1),_(I)}}})},h={};function m(M){var p=h[M];if(p!==void 0)return p.exports;var E=h[M]={exports:{}};return l[M](E,E.exports,m),E.exports}m.d=(M,p)=>{for(var E in p)m.o(p,E)&&!m.o(M,E)&&Object.defineProperty(M,E,{enumerable:!0,get:p[E]})},m.o=(M,p)=>Object.prototype.hasOwnProperty.call(M,p),m.r=M=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})};var S={};return(()=>{m.d(S,{default:()=>Al});var M=m(408),p=m(145),E=m(105),H=function(e){return e.currentMode==="sv"?(0,E.X)("".concat(e.sv.element.textContent,`
`).replace(/\n\n$/,`
`)):e.currentMode==="wysiwyg"?e.lute.VditorDOM2Md(e.wysiwyg.element.innerHTML):e.currentMode==="ir"?e.lute.VditorIRDOM2Md(e.ir.element.innerHTML):""},O=m(413),d=(function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return e.prototype.renderEchart=function(t){var n=this;t.devtools.element.style.display==="block"&&(0,O.G)("".concat(t.options.cdn,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){n.ASTChart||(n.ASTChart=echarts.init(t.devtools.element.lastElementChild));try{n.element.lastElementChild.style.display="block",n.element.firstElementChild.innerHTML="",n.ASTChart.setOption({series:[{data:JSON.parse(t.lute.RenderEChartsJSON(H(t))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),n.ASTChart.resize()}catch(i){n.element.lastElementChild.style.display="none",n.element.firstElementChild.innerHTML=i}})},e})(),c=m(410),v=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&i.classList.contains("vditor-menu--current")&&i.classList.remove("vditor-menu--current")}})},y=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&!i.classList.contains("vditor-menu--current")&&i.classList.add("vditor-menu--current")}})},_=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&i.classList.contains(p.g.CLASS_MENU_DISABLED)&&i.classList.remove(p.g.CLASS_MENU_DISABLED)}})},g=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&!i.classList.contains(p.g.CLASS_MENU_DISABLED)&&i.classList.add(p.g.CLASS_MENU_DISABLED)}})},k=function(e,t){t.forEach(function(n){e[n]&&e[n]&&(e[n].style.display="none")})},L=function(e,t){t.forEach(function(n){e[n]&&e[n]&&(e[n].style.display="block")})},A=function(e,t,n){t.includes("subToolbar")&&(e.toolbar.element.querySelectorAll(".vditor-hint").forEach(function(i){n&&i.isEqualNode(n)||(i.style.display="none")}),e.toolbar.elements.emoji&&(e.toolbar.elements.emoji.lastElementChild.style.display="none")),t.includes("hint")&&(e.hint.element.style.display="none"),e.wysiwyg.popover&&t.includes("popover")&&(e.wysiwyg.popover.style.display="none")},T=function(e,t,n,i){n.addEventListener((0,c.Le)(),function(a){a.preventDefault(),a.stopPropagation(),!n.classList.contains(p.g.CLASS_MENU_DISABLED)&&(e.toolbar.element.querySelectorAll(".vditor-hint--current").forEach(function(o){o.classList.remove("vditor-hint--current")}),t.style.display==="block"?t.style.display="none":(A(e,["subToolbar","hint","popover"],n.parentElement.parentElement),n.classList.contains("vditor-tooltipped")||n.classList.add("vditor-hint--current"),t.style.display="block",e.toolbar.element.getBoundingClientRect().right-n.getBoundingClientRect().right<250?t.classList.add("vditor-panel--left"):t.classList.remove("vditor-panel--left")))})},u=m(106),N=m(771),F=function(e,t,n,i){i&&console.log("".concat(e," - ").concat(n,": ").concat(t))},V=m(135),I=m(775),J=m(428),ie=m(325),ue=m(483),ye=m(999),Se=m(472),Ae=m(637),Ce=m(11),ge=m(194),pe=m(229),He=m(825),Ke=function(e,t,n){n===void 0&&(n="sv");var i=document.createElement("div");i.innerHTML=e;var a=!1;i.childElementCount===1&&i.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(a=!0);var o=i.querySelectorAll("pre");if(i.childElementCount===1&&o.length===1&&o[0].className!=="vditor-wysiwyg"&&o[0].className!=="vditor-sv"&&(a=!0),e.indexOf(`
<p class="p1">`)===0&&(a=!0),i.childElementCount===1&&i.firstElementChild.tagName==="TABLE"&&i.querySelector(".line-number")&&i.querySelector(".line-content")&&(a=!0),a){var f=t||e;return/\n/.test(f)||o.length===1?n==="wysiwyg"?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'.concat(f.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"<wbr></code></pre></div>"):"\n```\n"+f.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":n==="wysiwyg"?"<code>".concat(f.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"</code><wbr>"):"`".concat(f,"`")}return!1},Ne=function(e,t){if(e){if(e.parentElement.getAttribute("data-type")==="html-block"){e.setAttribute("data-render","1");return}var n=e.firstElementChild.className.replace("language-","");if(n==="abc")(0,V.Q)(e,t.options.cdn);else if(n==="mermaid")(0,Ae.i)(e,t.options.cdn,t.options.theme);else if(n==="smiles")(0,He.J)(e,t.options.cdn,t.options.theme);else if(n==="markmap")(0,Ce.K)(e,t.options.cdn);else if(n==="flowchart")(0,ie.P)(e,t.options.cdn);else if(n==="echarts")(0,I.p)(e,t.options.cdn,t.options.theme);else if(n==="mindmap")(0,ge.P)(e,t.options.cdn,t.options.theme);else if(n==="plantuml")(0,pe.B)(e,t.options.cdn);else if(n==="graphviz")(0,ue.v)(e,t.options.cdn);else if(n==="math")(0,Se.H)(e,{cdn:t.options.cdn,math:t.options.preview.math});else{var i=t.options.customRenders.find(function(a){if(a.language===n)return a.render(e,t),!0});i||((0,ye.s)(Object.assign({},t.options.preview.hljs),e,t.options.cdn),(0,J.O)(e,t.options.preview.hljs))}e.setAttribute("data-render","1")}},P=m(810),ft=function(e){if(e.currentMode!=="sv"){var t=e[e.currentMode].element,n=e.outline.render(e);n===""&&(n="[ToC]"),t.querySelectorAll('[data-type="toc-block"]').forEach(function(i){i.innerHTML=n,(0,Se.H)(i,{cdn:e.options.cdn,math:e.options.preview.math})})}},sn=function(e,t){var n=(0,u.lG)(e.target,"SPAN");if(n&&(0,u.fb)(n,"vditor-toc")){var i=t[t.currentMode].element.querySelector("#"+n.getAttribute("data-target-id"));if(i)if(t.options.height==="auto"){var a=i.offsetTop+t.element.offsetTop;t.options.toolbarConfig.pin||(a+=t.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,a)}else t.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,t.element.offsetTop),t[t.currentMode].element.scrollTop=i.offsetTop;return}},on=function(e,t,n,i){if(e.previousElementSibling&&e.previousElementSibling.classList.contains("vditor-toc")){if(n.key==="Backspace"&&(0,P.im)(e,t[t.currentMode].element,i).start===0)return e.previousElementSibling.remove(),Ee(t),!0;if(dn(t,n,i,e,e.previousElementSibling))return!0}if(e.nextElementSibling&&e.nextElementSibling.classList.contains("vditor-toc")){if(n.key==="Delete"&&(0,P.im)(e,t[t.currentMode].element,i).start>=e.textContent.trimRight().length)return e.nextElementSibling.remove(),Ee(t),!0;if(Ln(t,n,i,e,e.nextElementSibling))return!0}if(n.key==="Backspace"||n.key==="Delete"){var a=(0,u.fb)(i.startContainer,"vditor-toc");if(a)return a.remove(),Ee(t),!0}},st=function(e,t,n,i){n===void 0&&(n=!1);var a=(0,u.F9)(t.startContainer);if(a&&!n&&a.getAttribute("data-type")!=="code-block"){if(Ir(a.innerHTML)&&a.previousElementSibling||jr(a.innerHTML))return;for(var o=(0,P.im)(a,e.ir.element,t).start,f=!0,b=o-1;b>a.textContent.substr(0,o).lastIndexOf(`
`);b--)if(a.textContent.charAt(b)!==" "&&a.textContent.charAt(b)!=="	"){f=!1;break}o===0&&(f=!1);for(var C=!0,b=o-1;b<a.textContent.length;b++)if(a.textContent.charAt(b)!==" "&&a.textContent.charAt(b)!==`
`){C=!1;break}if(f){typeof e.options.input=="function"&&e.options.input(H(e));return}if(C&&/^#{1,6} $/.test(a.textContent)&&(C=!1),C){var w=(0,u.fb)(t.startContainer,"vditor-ir__marker");if(!w){var D=t.startContainer.previousSibling;D&&D.nodeType!==3&&D.classList.contains("vditor-ir__node--expand")&&D.classList.remove("vditor-ir__node--expand"),typeof e.options.input=="function"&&e.options.input(H(e));return}}}if(e.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(be){be.classList.remove("vditor-ir__node--expand")}),a||(a=e.ir.element),!a.querySelector("wbr")){var j=(0,u.fb)(t.startContainer,"vditor-ir__preview");j?j.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):t.insertNode(document.createElement("wbr"))}a.querySelectorAll("[style]").forEach(function(be){be.removeAttribute("style")}),a.getAttribute("data-type")==="link-ref-defs-block"&&(a=e.ir.element);var $=a.isEqualNode(e.ir.element),Z=(0,u.a1)(a,"data-type","footnotes-block"),q="";if($)q=a.innerHTML;else{var re=(0,N.S)(t.startContainer,"BLOCKQUOTE"),ne=(0,u.O9)(t.startContainer);if(ne&&(a=ne),re&&(!ne||ne&&!re.contains(ne))&&(a=re),Z&&(a=Z),q=a.outerHTML,a.tagName==="UL"||a.tagName==="OL"){var G=a.previousElementSibling,fe=a.nextElementSibling;G&&(G.tagName==="UL"||G.tagName==="OL")&&(q=G.outerHTML+q,G.remove()),fe&&(fe.tagName==="UL"||fe.tagName==="OL")&&(q=q+fe.outerHTML,fe.remove()),q=q.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else a.previousElementSibling&&a.previousElementSibling.textContent.replace(p.g.ZWSP,"")!==""&&i&&i.inputType==="insertParagraph"&&(q=a.previousElementSibling.outerHTML+q,a.previousElementSibling.remove());a.innerText.startsWith("```")||(e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(be){be&&!a.isEqualNode(be)&&(q+=be.outerHTML,be.remove())}),e.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(be){be&&!a.isEqualNode(be)&&(q+=be.outerHTML,be.remove())}))}if(F("SpinVditorIRDOM",q,"argument",e.options.debugger),q=e.lute.SpinVditorIRDOM(q),F("SpinVditorIRDOM",q,"result",e.options.debugger),$)a.innerHTML=q;else if(a.outerHTML=q,Z){var se=(0,u.a1)(e.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(se){var me=se.textContent,Re=me.substring(1,me.indexOf("]:")),Oe=e.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(Re,'"]'));Oe&&Oe.setAttribute("aria-label",me.substr(Re.length+3).trim().substr(0,24))}}var Pe,lt=e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");lt.forEach(function(be,We){We===0?Pe=be:(Pe.insertAdjacentHTML("beforeend",be.innerHTML),be.remove())}),lt.length>0&&e.ir.element.insertAdjacentElement("beforeend",lt[0]);var Xe,ct=e.ir.element.querySelectorAll("[data-type='footnotes-block']");ct.forEach(function(be,We){We===0?Xe=be:(Xe.insertAdjacentHTML("beforeend",be.innerHTML),be.remove())}),ct.length>0&&e.ir.element.insertAdjacentElement("beforeend",ct[0]),(0,P.ib)(e.ir.element,t),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(be){Ne(be,e)}),ft(e),Ht(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},z=function(e,t){if(e==="")return!1;if(e.indexOf("")===-1&&e.indexOf("")===-1&&e.indexOf("")===-1)return!(0,c.yl)(t)&&!t.altKey&&!t.shiftKey&&t.code===e;if(e==="Tab")return!!(!(0,c.yl)(t)&&!t.altKey&&t.shiftKey&&t.code==="Tab");var n=e.split("");if(e.startsWith("")){var i=n.length===3?n[2]:n[1];return!!((n.length===3?(0,c.yl)(t):!(0,c.yl)(t))&&t.altKey&&!t.shiftKey&&t.code===(/^[0-9]$/.test(i)?"Digit":"Key")+i)}e==="Enter"&&(n=["","Enter"]);var a=n.length>2&&n[0]==="",o=a?n[2]:n[1];return a&&((0,c.vU)()||!/Mac/.test(navigator.platform))&&(o==="-"?o="_":o==="="&&(o="+")),!!((0,c.yl)(t)&&t.key.toLowerCase()===o.toLowerCase()&&!t.altKey&&(!a&&!t.shiftKey||a&&t.shiftKey))},Me=function(e){var t=e.startContainer;if(t.nodeType===3&&t.nodeValue.length!==e.startOffset)return!1;for(var n=t.nextSibling;n&&n.textContent==="";)n=n.nextSibling;if(n){if(n&&n.nodeType!==3&&n.classList.contains("vditor-ir__node")&&!n.getAttribute("data-block"))return n}else{var i=(0,u.fb)(t,"vditor-ir__marker");if(i&&!i.nextSibling){var a=t.parentElement.parentElement.nextSibling;if(a&&a.nodeType!==3&&a.classList.contains("vditor-ir__node"))return a}return!1}return!1},ae=function(e){var t=e.startContainer,n=t.previousSibling;return t.nodeType===3&&e.startOffset===0&&n&&n.nodeType!==3&&n.classList.contains("vditor-ir__node")&&!n.getAttribute("data-block")?n:!1},Q=function(e,t){t.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(f){f.classList.remove("vditor-ir__node--expand")});var n=(0,u.JQ)(e.startContainer,"vditor-ir__node"),i=!e.collapsed&&(0,u.JQ)(e.endContainer,"vditor-ir__node");if(!(!e.collapsed&&(!n||n!==i))){n&&(n.classList.add("vditor-ir__node--expand"),n.classList.remove("vditor-ir__node--hidden"),(0,P.Hc)(e));var a=Me(e);if(a){a.classList.add("vditor-ir__node--expand"),a.classList.remove("vditor-ir__node--hidden");return}var o=ae(e);if(o){o.classList.add("vditor-ir__node--expand"),o.classList.remove("vditor-ir__node--hidden");return}}},Be=function(e,t){if(e.ir.composingLock=t.isComposing,t.isComposing)return!1;t.key.indexOf("Arrow")===-1&&t.key!=="Meta"&&t.key!=="Control"&&t.key!=="Alt"&&t.key!=="Shift"&&t.key!=="CapsLock"&&t.key!=="Escape"&&!/^F\d{1,2}$/.test(t.key)&&e.undo.recordFirstPosition(e,t);var n=(0,P.zh)(e),i=n.startContainer;if(!Ki(t,e,i)||(qi(n,e,t),sa(n),t.key!=="Enter"&&t.key!=="Tab"&&t.key!=="Backspace"&&t.key.indexOf("Arrow")===-1&&!(0,c.yl)(t)&&t.key!=="Escape"&&t.key!=="Delete"))return!1;var a=(0,u.a1)(i,"data-newline","1");if(!(0,c.yl)(t)&&!t.altKey&&!t.shiftKey&&t.key==="Enter"&&a&&n.startOffset<a.textContent.length){var o=a.previousElementSibling;o&&(n.insertNode(document.createTextNode(o.textContent)),n.collapse(!1));var f=a.nextSibling;f&&(n.insertNode(document.createTextNode(f.textContent)),n.collapse(!0))}var b=(0,u.lG)(i,"P");if(Zi(t,e,b,n)||Ji(n,e,b,t)||ra(e,n,t,b))return!0;var C=(0,u.fb)(i,"vditor-ir__marker--pre");if(C&&C.tagName==="PRE"){var w=C.firstChild;if(na(e,t,C,n)||(w.getAttribute("data-type")==="math-block"||w.getAttribute("data-type")==="html-block")&&dn(e,t,n,w,C.parentElement)||Ln(e,t,n,w,C.parentElement))return!0}var D=(0,u.a1)(i,"data-type","code-block-info");if(D){if(t.key==="Enter"||t.key==="Tab")return n.selectNodeContents(D.nextElementSibling.firstChild),n.collapse(!0),t.preventDefault(),A(e,["hint"]),!0;if(t.key==="Backspace"){var j=(0,P.im)(D,e.ir.element).start;j===1&&n.setStart(i,0),j===2&&(e.hint.recentLanguage="")}if(dn(e,t,n,D,D.parentElement))return A(e,["hint"]),!0}var $=(0,u.lG)(i,"TD")||(0,u.lG)(i,"TH");if(t.key.indexOf("Arrow")>-1&&$){var Z=uo($);if(Z&&dn(e,t,n,$,Z))return!0;var q=fo($);if(q&&Ln(e,t,n,$,q))return!0}if(ta(e,t,n)||ia(e,n,t)||Br(e,n,t))return!0;var re=(0,N.W)(i);if(re){if(z("=",t)){var ne=re.querySelector(".vditor-ir__marker--heading");return ne&&ne.textContent.trim().length>1&&An(e,ne.textContent.substr(1)),t.preventDefault(),!0}if(z("-",t)){var ne=re.querySelector(".vditor-ir__marker--heading");return ne&&ne.textContent.trim().length<6&&An(e,ne.textContent.trim()+"# "),t.preventDefault(),!0}}var G=(0,u.F9)(i);if(t.key==="Backspace"&&!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey&&n.toString()===""){if(aa(e,n,t,b))return!0;if(G&&G.previousElementSibling&&G.tagName!=="UL"&&G.tagName!=="OL"&&(G.previousElementSibling.getAttribute("data-type")==="code-block"||G.previousElementSibling.getAttribute("data-type")==="math-block")){var fe=(0,P.im)(G,e.ir.element,n).start;if(fe===0||fe===1&&G.innerText.startsWith(p.g.ZWSP))return n.selectNodeContents(G.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),n.collapse(!1),Q(n,e),G.textContent.trim().replace(p.g.ZWSP,"")===""&&(G.remove(),Ht(e)),t.preventDefault(),!0}if(re){var se=re.firstElementChild.textContent.length;(0,P.im)(re,e.ir.element).start===se&&se!==0&&(n.setStart(re.firstElementChild.firstChild,se-1),n.collapse(!0),(0,P.Hc)(n))}}return(t.key==="ArrowUp"||t.key==="ArrowDown")&&G&&(G.querySelectorAll(".vditor-ir__node").forEach(function(me){me.contains(i)||me.classList.add("vditor-ir__node--hidden")}),oa(t,G,n))?!0:(Gi(n,t.key),G&&on(G,e,t,n)?(t.preventDefault(),!0):!1)},x=m(190),R=function(e,t){e.querySelectorAll("[data-type=footnotes-link]").forEach(function(n){for(var i=n.parentElement,a=i.nextSibling;a&&a.textContent.startsWith("    ");){var o=a;o.childNodes.forEach(function(f){i.append(f.cloneNode(!0))}),a=a.nextSibling,o.remove()}t&&t(i)})},B=function(e,t){var n,i=getSelection().getRangeAt(0).cloneRange(),a=i.startContainer;i.startContainer.nodeType!==3&&i.startContainer.tagName==="DIV"&&(a=i.startContainer.childNodes[i.startOffset-1]);var o=(0,u.a1)(a,"data-block","0");if(o&&t&&(t.inputType==="deleteContentBackward"||t.data===" ")){for(var f=(0,P.im)(o,e.sv.element,i).start,b=!0,C=f-1;C>o.textContent.substr(0,f).lastIndexOf(`
`);C--)if(o.textContent.charAt(C)!==" "&&o.textContent.charAt(C)!=="	"){b=!1;break}if(f===0&&(b=!1),b){Ge(e);return}if(t.inputType==="deleteContentBackward"){var w=(0,u.a1)(a,"data-type","code-block-open-marker")||(0,u.a1)(a,"data-type","code-block-close-marker");if(w){if(w.getAttribute("data-type")==="code-block-close-marker"){var D=Zn(a,"code-block-open-marker");if(D){D.textContent=w.textContent,Ge(e);return}}if(w.getAttribute("data-type")==="code-block-open-marker"){var D=Zn(a,"code-block-close-marker",!1);if(D){D.textContent=w.textContent,Ge(e);return}}}var j=(0,u.a1)(a,"data-type","math-block-open-marker");if(j){var $=j.nextElementSibling.nextElementSibling;$&&$.getAttribute("data-type")==="math-block-close-marker"&&($.remove(),Ge(e));return}o.querySelectorAll('[data-type="code-block-open-marker"]').forEach(function(G){G.textContent.length===1&&G.remove()}),o.querySelectorAll('[data-type="code-block-close-marker"]').forEach(function(G){G.textContent.length===1&&G.remove()});var Z=(0,u.a1)(a,"data-type","heading-marker");if(Z&&Z.textContent.indexOf("#")===-1){Ge(e);return}}if((t.data===" "||t.inputType==="deleteContentBackward")&&((0,u.a1)(a,"data-type","padding")||(0,u.a1)(a,"data-type","li-marker")||(0,u.a1)(a,"data-type","task-marker")||(0,u.a1)(a,"data-type","blockquote-marker"))){Ge(e);return}}if(o&&o.textContent.trimRight()==="$$"){Ge(e);return}o||(o=e.sv.element),((n=o.firstElementChild)===null||n===void 0?void 0:n.getAttribute("data-type"))==="link-ref-defs-block"&&(o=e.sv.element),(0,u.a1)(a,"data-type","footnotes-link")&&(o=e.sv.element),o.textContent.indexOf(Lute.Caret)===-1&&i.insertNode(document.createTextNode(Lute.Caret)),o.querySelectorAll("[style]").forEach(function(G){G.removeAttribute("style")}),o.querySelectorAll("font").forEach(function(G){G.outerHTML=G.innerHTML});var q=o.textContent,re=o.isEqualNode(e.sv.element);if(re)q=o.textContent;else{o.previousElementSibling&&(q=o.previousElementSibling.textContent+q,o.previousElementSibling.remove()),o.previousElementSibling&&q.indexOf(`---
`)===0&&(q=o.previousElementSibling.textContent+q,o.previousElementSibling.remove());var ne="";e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(G,fe){G&&!o.isEqualNode(G.parentElement)&&(ne+=G.parentElement.textContent+`
`,G.parentElement.remove())}),e.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach(function(G,fe){G&&!o.isEqualNode(G.parentElement)&&(ne+=G.parentElement.textContent+`
`,G.parentElement.remove())}),q=ne+q}q=ji(q,e),re?o.innerHTML=q:o.outerHTML=q,e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(G){e.sv.element.insertAdjacentElement("beforeend",G.parentElement)}),R(e.sv.element,function(G){e.sv.element.insertAdjacentElement("beforeend",G)}),(0,P.ib)(e.sv.element,i),Ve(e),Ge(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},K=function(e,t){var n,i,a,o,f;if(e.sv.composingLock=t.isComposing,t.isComposing||(t.key.indexOf("Arrow")===-1&&t.key!=="Meta"&&t.key!=="Control"&&t.key!=="Alt"&&t.key!=="Shift"&&t.key!=="CapsLock"&&t.key!=="Escape"&&!/^F\d{1,2}$/.test(t.key)&&e.undo.recordFirstPosition(e,t),t.key!=="Enter"&&t.key!=="Tab"&&t.key!=="Backspace"&&t.key.indexOf("Arrow")===-1&&!(0,c.yl)(t)&&t.key!=="Escape"))return!1;var b=(0,P.zh)(e),C=b.startContainer;b.startContainer.nodeType!==3&&b.startContainer.tagName==="DIV"&&(C=b.startContainer.childNodes[b.startOffset-1]);var w=(0,u.a1)(C,"data-type","text"),D=(0,u.a1)(C,"data-type","blockquote-marker");if(!D&&b.startOffset===0&&w&&w.previousElementSibling&&w.previousElementSibling.getAttribute("data-type")==="blockquote-marker"&&(D=w.previousElementSibling),D&&t.key==="Enter"&&!(0,c.yl)(t)&&!t.altKey&&D.nextElementSibling.textContent.trim()===""&&(0,P.im)(D,e.sv.element,b).start===D.textContent.length)return((n=D.previousElementSibling)===null||n===void 0?void 0:n.getAttribute("data-type"))==="padding"&&D.previousElementSibling.setAttribute("data-action","enter-remove"),D.remove(),Ge(e),t.preventDefault(),!0;var j=(0,u.a1)(C,"data-type","li-marker"),$=(0,u.a1)(C,"data-type","task-marker"),Z=j;if(Z||$&&$.nextElementSibling.getAttribute("data-type")!=="task-marker"&&(Z=$),!Z&&b.startOffset===0&&w&&w.previousElementSibling&&(w.previousElementSibling.getAttribute("data-type")==="li-marker"||w.previousElementSibling.getAttribute("data-type")==="task-marker")&&(Z=w.previousElementSibling),Z){var q=(0,P.im)(Z,e.sv.element,b).start,re=Z.getAttribute("data-type")==="task-marker",ne=Z;if(re&&(ne=Z.previousElementSibling.previousElementSibling.previousElementSibling),q===Z.textContent.length){if(t.key==="Enter"&&!(0,c.yl)(t)&&!t.altKey&&!t.shiftKey&&Z.nextElementSibling.textContent.trim()==="")return((i=ne.previousElementSibling)===null||i===void 0?void 0:i.getAttribute("data-type"))==="padding"?(ne.previousElementSibling.remove(),B(e)):(re&&(ne.remove(),Z.previousElementSibling.previousElementSibling.remove(),Z.previousElementSibling.remove()),Z.nextElementSibling.remove(),Z.remove(),Ge(e)),t.preventDefault(),!0;if(t.key==="Tab")return t.shiftKey?ne.previousElementSibling.getAttribute("data-type")==="padding"&&ne.previousElementSibling.remove():ne.insertAdjacentHTML("beforebegin",'<span data-type="padding">'.concat(ne.textContent.replace(/\S/g," "),"</span>")),/^\d/.test(ne.textContent)&&(ne.textContent=ne.textContent.replace(/^\d{1,}/,"1"),b.selectNodeContents(Z.firstChild),b.collapse(!1)),B(e),t.preventDefault(),!0}}if(Br(e,b,t))return!0;var G=(0,u.a1)(C,"data-block","0"),fe=(0,N.S)(C,"SPAN");if(t.key==="Enter"&&!(0,c.yl)(t)&&!t.altKey&&!t.shiftKey&&G){var se=!1,me=G.textContent.match(/^\n+/);(0,P.im)(G,e.sv.element).start<=(me?me[0].length:0)&&(se=!0);var Re=`
`;if(fe){if(((a=fe.previousElementSibling)===null||a===void 0?void 0:a.getAttribute("data-action"))==="enter-remove")return fe.previousElementSibling.remove(),Ge(e),t.preventDefault(),!0;Re+=no(fe)}return b.insertNode(document.createTextNode(Re)),b.collapse(!1),G&&G.textContent.trim()!==""&&!se?B(e):Ge(e),t.preventDefault(),!0}if(t.key==="Backspace"&&!(0,c.yl)(t)&&!t.altKey&&!t.shiftKey){if(fe&&((o=fe.previousElementSibling)===null||o===void 0?void 0:o.getAttribute("data-type"))==="newline"&&(0,P.im)(fe,e.sv.element,b).start===1&&fe.getAttribute("data-type").indexOf("code-block-")===-1)return b.setStart(fe,0),b.extractContents(),fe.textContent.trim()!==""?B(e):Ge(e),t.preventDefault(),!0;if(G&&(0,P.im)(G,e.sv.element,b).start===0&&G.previousElementSibling){b.extractContents();var Oe=G.previousElementSibling.lastElementChild;return Oe.getAttribute("data-type")==="newline"&&(Oe.remove(),Oe=G.previousElementSibling.lastElementChild),Oe.getAttribute("data-type")!=="newline"&&(Oe.insertAdjacentHTML("afterend",G.innerHTML),G.remove()),G.textContent.trim()!==""&&!(!((f=G.previousElementSibling)===null||f===void 0)&&f.querySelector('[data-type="code-block-open-marker"]'))?B(e):(Oe.getAttribute("data-type")!=="newline"&&(b.selectNodeContents(Oe.lastChild),b.collapse(!1)),Ge(e)),t.preventDefault(),!0}}return!1},U=m(538),W=function(e){e.options.theme==="dark"?e.element.classList.add("vditor--dark"):e.element.classList.remove("vditor--dark")},ee=function(e){e.element.innerHTML="",e.element.classList.add("vditor"),e.options.rtl&&e.element.setAttribute("dir","rtl"),W(e),(0,U.Z)(e.options.preview.theme.current,e.options.preview.theme.path),typeof e.options.height=="number"?e.element.style.height=e.options.height+"px":e.element.style.height=e.options.height,typeof e.options.minHeight=="number"&&(e.element.style.minHeight=e.options.minHeight+"px"),typeof e.options.width=="number"?e.element.style.width=e.options.width+"px":e.element.style.width=e.options.width,e.element.appendChild(e.toolbar.element);var t=document.createElement("div");if(t.className="vditor-content",e.options.outline.position==="left"&&t.appendChild(e.outline.element),t.appendChild(e.wysiwyg.element.parentElement),t.appendChild(e.sv.element),t.appendChild(e.ir.element.parentElement),t.appendChild(e.preview.element),e.toolbar.elements.devtools&&t.appendChild(e.devtools.element),e.options.outline.position==="right"&&(e.outline.element.classList.add("vditor-outline--right"),t.appendChild(e.outline.element)),e.upload&&t.appendChild(e.upload.element),e.options.resize.enable&&t.appendChild(e.resize.element),t.appendChild(e.hint.element),t.appendChild(e.tip.element),e.element.appendChild(t),t.addEventListener("click",function(){A(e,["subToolbar"])}),e.toolbar.elements.export&&e.element.insertAdjacentHTML("beforeend",'<iframe id="vditorExportIframe" style="width: 100%;height: 0;border: 0"></iframe>'),Yt(e,e.options.mode,le(e)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&typeof window.visualViewport<"u"){var n=!1,i=function(a){n||(n=!0,requestAnimationFrame(function(){n=!1;var o=e.toolbar.element;o.style.transform="none",o.getBoundingClientRect().top<0&&(o.style.transform="translate(0, ".concat(-o.getBoundingClientRect().top,"px)"))}))};window.visualViewport.addEventListener("scroll",i),window.visualViewport.addEventListener("resize",i)}},Y=function(e){var t=window.innerWidth<=p.g.MOBILE_WIDTH?10:35;if(e.wysiwyg.element.parentElement.style.display!=="none"){var n=(e.wysiwyg.element.parentElement.clientWidth-e.options.preview.maxWidth)/2;e.wysiwyg.element.style.padding="10px ".concat(Math.max(t,n),"px")}if(e.ir.element.parentElement.style.display!=="none"){var n=(e.ir.element.parentElement.clientWidth-e.options.preview.maxWidth)/2;e.ir.element.style.padding="10px ".concat(Math.max(t,n),"px")}e.preview.element.style.display!=="block"?e.toolbar.element.style.paddingLeft=Math.max(5,parseInt(e[e.currentMode].element.style.paddingLeft||"0",10)+(e.options.outline.position==="left"?e.outline.element.offsetWidth:0))+"px":e.toolbar.element.style.paddingLeft=5+(e.options.outline.position==="left"?e.outline.element.offsetWidth:0)+"px"},te=function(e){if(e.options.typewriterMode){var t=window.innerHeight;typeof e.options.height=="number"?(t=e.options.height,typeof e.options.minHeight=="number"&&(t=Math.max(t,e.options.minHeight)),t=Math.min(window.innerHeight,t)):t=e.element.clientHeight,e.element.classList.contains("vditor--fullscreen")&&(t=window.innerHeight),e[e.currentMode].element.style.setProperty("--editor-bottom",(t-e.toolbar.element.offsetHeight)/2+"px")}},X;function he(){window.removeEventListener("resize",X)}var le=function(e){te(e),he(),window.addEventListener("resize",X=function(){Y(e),te(e)});var t=(0,c.pK)()&&localStorage.getItem(e.options.cache.id);return(!e.options.cache.enable||!t)&&(e.options.value?t=e.options.value:e.originalInnerHTML?t=e.lute.HTML2Md(e.originalInnerHTML):e.options.cache.enable||(t="")),t||""},de=function(e){clearTimeout(e[e.currentMode].hlToolbarTimeoutId),e[e.currentMode].hlToolbarTimeoutId=window.setTimeout(function(){if(e[e.currentMode].element.getAttribute("contenteditable")!=="false"&&(0,P.Gb)(e[e.currentMode].element)){v(e.toolbar.elements,p.g.EDIT_TOOLBARS),_(e.toolbar.elements,p.g.EDIT_TOOLBARS);var t=(0,P.zh)(e),n=t.startContainer;t.startContainer.nodeType===3&&(n=t.startContainer.parentElement),n.classList.contains("vditor-reset")&&(n=n.childNodes[t.startOffset]);var i=e.currentMode==="sv"?(0,u.a1)(n,"data-type","heading"):(0,N.W)(n);i&&y(e.toolbar.elements,["headings"]);var a=e.currentMode==="sv"?(0,u.a1)(n,"data-type","blockquote"):(0,u.lG)(n,"BLOCKQUOTE");a&&y(e.toolbar.elements,["quote"]);var o=(0,u.a1)(n,"data-type","strong");o&&y(e.toolbar.elements,["bold"]);var f=(0,u.a1)(n,"data-type","em");f&&y(e.toolbar.elements,["italic"]);var b=(0,u.a1)(n,"data-type","s");b&&y(e.toolbar.elements,["strike"]);var C=(0,u.a1)(n,"data-type","a");C&&y(e.toolbar.elements,["link"]);var w=(0,u.lG)(n,"LI");w?(w.classList.contains("vditor-task")?y(e.toolbar.elements,["check"]):w.parentElement.tagName==="OL"?y(e.toolbar.elements,["ordered-list"]):w.parentElement.tagName==="UL"&&y(e.toolbar.elements,["list"]),_(e.toolbar.elements,["outdent","indent"])):g(e.toolbar.elements,["outdent","indent"]);var D=(0,u.a1)(n,"data-type","code-block");D&&(g(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),y(e.toolbar.elements,["code"]));var j=(0,u.a1)(n,"data-type","code");j&&(g(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),y(e.toolbar.elements,["inline-code"]));var $=(0,u.a1)(n,"data-type","table");$&&g(e.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}},200)},oe=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),clearTimeout(e.wysiwyg.afterRenderTimeoutId),e.wysiwyg.afterRenderTimeoutId=window.setTimeout(function(){if(!e.wysiwyg.composingLock){var n=H(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,c.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}},e.options.undoDelay)},Te=function(e){for(var t=e.previousSibling;t;){if(t.nodeType!==3&&t.tagName==="A"&&!t.previousSibling&&t.innerHTML.replace(p.g.ZWSP,"")===""&&t.nextSibling)return t;t=t.previousSibling}return!1},De=function(e){for(var t=e.startContainer.nextSibling;t&&t.textContent==="";)t=t.nextSibling;return!!(t&&t.nodeType!==3&&(t.tagName==="CODE"||t.getAttribute("data-type")==="math-inline"||t.getAttribute("data-type")==="html-entity"||t.getAttribute("data-type")==="html-inline"))},Le=function(e){for(var t="",n=e.nextSibling;n;)n.nodeType===3?t+=n.textContent:t+=n.outerHTML,n=n.nextSibling;return t},Je=function(e){for(var t="",n=e.previousSibling;n;)n.nodeType===3?t=n.textContent+t:t=n.outerHTML+t,n=n.previousSibling;return t},Ye=function(e){for(var t=e;t&&!t.nextSibling;)t=t.parentElement;return t.nextSibling},gt=function(e){var t=Je(e.startContainer),n=Le(e.startContainer),i=e.startContainer.textContent,a=e.startOffset,o="",f="";return(i.substr(0,a)!==""&&i.substr(0,a)!==p.g.ZWSP||t)&&(o="".concat(t).concat(i.substr(0,a))),(i.substr(a)!==""&&i.substr(a)!==p.g.ZWSP||n)&&(f="".concat(i.substr(a)).concat(n)),{afterHTML:f,beforeHTML:o}},ot=function(e,t){Array.from(e.wysiwyg.element.childNodes).find(function(n){if(n.nodeType===3){var i=document.createElement("p");i.setAttribute("data-block","0"),i.textContent=n.textContent;var a=t.startContainer.nodeType===3?t.startOffset:n.textContent.length;return n.parentNode.insertBefore(i,n),n.remove(),t.setStart(i.firstChild,Math.min(i.firstChild.textContent.length,a)),t.collapse(!0),(0,P.Hc)(t),!0}else if(!n.getAttribute("data-block"))return n.tagName==="P"?n.remove():(n.tagName==="DIV"?(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'.concat(n.innerHTML,"</p>")):n.tagName==="BR"?n.outerHTML='<p data-block="0">'.concat(n.outerHTML,"<wbr></p>"):(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'.concat(n.outerHTML,"</p>")),(0,P.ib)(e.wysiwyg.element,t),t=getSelection().getRangeAt(0)),!0})},St=function(e,t){var n=(0,P.zh)(e),i=(0,u.F9)(n.startContainer);i||(i=n.startContainer.childNodes[n.startOffset]),!i&&e.wysiwyg.element.children.length===0&&(i=e.wysiwyg.element),i&&!i.classList.contains("vditor-wysiwyg__block")&&(n.insertNode(document.createElement("wbr")),i.innerHTML.trim()==="<wbr>"&&(i.innerHTML="<wbr><br>"),i.tagName==="BLOCKQUOTE"||i.classList.contains("vditor-reset")?i.innerHTML="<".concat(t,' data-block="0">').concat(i.innerHTML.trim(),"</").concat(t,">"):i.outerHTML="<".concat(t,' data-block="0">').concat(i.innerHTML.trim(),"</").concat(t,">"),(0,P.ib)(e.wysiwyg.element,n),ft(e))},ln=function(e){var t=getSelection().getRangeAt(0),n=(0,u.F9)(t.startContainer);n||(n=t.startContainer.childNodes[t.startOffset]),n&&(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'.concat(n.innerHTML,"</p>"),(0,P.ib)(e.wysiwyg.element,t)),e.wysiwyg.popover.style.display="none"},qe=function(e,t,n){n===void 0&&(n=!0);var i=e.previousElementSibling,a=i.ownerDocument.createRange();i.tagName==="CODE"?(i.style.display="inline-block",n?a.setStart(i.firstChild,1):a.selectNodeContents(i)):(i.style.display="block",i.firstChild.firstChild||i.firstChild.appendChild(document.createTextNode("")),a.selectNodeContents(i.firstChild)),n?a.collapse(!0):a.collapse(!1),(0,P.Hc)(a),!e.firstElementChild.classList.contains("language-mindmap")&&Ve(t)},yt=function(e,t){if(e.wysiwyg.composingLock=t.isComposing,t.isComposing)return!1;t.key.indexOf("Arrow")===-1&&t.key!=="Meta"&&t.key!=="Control"&&t.key!=="Alt"&&t.key!=="Shift"&&t.key!=="CapsLock"&&t.key!=="Escape"&&!/^F\d{1,2}$/.test(t.key)&&e.undo.recordFirstPosition(e,t);var n=(0,P.zh)(e),i=n.startContainer;if(!Ki(t,e,i)||(qi(n,e,t),sa(n),t.key!=="Enter"&&t.key!=="Tab"&&t.key!=="Backspace"&&t.key.indexOf("Arrow")===-1&&!(0,c.yl)(t)&&t.key!=="Escape"&&t.key!=="Delete"))return!1;var a=(0,u.F9)(i),o=(0,u.lG)(i,"P");if(Zi(t,e,o,n)||Ji(n,e,o,t)||ta(e,t,n))return!0;var f=(0,u.fb)(i,"vditor-wysiwyg__block");if(f){if(t.key==="Escape"&&f.children.length===2)return e.wysiwyg.popover.style.display="none",f.firstElementChild.style.display="none",e.wysiwyg.element.blur(),t.preventDefault(),!0;if(!(0,c.yl)(t)&&!t.shiftKey&&t.altKey&&t.key==="Enter"&&f.getAttribute("data-type")==="code-block"){var b=e.wysiwyg.popover.querySelector(".vditor-input");return b.focus(),b.select(),t.preventDefault(),!0}if(f.getAttribute("data-block")==="0"&&(na(e,t,f.firstElementChild,n)||Ln(e,t,n,f.firstElementChild,f)||f.getAttribute("data-type")!=="yaml-front-matter"&&dn(e,t,n,f.firstElementChild,f)))return!0}if(ra(e,n,t,o))return!0;var C=(0,u.E2)(i,"BLOCKQUOTE");if(C&&!t.shiftKey&&t.altKey&&t.key==="Enter"){(0,c.yl)(t)?n.setStartBefore(C):n.setStartAfter(C),(0,P.Hc)(n);var w=document.createElement("p");return w.setAttribute("data-block","0"),w.innerHTML=`
`,n.insertNode(w),n.collapse(!0),(0,P.Hc)(n),oe(e),Ve(e),t.preventDefault(),!0}var D=(0,N.W)(i);if(D){if(D.tagName==="H6"&&i.textContent.length===n.startOffset&&!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey&&t.key==="Enter"){var j=document.createElement("p");return j.textContent=`
`,j.setAttribute("data-block","0"),i.parentElement.insertAdjacentElement("afterend",j),n.setStart(j,0),(0,P.Hc)(n),oe(e),Ve(e),t.preventDefault(),!0}if(z("=",t)){var $=parseInt(D.tagName.substr(1),10)-1;return $>0&&(St(e,"h".concat($)),oe(e)),t.preventDefault(),!0}if(z("-",t)){var $=parseInt(D.tagName.substr(1),10)+1;return $<7&&(St(e,"h".concat($)),oe(e)),t.preventDefault(),!0}t.key==="Backspace"&&!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey&&D.textContent.length===1&&ln(e)}if(ia(e,n,t))return!0;if(t.altKey&&t.key==="Enter"&&!(0,c.yl)(t)&&!t.shiftKey){var Z=(0,u.lG)(i,"A"),q=(0,u.a1)(i,"data-type","link-ref"),re=(0,u.a1)(i,"data-type","footnotes-ref");if(Z||q||re||D&&D.tagName.length===2){var ne=e.wysiwyg.popover.querySelector("input");ne.focus(),ne.select()}}if(Ze(e,t))return!0;if(z("U",t)){var G=e.wysiwyg.popover.querySelector('[data-type="up"]');if(G)return G.click(),t.preventDefault(),!0}if(z("D",t)){var G=e.wysiwyg.popover.querySelector('[data-type="down"]');if(G)return G.click(),t.preventDefault(),!0}if(Br(e,n,t))return!0;if(!(0,c.yl)(t)&&t.shiftKey&&!t.altKey&&t.key==="Enter"&&i.parentElement.tagName!=="LI"&&i.parentElement.tagName!=="P")return["STRONG","STRIKE","S","I","EM","B"].includes(i.parentElement.tagName)?n.insertNode(document.createTextNode(`
`+p.g.ZWSP)):n.insertNode(document.createTextNode(`
`)),n.collapse(!1),(0,P.Hc)(n),oe(e),Ve(e),t.preventDefault(),!0;if(t.key==="Backspace"&&!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey&&n.toString()===""){if(aa(e,n,t,o))return!0;if(a){if(a.previousElementSibling&&a.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&a.previousElementSibling.getAttribute("data-block")==="0"&&a.tagName!=="UL"&&a.tagName!=="OL"){var fe=(0,P.im)(a,e.wysiwyg.element,n).start;if(fe===0&&n.startOffset===0||fe===1&&a.innerText.startsWith(p.g.ZWSP))return qe(a.previousElementSibling.lastElementChild,e,!1),a.innerHTML.trim().replace(p.g.ZWSP,"")===""&&(a.remove(),oe(e)),t.preventDefault(),!0}var se=n.startOffset;if(n.toString()===""&&i.nodeType===3&&i.textContent.charAt(se-2)===`
`&&i.textContent.charAt(se-1)!==p.g.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(i.parentElement.tagName))return i.textContent=i.textContent.substring(0,se-1)+p.g.ZWSP,n.setStart(i,se),n.collapse(!0),oe(e),t.preventDefault(),!0;i.textContent===p.g.ZWSP&&n.startOffset===1&&!i.previousSibling&&De(n)&&(i.textContent=""),a.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach(function(Re){Re.firstElementChild.style.display="inline",Re.lastElementChild.style.display="none"}),a.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach(function(Re){Re.firstElementChild.style.display="inline",Re.lastElementChild.style.display="none"})}}if((0,c.vU)()&&n.startOffset===1&&i.textContent.indexOf(p.g.ZWSP)>-1&&i.previousSibling&&i.previousSibling.nodeType!==3&&i.previousSibling.tagName==="CODE"&&(t.key==="Backspace"||t.key==="ArrowLeft"))return n.selectNodeContents(i.previousSibling),n.collapse(!1),t.preventDefault(),!0;if(oa(t,a,n))return t.preventDefault(),!0;if(Gi(n,t.key),t.key==="ArrowDown"){var me=i.nextSibling;me&&me.nodeType!==3&&me.getAttribute("data-type")==="math-inline"&&n.setStartAfter(me)}return a&&on(a,e,t,n)?(t.preventDefault(),!0):!1},Ze=function(e,t){if(z("X",t)){var n=e.wysiwyg.popover.querySelector('[data-type="remove"]');return n&&n.click(),t.preventDefault(),!0}},Ct=function(e){clearTimeout(e.wysiwyg.hlToolbarTimeoutId),e.wysiwyg.hlToolbarTimeoutId=window.setTimeout(function(){if(e.wysiwyg.element.getAttribute("contenteditable")!=="false"&&(0,P.Gb)(e.wysiwyg.element)){v(e.toolbar.elements,p.g.EDIT_TOOLBARS),_(e.toolbar.elements,p.g.EDIT_TOOLBARS);var t=getSelection().getRangeAt(0),n=t.startContainer;t.startContainer.nodeType===3?n=t.startContainer.parentElement:n=n.childNodes[t.startOffset>=n.childNodes.length?n.childNodes.length-1:t.startOffset];var i=(0,u.a1)(n,"data-type","footnotes-block");if(i){e.wysiwyg.popover.innerHTML="",wt(i,e),dt(e,"footnotes-block"),bt(e,i);return}var a=(0,u.lG)(n,"LI");a?(a.classList.contains("vditor-task")?y(e.toolbar.elements,["check"]):a.parentElement.tagName==="OL"?y(e.toolbar.elements,["ordered-list"]):a.parentElement.tagName==="UL"&&y(e.toolbar.elements,["list"]),_(e.toolbar.elements,["outdent","indent"])):g(e.toolbar.elements,["outdent","indent"]),(0,u.lG)(n,"BLOCKQUOTE")&&y(e.toolbar.elements,["quote"]),((0,u.lG)(n,"B")||(0,u.lG)(n,"STRONG"))&&y(e.toolbar.elements,["bold"]),((0,u.lG)(n,"I")||(0,u.lG)(n,"EM"))&&y(e.toolbar.elements,["italic"]),((0,u.lG)(n,"STRIKE")||(0,u.lG)(n,"S"))&&y(e.toolbar.elements,["strike"]),e.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach(function(ce){ce.classList.remove("vditor-comment--focus")});var o=(0,u.fb)(n,"vditor-comment");if(o){var f=o.getAttribute("data-cmtids").split(" ");if(f.length>1&&o.nextSibling.isSameNode(o.nextElementSibling)){var b=o.nextElementSibling.getAttribute("data-cmtids").split(" ");f.find(function(ce){if(b.includes(ce))return f=[ce],!0})}e.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(ce){ce.getAttribute("data-cmtids").indexOf(f[0])>-1&&ce.classList.add("vditor-comment--focus")})}var C=(0,u.lG)(n,"A");C&&y(e.toolbar.elements,["link"]);var w=(0,u.lG)(n,"TABLE"),D=(0,N.W)(n);(0,u.lG)(n,"CODE")?(0,u.lG)(n,"PRE")?(g(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),y(e.toolbar.elements,["code"])):(g(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),y(e.toolbar.elements,["inline-code"])):D?(g(e.toolbar.elements,["bold"]),y(e.toolbar.elements,["headings"])):w&&g(e.toolbar.elements,["table"]);var j=(0,u.fb)(n,"vditor-toc");if(j){e.wysiwyg.popover.innerHTML="",wt(j,e),dt(e,"vditor-toc"),bt(e,j);return}var $=(0,N.S)(n,"BLOCKQUOTE");if($&&(e.wysiwyg.popover.innerHTML="",cn(t,$,e),un(t,$,e),wt($,e),dt(e,"blockquote"),bt(e,$)),a&&(e.wysiwyg.popover.innerHTML="",cn(t,a,e),un(t,a,e),wt(a,e),dt(e,"li"),bt(e,a)),w){e.options.lang,e.options,e.wysiwyg.popover.innerHTML="";var Z=function(){var ce=w.rows.length,_e=w.rows[0].cells.length,Kt=parseInt(We.value,10)||ce,qt=parseInt(pt.value,10)||_e;if(!(Kt===ce&&_e===qt)){if(_e!==qt)for(var xn=qt-_e,Mt=0;Mt<w.rows.length;Mt++)if(xn>0)for(var ya=0;ya<xn;ya++)Mt===0?w.rows[Mt].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):w.rows[Mt].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var Wr=_e-1;Wr>=qt;Wr--)w.rows[Mt].cells[Wr].remove();if(ce!==Kt){var ba=Kt-ce;if(ba>0){for(var Kr="<tr>",mn=0;mn<qt;mn++)Kr+="<td> </td>";for(var wa=0;wa<ba;wa++)w.querySelector("tbody")?w.querySelector("tbody").insertAdjacentHTML("beforeend",Kr):w.querySelector("thead").insertAdjacentHTML("afterend",Kr+"</tr>")}else for(var mn=ce-1;mn>=Kt;mn--)w.rows[mn].remove(),w.rows.length===1&&w.querySelector("tbody").remove()}typeof e.options.input=="function"&&e.options.input(H(e))}},q=function(ce){Qn(w,ce),ce==="right"?(fe.classList.remove("vditor-icon--current"),se.classList.remove("vditor-icon--current"),me.classList.add("vditor-icon--current")):ce==="center"?(fe.classList.remove("vditor-icon--current"),me.classList.remove("vditor-icon--current"),se.classList.add("vditor-icon--current")):(se.classList.remove("vditor-icon--current"),me.classList.remove("vditor-icon--current"),fe.classList.add("vditor-icon--current")),(0,P.Hc)(t),oe(e)},re=(0,u.lG)(n,"TD"),ne=(0,u.lG)(n,"TH"),G="left";re?G=re.getAttribute("align")||"left":ne&&(G=ne.getAttribute("align")||"center");var fe=document.createElement("button");fe.setAttribute("type","button"),fe.setAttribute("aria-label",window.VditorI18n.alignLeft+"<"+(0,c.ns)("L")+">"),fe.setAttribute("data-type","left"),fe.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',fe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(G==="left"?" vditor-icon--current":""),fe.onclick=function(){q("left")};var se=document.createElement("button");se.setAttribute("type","button"),se.setAttribute("aria-label",window.VditorI18n.alignCenter+"<"+(0,c.ns)("C")+">"),se.setAttribute("data-type","center"),se.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',se.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(G==="center"?" vditor-icon--current":""),se.onclick=function(){q("center")};var me=document.createElement("button");me.setAttribute("type","button"),me.setAttribute("aria-label",window.VditorI18n.alignRight+"<"+(0,c.ns)("R")+">"),me.setAttribute("data-type","right"),me.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',me.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(G==="right"?" vditor-icon--current":""),me.onclick=function(){q("right")};var Re=document.createElement("button");Re.setAttribute("type","button"),Re.setAttribute("aria-label",window.VditorI18n.insertRowBelow+"<"+(0,c.ns)("=")+">"),Re.setAttribute("data-type","insertRow"),Re.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',Re.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Re.onclick=function(){var ce=getSelection().getRangeAt(0).startContainer,_e=(0,u.lG)(ce,"TD")||(0,u.lG)(ce,"TH");_e&&Xi(e,t,_e)};var Oe=document.createElement("button");Oe.setAttribute("type","button"),Oe.setAttribute("aria-label",window.VditorI18n.insertRowAbove+"<"+(0,c.ns)("F")+">"),Oe.setAttribute("data-type","insertRow"),Oe.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',Oe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Oe.onclick=function(){var ce=getSelection().getRangeAt(0).startContainer,_e=(0,u.lG)(ce,"TD")||(0,u.lG)(ce,"TH");_e&&Yi(e,t,_e)};var Pe=document.createElement("button");Pe.setAttribute("type","button"),Pe.setAttribute("aria-label",window.VditorI18n.insertColumnRight+"<"+(0,c.ns)("=")+">"),Pe.setAttribute("data-type","insertColumn"),Pe.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',Pe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Pe.onclick=function(){var ce=getSelection().getRangeAt(0).startContainer,_e=(0,u.lG)(ce,"TD")||(0,u.lG)(ce,"TH");_e&&er(e,w,_e)};var lt=document.createElement("button");lt.setAttribute("type","button"),lt.setAttribute("aria-label",window.VditorI18n.insertColumnLeft+"<"+(0,c.ns)("G")+">"),lt.setAttribute("data-type","insertColumn"),lt.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',lt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",lt.onclick=function(){var ce=getSelection().getRangeAt(0).startContainer,_e=(0,u.lG)(ce,"TD")||(0,u.lG)(ce,"TH");_e&&er(e,w,_e,"beforebegin")};var Xe=document.createElement("button");Xe.setAttribute("type","button"),Xe.setAttribute("aria-label",window.VditorI18n["delete-row"]+"<"+(0,c.ns)("-")+">"),Xe.setAttribute("data-type","deleteRow"),Xe.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',Xe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Xe.onclick=function(){var ce=getSelection().getRangeAt(0).startContainer,_e=(0,u.lG)(ce,"TD")||(0,u.lG)(ce,"TH");_e&&Qi(e,t,_e)};var ct=document.createElement("button");ct.setAttribute("type","button"),ct.setAttribute("aria-label",window.VditorI18n["delete-column"]+"<"+(0,c.ns)("-")+">"),ct.setAttribute("data-type","deleteColumn"),ct.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',ct.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",ct.onclick=function(){var ce=getSelection().getRangeAt(0).startContainer,_e=(0,u.lG)(ce,"TD")||(0,u.lG)(ce,"TH");_e&&ea(e,t,w,_e)};var be=document.createElement("span");be.setAttribute("aria-label",window.VditorI18n.row),be.className="vditor-tooltipped vditor-tooltipped__n";var We=document.createElement("input");be.appendChild(We),We.type="number",We.min="1",We.className="vditor-input",We.style.width="42px",We.style.textAlign="center",We.setAttribute("placeholder",window.VditorI18n.row),We.value=w.rows.length.toString(),We.oninput=function(){Z()},We.onkeydown=function(ce){if(!ce.isComposing){if(ce.key==="Tab"){pt.focus(),pt.select(),ce.preventDefault();return}Ze(e,ce)||Tt(ce,t)}};var rr=document.createElement("span");rr.setAttribute("aria-label",window.VditorI18n.column),rr.className="vditor-tooltipped vditor-tooltipped__n";var pt=document.createElement("input");rr.appendChild(pt),pt.type="number",pt.min="1",pt.className="vditor-input",pt.style.width="42px",pt.style.textAlign="center",pt.setAttribute("placeholder",window.VditorI18n.column),pt.value=w.rows[0].cells.length.toString(),pt.oninput=function(){Z()},pt.onkeydown=function(ce){if(!ce.isComposing){if(ce.key==="Tab"){We.focus(),We.select(),ce.preventDefault();return}Ze(e,ce)||Tt(ce,t)}},cn(t,w,e),un(t,w,e),wt(w,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",fe),e.wysiwyg.popover.insertAdjacentElement("beforeend",se),e.wysiwyg.popover.insertAdjacentElement("beforeend",me),e.wysiwyg.popover.insertAdjacentElement("beforeend",Oe),e.wysiwyg.popover.insertAdjacentElement("beforeend",Re),e.wysiwyg.popover.insertAdjacentElement("beforeend",lt),e.wysiwyg.popover.insertAdjacentElement("beforeend",Pe),e.wysiwyg.popover.insertAdjacentElement("beforeend",Xe),e.wysiwyg.popover.insertAdjacentElement("beforeend",ct),e.wysiwyg.popover.insertAdjacentElement("beforeend",be),e.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),e.wysiwyg.popover.insertAdjacentElement("beforeend",rr),dt(e,"table"),bt(e,w)}var Vr=(0,u.a1)(n,"data-type","link-ref");Vr&&Ri(e,Vr,t);var pn=(0,u.a1)(n,"data-type","footnotes-ref");if(pn){e.options.lang,e.options,e.wysiwyg.popover.innerHTML="";var be=document.createElement("span");be.setAttribute("aria-label",window.VditorI18n.footnoteRef+"<"+(0,c.ns)("Enter")+">"),be.className="vditor-tooltipped vditor-tooltipped__n";var Nt=document.createElement("input");be.appendChild(Nt),Nt.className="vditor-input",Nt.setAttribute("placeholder",window.VditorI18n.footnoteRef+"<"+(0,c.ns)("Enter")+">"),Nt.style.width="120px",Nt.value=pn.getAttribute("data-footnotes-label"),Nt.oninput=function(){Nt.value.trim()!==""&&pn.setAttribute("data-footnotes-label",Nt.value),typeof e.options.input=="function"&&e.options.input(H(e))},Nt.onkeydown=function(_e){_e.isComposing||Ze(e,_e)||Tt(_e,t)},wt(pn,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",be),dt(e,"footnotes-ref"),bt(e,pn)}var ze=(0,u.fb)(n,"vditor-wysiwyg__block"),ma=ze?ze.getAttribute("data-type").indexOf("block")>-1:!1;if(e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(ce){if(!ze||ze&&ma&&!ze.contains(ce)){var _e=ce.previousElementSibling;_e.style.display="none"}}),ze&&ma){if(e.wysiwyg.popover.innerHTML="",cn(t,ze,e),un(t,ze,e),wt(ze,e),ze.getAttribute("data-type")==="code-block"){var ir=document.createElement("span");ir.setAttribute("aria-label",window.VditorI18n.language+"<"+(0,c.ns)("Enter")+">"),ir.className="vditor-tooltipped vditor-tooltipped__n";var vt=document.createElement("input");ir.appendChild(vt);var kn=ze.firstElementChild.firstElementChild;vt.className="vditor-input",vt.setAttribute("placeholder",window.VditorI18n.language+"<"+(0,c.ns)("Enter")+">"),vt.value=kn.className.indexOf("language-")>-1?kn.className.split("-")[1].split(" ")[0]:"",vt.oninput=function(ce){vt.value.trim()!==""?kn.className="language-".concat(vt.value):(kn.className="",e.hint.recentLanguage=""),ze.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(ze.lastElementChild.innerHTML=ze.firstElementChild.innerHTML,Ne(ze.lastElementChild,e)),oe(e),ce.detail===1&&(t.setStart(kn.firstChild,0),t.collapse(!0),(0,P.Hc)(t))},vt.onkeydown=function(ce){if(!ce.isComposing&&!Ze(e,ce)){if(ce.key==="Escape"&&e.hint.element.style.display==="block"){e.hint.element.style.display="none",ce.preventDefault();return}e.hint.select(ce,e),Tt(ce,t)}},vt.onkeyup=function(ce){var _e,Kt;if(!(ce.isComposing||ce.key==="Enter"||ce.key==="ArrowUp"||ce.key==="Escape"||ce.key==="ArrowDown")){var qt=[],xn=vt.value.substring(0,vt.selectionStart);(e.options.preview.hljs.langs||p.g.ALIAS_CODE_LANGUAGES.concat(((Kt=(_e=window.hljs)===null||_e===void 0?void 0:_e.listLanguages())!==null&&Kt!==void 0?Kt:[]).sort())).forEach(function(Mt){Mt.indexOf(xn.toLowerCase())>-1&&qt.push({html:Mt,value:Mt})}),e.hint.genHTML(qt,xn,e),ce.preventDefault()}},e.wysiwyg.popover.insertAdjacentElement("beforeend",ir),dt(e,"code-block")}else dt(e,"block");bt(e,ze)}else ze=void 0;if(D){e.wysiwyg.popover.innerHTML="";var be=document.createElement("span");be.setAttribute("aria-label","ID<"+(0,c.ns)("Enter")+">"),be.className="vditor-tooltipped vditor-tooltipped__n";var Wt=document.createElement("input");be.appendChild(Wt),Wt.className="vditor-input",Wt.setAttribute("placeholder","ID<"+(0,c.ns)("Enter")+">"),Wt.style.width="120px",Wt.value=D.getAttribute("data-id")||"",Wt.oninput=function(){D.setAttribute("data-id",Wt.value),typeof e.options.input=="function"&&e.options.input(H(e))},Wt.onkeydown=function(_e){_e.isComposing||Ze(e,_e)||Tt(_e,t)},cn(t,D,e),un(t,D,e),wt(D,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",be),dt(e,"heading"),bt(e,D)}if(C&&Mr(e,C,t),!$&&!a&&!w&&!ze&&!C&&!Vr&&!pn&&!D&&!j){var hn=(0,u.a1)(n,"data-block","0");hn&&hn.parentElement.isEqualNode(e.wysiwyg.element)?(e.wysiwyg.popover.innerHTML="",cn(t,hn,e),un(t,hn,e),wt(hn,e),dt(e,"block"),bt(e,hn)):e.wysiwyg.popover.style.display="none"}e.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach(function(ce){ce.style.display="none"});var ga=(0,u.a1)(t.startContainer,"data-type","backslash");ga&&(ga.querySelector("span").style.display="inline")}},200)},bt=function(e,t){var n=t,i=(0,u.lG)(t,"TABLE");i&&(n=i),e.wysiwyg.popover.style.left="0",e.wysiwyg.popover.style.display="block",e.wysiwyg.popover.style.top=Math.max(-8,n.offsetTop-21-e.wysiwyg.element.scrollTop)+"px",e.wysiwyg.popover.style.left=Math.min(n.offsetLeft,e.wysiwyg.element.clientWidth-e.wysiwyg.popover.clientWidth)+"px",e.wysiwyg.popover.setAttribute("data-top",(n.offsetTop-21).toString())},Ri=function(e,t,n){n===void 0&&(n=getSelection().getRangeAt(0)),e.wysiwyg.popover.innerHTML="";var i=function(){o.value.trim()!==""&&(t.tagName==="IMG"?t.setAttribute("alt",o.value):t.textContent=o.value),b.value.trim()!==""&&t.setAttribute("data-link-label",b.value),typeof e.options.input=="function"&&e.options.input(H(e))},a=document.createElement("span");a.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),a.className="vditor-tooltipped vditor-tooltipped__n";var o=document.createElement("input");a.appendChild(o),o.className="vditor-input",o.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),o.style.width="120px",o.value=t.getAttribute("alt")||t.textContent,o.oninput=function(){i()},o.onkeydown=function(C){Ze(e,C)||Tt(C,n)||Cn(e,t,C,b)};var f=document.createElement("span");f.setAttribute("aria-label",window.VditorI18n.linkRef),f.className="vditor-tooltipped vditor-tooltipped__n";var b=document.createElement("input");f.appendChild(b),b.className="vditor-input",b.setAttribute("placeholder",window.VditorI18n.linkRef),b.value=t.getAttribute("data-link-label"),b.oninput=function(){i()},b.onkeydown=function(C){Ze(e,C)||Tt(C,n)||Cn(e,t,C,o)},wt(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",a),e.wysiwyg.popover.insertAdjacentElement("beforeend",f),dt(e,"link-ref"),bt(e,t)},cn=function(e,t,n){var i=t.previousElementSibling;if(!(!i||!t.parentElement.isEqualNode(n.wysiwyg.element)&&t.tagName!=="LI")){var a=document.createElement("button");a.setAttribute("type","button"),a.setAttribute("data-type","up"),a.setAttribute("aria-label",window.VditorI18n.up+"<"+(0,c.ns)("U")+">"),a.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',a.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",a.onclick=function(){e.insertNode(document.createElement("wbr")),i.insertAdjacentElement("beforebegin",t),(0,P.ib)(n.wysiwyg.element,e),oe(n),Ct(n),Ve(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",a)}},un=function(e,t,n){var i=t.nextElementSibling;if(!(!i||!t.parentElement.isEqualNode(n.wysiwyg.element)&&t.tagName!=="LI")){var a=document.createElement("button");a.setAttribute("type","button"),a.setAttribute("data-type","down"),a.setAttribute("aria-label",window.VditorI18n.down+"<"+(0,c.ns)("D")+">"),a.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',a.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",a.onclick=function(){e.insertNode(document.createElement("wbr")),i.insertAdjacentElement("afterend",t),(0,P.ib)(n.wysiwyg.element,e),oe(n),Ct(n),Ve(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",a)}},wt=function(e,t){var n=document.createElement("button");n.setAttribute("type","button"),n.setAttribute("data-type","remove"),n.setAttribute("aria-label",window.VditorI18n.remove+"<"+(0,c.ns)("X")+">"),n.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',n.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",n.onclick=function(){var i=(0,P.zh)(t);i.setStartAfter(e),(0,P.Hc)(i),e.remove(),oe(t),Ct(t),["H1","H2","H3","H4","H5","H6"].includes(e.tagName)&&ft(t)},t.wysiwyg.popover.insertAdjacentElement("beforeend",n)},Cn=function(e,t,n,i){if(!n.isComposing){if(n.key==="Tab"){i.focus(),i.select(),n.preventDefault();return}if(!(0,c.yl)(n)&&!n.shiftKey&&n.altKey&&n.key==="Enter"){var a=(0,P.zh)(e);t.insertAdjacentHTML("afterend",p.g.ZWSP),a.setStartAfter(t.nextSibling),a.collapse(!0),(0,P.Hc)(a),n.preventDefault()}}},Mr=function(e,t,n){e.wysiwyg.popover.innerHTML="";var i=function(){o.value.trim()!==""&&(t.innerHTML=o.value),t.setAttribute("href",b.value),t.setAttribute("title",w.value),oe(e)};t.querySelectorAll("[data-marker]").forEach(function(D){D.removeAttribute("data-marker")});var a=document.createElement("span");a.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),a.className="vditor-tooltipped vditor-tooltipped__n";var o=document.createElement("input");a.appendChild(o),o.className="vditor-input",o.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),o.style.width="120px",o.value=t.innerHTML||"",o.oninput=function(){i()},o.onkeydown=function(D){Ze(e,D)||Tt(D,n)||Cn(e,t,D,b)};var f=document.createElement("span");f.setAttribute("aria-label",window.VditorI18n.link),f.className="vditor-tooltipped vditor-tooltipped__n";var b=document.createElement("input");f.appendChild(b),b.className="vditor-input",b.setAttribute("placeholder",window.VditorI18n.link),b.value=t.getAttribute("href")||"",b.oninput=function(){i()},b.onkeydown=function(D){Ze(e,D)||Tt(D,n)||Cn(e,t,D,w)};var C=document.createElement("span");C.setAttribute("aria-label",window.VditorI18n.tooltipText),C.className="vditor-tooltipped vditor-tooltipped__n";var w=document.createElement("input");C.appendChild(w),w.className="vditor-input",w.setAttribute("placeholder",window.VditorI18n.tooltipText),w.style.width="60px",w.value=t.getAttribute("title")||"",w.oninput=function(){i()},w.onkeydown=function(D){Ze(e,D)||Tt(D,n)||Cn(e,t,D,o)},wt(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",a),e.wysiwyg.popover.insertAdjacentElement("beforeend",f),e.wysiwyg.popover.insertAdjacentElement("beforeend",C),dt(e,"a"),bt(e,t)},Xs=function(e,t){var n=e.target;t.wysiwyg.popover.innerHTML="";var i=function(){n.setAttribute("src",o.value),n.setAttribute("alt",b.value),n.setAttribute("title",w.value),typeof t.options.input=="function"&&t.options.input(H(t))},a=document.createElement("span");a.setAttribute("aria-label",window.VditorI18n.imageURL),a.className="vditor-tooltipped vditor-tooltipped__n";var o=document.createElement("input");a.appendChild(o),o.className="vditor-input",o.setAttribute("placeholder",window.VditorI18n.imageURL),o.value=n.getAttribute("src")||"",o.oninput=function(){i()},o.onkeydown=function(D){Ze(t,D)};var f=document.createElement("span");f.setAttribute("aria-label",window.VditorI18n.alternateText),f.className="vditor-tooltipped vditor-tooltipped__n";var b=document.createElement("input");f.appendChild(b),b.className="vditor-input",b.setAttribute("placeholder",window.VditorI18n.alternateText),b.style.width="52px",b.value=n.getAttribute("alt")||"",b.oninput=function(){i()},b.onkeydown=function(D){Ze(t,D)};var C=document.createElement("span");C.setAttribute("aria-label",window.VditorI18n.title),C.className="vditor-tooltipped vditor-tooltipped__n";var w=document.createElement("input");C.appendChild(w),w.className="vditor-input",w.setAttribute("placeholder",window.VditorI18n.title),w.value=n.getAttribute("title")||"",w.oninput=function(){i()},w.onkeydown=function(D){Ze(t,D)},wt(n,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",a),t.wysiwyg.popover.insertAdjacentElement("beforeend",f),t.wysiwyg.popover.insertAdjacentElement("beforeend",C),dt(t,"image"),bt(t,n)},Tt=function(e,t){if(!(0,c.yl)(e)&&!e.shiftKey&&e.key==="Enter"||e.key==="Escape")return t&&(0,P.Hc)(t),e.preventDefault(),e.stopPropagation(),!0},dt=function(e,t){e.options.customWysiwygToolbar(t,e.wysiwyg.popover)},fn=function(e){e.currentMode==="wysiwyg"?Ct(e):e.currentMode==="ir"&&de(e)},Pi=function(e,t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var i=e.wysiwyg.element;i.innerHTML=e.lute.Md2VditorDOM(t),i.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(a){Ne(a,e),a.previousElementSibling.setAttribute("style","display:none")}),oe(e,n)},Ys=function(e,t,n){for(var i=e.startContainer.parentElement,a=!1,o="",f="",b=gt(e),C=b.beforeHTML,w=b.afterHTML;i&&!a;){var D=i.tagName;if(D==="STRIKE"&&(D="S"),D==="I"&&(D="EM"),D==="B"&&(D="STRONG"),D==="S"||D==="STRONG"||D==="EM"){var j="",$="",Z="";i.parentElement.getAttribute("data-block")!=="0"&&($=Je(i),Z=Le(i)),(C||$)&&(j="".concat($,"<").concat(D,">").concat(C,"</").concat(D,">"),C=j),(n==="bold"&&D==="STRONG"||n==="italic"&&D==="EM"||n==="strikeThrough"&&D==="S")&&(j+="".concat(o).concat(p.g.ZWSP,"<wbr>").concat(f),a=!0),(w||Z)&&(w="<".concat(D,">").concat(w,"</").concat(D,">").concat(Z),j+=w),i.parentElement.getAttribute("data-block")!=="0"?(i=i.parentElement,i.innerHTML=j):(i.outerHTML=j,i=i.parentElement),o="<".concat(D,">")+o,f="</".concat(D,">")+f}else a=!0}(0,P.ib)(t.wysiwyg.element,e)},Qs=function(e,t,n){if(!(e.wysiwyg.composingLock&&n instanceof CustomEvent)){var i=!0,a=!0;e.wysiwyg.element.querySelector("wbr")&&e.wysiwyg.element.querySelector("wbr").remove();var o=(0,P.zh)(e),f=t.getAttribute("data-type");if(t.classList.contains("vditor-menu--current"))if(f==="strike"&&(f="strikeThrough"),f==="quote"){var b=(0,u.lG)(o.startContainer,"BLOCKQUOTE");b||(b=o.startContainer.childNodes[o.startOffset]),b&&(i=!1,t.classList.remove("vditor-menu--current"),o.insertNode(document.createElement("wbr")),b.outerHTML=b.innerHTML.trim()===""?'<p data-block="0">'.concat(b.innerHTML,"</p>"):b.innerHTML,(0,P.ib)(e.wysiwyg.element,o))}else if(f==="inline-code"){var C=(0,u.lG)(o.startContainer,"CODE");C||(C=o.startContainer.childNodes[o.startOffset]),C&&(C.outerHTML=C.innerHTML.replace(p.g.ZWSP,"")+"<wbr>",(0,P.ib)(e.wysiwyg.element,o))}else f==="link"?(o.collapsed&&o.selectNode(o.startContainer.parentElement),document.execCommand("unlink",!1,"")):f==="check"||f==="list"||f==="ordered-list"?(Yn(e,o,f),(0,P.ib)(e.wysiwyg.element,o),i=!1,t.classList.remove("vditor-menu--current")):(i=!1,t.classList.remove("vditor-menu--current"),o.toString()===""?Ys(o,e,f):document.execCommand(f,!1,""));else{e.wysiwyg.element.childNodes.length===0&&(e.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',(0,P.ib)(e.wysiwyg.element,o));var w=(0,u.F9)(o.startContainer);if(f==="quote"){if(w||(w=o.startContainer.childNodes[o.startOffset]),w){i=!1,t.classList.add("vditor-menu--current"),o.insertNode(document.createElement("wbr"));var D=(0,u.lG)(o.startContainer,"LI");D&&w.contains(D)?D.innerHTML='<blockquote data-block="0">'.concat(D.innerHTML,"</blockquote>"):w.outerHTML='<blockquote data-block="0">'.concat(w.outerHTML,"</blockquote>"),(0,P.ib)(e.wysiwyg.element,o)}}else if(f==="check"||f==="list"||f==="ordered-list")Yn(e,o,f,!1),(0,P.ib)(e.wysiwyg.element,o),i=!1,v(e.toolbar.elements,["check","list","ordered-list"]),t.classList.add("vditor-menu--current");else if(f==="inline-code"){if(o.toString()===""){var j=document.createElement("code");j.textContent=p.g.ZWSP,o.insertNode(j),o.setStart(j.firstChild,1),o.collapse(!0),(0,P.Hc)(o)}else if(o.startContainer.nodeType===3){var j=document.createElement("code");o.surroundContents(j),o.insertNode(j),(0,P.Hc)(o)}t.classList.add("vditor-menu--current")}else if(f==="code"){var j=document.createElement("div");j.className="vditor-wysiwyg__block",j.setAttribute("data-type","code-block"),j.setAttribute("data-block","0"),j.setAttribute("data-marker","```"),o.toString()===""?j.innerHTML=`<pre><code><wbr>
</code></pre>`:(j.innerHTML="<pre><code>".concat(o.toString(),"<wbr></code></pre>"),o.deleteContents()),o.insertNode(j),w&&(w.outerHTML=e.lute.SpinVditorDOM(w.outerHTML)),(0,P.ib)(e.wysiwyg.element,o),e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(Re){Ne(Re,e)}),t.classList.add("vditor-menu--disabled")}else if(f==="link"){if(o.toString()===""){var $=document.createElement("a");$.innerText=p.g.ZWSP,o.insertNode($),o.setStart($.firstChild,1),o.collapse(!0),Mr(e,$,o);var Z=e.wysiwyg.popover.querySelector("input");Z.value="",Z.focus(),a=!1}else{var j=document.createElement("a");j.setAttribute("href",""),j.innerHTML=o.toString(),o.surroundContents(j),o.insertNode(j),(0,P.Hc)(o),Mr(e,j,o);var q=e.wysiwyg.popover.querySelectorAll("input");q[0].value=j.innerText,q[1].focus()}i=!1,t.classList.add("vditor-menu--current")}else if(f==="table"){var re='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(o.toString().trim()==="")w&&w.innerHTML.trim().replace(p.g.ZWSP,"")===""?w.outerHTML=re:document.execCommand("insertHTML",!1,re),o.selectNode(e.wysiwyg.element.querySelector("wbr").previousSibling),e.wysiwyg.element.querySelector("wbr").remove(),(0,P.Hc)(o);else{re='<table data-block="0"><thead><tr>';var ne=o.toString().split(`
`),G=ne[0].split(",").length>ne[0].split("	").length?",":"	";ne.forEach(function(me,Re){Re===0?(me.split(G).forEach(function(Oe,Pe){Pe===0?re+="<th>".concat(Oe,"<wbr></th>"):re+="<th>".concat(Oe,"</th>")}),re+="</tr></thead>"):(Re===1?re+="<tbody><tr>":re+="<tr>",me.split(G).forEach(function(Oe){re+="<td>".concat(Oe,"</td>")}),re+="</tr>")}),re+="</tbody></table>",document.execCommand("insertHTML",!1,re),(0,P.ib)(e.wysiwyg.element,o)}i=!1,t.classList.add("vditor-menu--disabled")}else if(f==="line"){if(w){var fe=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;w.innerHTML.trim()===""?w.outerHTML=fe:w.insertAdjacentHTML("afterend",fe),(0,P.ib)(e.wysiwyg.element,o)}}else if(i=!1,t.classList.add("vditor-menu--current"),f==="strike"&&(f="strikeThrough"),o.toString()===""&&(f==="bold"||f==="italic"||f==="strikeThrough")){var se="strong";f==="italic"?se="em":f==="strikeThrough"&&(se="s");var j=document.createElement(se);j.textContent=p.g.ZWSP,o.insertNode(j),j.previousSibling&&j.previousSibling.textContent===p.g.ZWSP&&(j.previousSibling.textContent=""),o.setStart(j.firstChild,1),o.collapse(!0),(0,P.Hc)(o)}else document.execCommand(f,!1,"")}i&&Ct(e),a&&oe(e)}},Ue=(function(){function e(t,n){var i,a=this;this.element=document.createElement("div"),n.className&&(i=this.element.classList).add.apply(i,n.className.split(" "));var o=n.hotkey?" <".concat((0,c.ns)(n.hotkey),">"):"";n.level===2&&(o=n.hotkey?" &lt;".concat((0,c.ns)(n.hotkey),"&gt;"):"");var f=n.tip?n.tip+o:"".concat(window.VditorI18n[n.name]).concat(o),b=n.name==="upload"?"div":"button";if(n.level===2)this.element.innerHTML="<".concat(b,' data-type="').concat(n.name,'">').concat(f,"</").concat(b,">");else{this.element.classList.add("vditor-toolbar__item");var C=document.createElement(b);C.setAttribute("data-type",n.name),C.className="vditor-tooltipped vditor-tooltipped__".concat(n.tipPosition),C.setAttribute("aria-label",f),C.innerHTML=n.icon,this.element.appendChild(C)}n.prefix&&this.element.children[0].addEventListener((0,c.Le)(),function(w){w.preventDefault(),!a.element.firstElementChild.classList.contains(p.g.CLASS_MENU_DISABLED)&&(t.currentMode==="wysiwyg"?Qs(t,a.element.children[0],w):t.currentMode==="ir"?ho(t,a.element.children[0],n.prefix||"",n.suffix||""):ro(t,a.element.children[0],n.prefix||"",n.suffix||""))})}return e})(),eo=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Yt=function(e,t,n){var i;if(typeof n!="string"?(A(e,["subToolbar","hint"]),n.preventDefault(),i=H(e)):i=n,!(e.currentMode===t&&typeof n!="string")){if(e.devtools&&e.devtools.renderEchart(e),e.options.preview.mode==="both"&&t==="sv"?e.preview.element.style.display="block":e.preview.element.style.display="none",_(e.toolbar.elements,p.g.EDIT_TOOLBARS),v(e.toolbar.elements,p.g.EDIT_TOOLBARS),g(e.toolbar.elements,["outdent","indent"]),t==="ir")k(e.toolbar.elements,["both"]),L(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="block",e.lute.SetVditorIR(!0),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!1),e.currentMode="ir",e.ir.element.innerHTML=e.lute.Md2VditorIRDOM(i),Ht(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),Y(e),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(o){Ne(o,e)}),e.ir.element.querySelectorAll(".vditor-toc").forEach(function(o){(0,Se.H)(o,{cdn:e.options.cdn,math:e.options.preview.math})});else if(t==="wysiwyg")k(e.toolbar.elements,["both"]),L(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="block",e.ir.element.parentElement.style.display="none",e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!0),e.lute.SetVditorSV(!1),e.currentMode="wysiwyg",Y(e),Pi(e,i,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),e.wysiwyg.element.querySelectorAll(".vditor-toc").forEach(function(o){(0,Se.H)(o,{cdn:e.options.cdn,math:e.options.preview.math})}),e.wysiwyg.popover.style.display="none";else if(t==="sv"){L(e.toolbar.elements,["both"]),k(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="none",(e.options.preview.mode==="both"||e.options.preview.mode==="editor")&&(e.sv.element.style.display="block"),e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!0),e.currentMode="sv";var a=ji(i,e);a==="<div data-block='0'></div>"&&(a=""),e.sv.element.innerHTML=a,R(e.sv.element),Ge(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),Y(e)}e.undo.resetIcon(e),typeof n!="string"&&(e[e.currentMode].element.focus(),fn(e)),ft(e),te(e),e.toolbar.elements["edit-mode"]&&(e.toolbar.elements["edit-mode"].querySelectorAll("button").forEach(function(o){o.classList.remove("vditor-menu--current")}),e.toolbar.elements["edit-mode"].querySelector('button[data-mode="'.concat(e.currentMode,'"]')).classList.add("vditor-menu--current")),e.outline.toggle(e,e.currentMode!=="sv"&&e.options.outline.enable,typeof n!="string")}},to=(function(e){eo(t,e);function t(n,i){var a=e.call(this,n,i)||this,o=document.createElement("div");return o.className="vditor-hint".concat(i.level===2?"":" vditor-panel--arrow"),o.innerHTML='<button data-mode="wysiwyg">'.concat(window.VditorI18n.wysiwyg," &lt;").concat((0,c.ns)("7"),`></button>
<button data-mode="ir">`).concat(window.VditorI18n.instantRendering," &lt;").concat((0,c.ns)("8"),`></button>
<button data-mode="sv">`).concat(window.VditorI18n.splitView," &lt;").concat((0,c.ns)("9"),"></button>"),a.element.appendChild(o),a._bindEvent(n,o,i),a}return t.prototype._bindEvent=function(n,i,a){var o=this.element.children[0];T(n,i,o,a.level),i.children.item(0).addEventListener((0,c.Le)(),function(f){Yt(n,"wysiwyg",f),f.preventDefault(),f.stopPropagation()}),i.children.item(1).addEventListener((0,c.Le)(),function(f){Yt(n,"ir",f),f.preventDefault(),f.stopPropagation()}),i.children.item(2).addEventListener((0,c.Le)(),function(f){Yt(n,"sv",f),f.preventDefault(),f.stopPropagation()})},t})(Ue),Tn=function(e,t){return(0,P.Gb)(e,t)?getSelection().toString():""},Lr=function(e,t){t.addEventListener("focus",function(){e.options.focus&&e.options.focus(H(e)),A(e,["subToolbar","hint"])})},Ii=function(e,t){t.addEventListener("dblclick",function(n){n.target.tagName==="IMG"&&(e.options.image.preview?e.options.image.preview(n.target):e.options.image.isPreview&&(0,x.E)(n.target,e.options.lang,e.options.theme))})},Ar=function(e,t){t.addEventListener("blur",function(n){if(e.currentMode==="ir"){var i=e.ir.element.querySelector(".vditor-ir__node--expand");i&&i.classList.remove("vditor-ir__node--expand")}else e.currentMode==="wysiwyg"&&!e.wysiwyg.selectPopover.contains(n.relatedTarget)&&e.wysiwyg.hideComment();e[e.currentMode].range=(0,P.zh)(e),e.options.blur&&e.options.blur(H(e))})},kr=function(e,t){t.addEventListener("dragstart",function(n){n.dataTransfer.setData(p.g.DROP_EDITOR,p.g.DROP_EDITOR)}),t.addEventListener("drop",function(n){n.dataTransfer.getData(p.g.DROP_EDITOR)?Ee(e):(n.dataTransfer.types.includes("Files")||n.dataTransfer.types.includes("text/html"))&&tr(e,n,{pasteCode:function(i){document.execCommand("insertHTML",!1,i)}})})},xr=function(e,t,n){t.addEventListener("copy",function(i){return n(i,e)})},Or=function(e,t,n){t.addEventListener("cut",function(i){n(i,e),e.options.comment.enable&&e.currentMode==="wysiwyg"&&e.wysiwyg.getComments(e),document.execCommand("delete")})},Ve=function(e){if(e.currentMode==="wysiwyg"&&e.options.comment.enable&&e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)),!!e.options.typewriterMode){var t=e[e.currentMode].element,n=(0,P.Ny)(t).top;e.options.height==="auto"&&!e.element.classList.contains("vditor--fullscreen")&&window.scrollTo(window.scrollX,n+e.element.offsetTop+e.toolbar.element.offsetHeight-window.innerHeight/2+10),(e.options.height!=="auto"||e.element.classList.contains("vditor--fullscreen"))&&(t.scrollTop=n+t.scrollTop-t.clientHeight/2+10)}},Dr=function(e,t){t.addEventListener("keydown",function(n){if(!n.isComposing&&e.options.keydown&&e.options.keydown(n),!((e.options.hint.extend.length>1||e.toolbar.elements.emoji)&&e.hint.select(n,e))){if(e.options.comment.enable&&e.currentMode==="wysiwyg"&&(n.key==="Backspace"||z("X",n))&&e.wysiwyg.getComments(e),e.currentMode==="sv"){if(K(e,n))return}else if(e.currentMode==="wysiwyg"){if(yt(e,n))return}else if(e.currentMode==="ir"&&Be(e,n))return;if(e.options.ctrlEnter&&z("Enter",n)){e.options.ctrlEnter(H(e)),n.preventDefault();return}if(z("Z",n)&&!e.toolbar.elements.undo){e.undo.undo(e),n.preventDefault();return}if(z("Y",n)&&!e.toolbar.elements.redo){e.undo.redo(e),n.preventDefault();return}if(n.key==="Escape"){e.hint.element.style.display==="block"?e.hint.element.style.display="none":e.options.esc&&!n.isComposing&&e.options.esc(H(e)),n.preventDefault();return}if((0,c.yl)(n)&&n.altKey&&!n.shiftKey&&/^Digit[1-6]$/.test(n.code)){if(e.currentMode==="wysiwyg"){var i=n.code.replace("Digit","H");(0,u.lG)(getSelection().getRangeAt(0).startContainer,i)?ln(e):St(e,i),oe(e)}else e.currentMode==="sv"?Bi(e,"#".repeat(parseInt(n.code.replace("Digit",""),10))+" "):e.currentMode==="ir"&&An(e,"#".repeat(parseInt(n.code.replace("Digit",""),10))+" ");return n.preventDefault(),!0}if((0,c.yl)(n)&&n.altKey&&!n.shiftKey&&/^Digit[7-9]$/.test(n.code))return n.code==="Digit7"?Yt(e,"wysiwyg",n):n.code==="Digit8"?Yt(e,"ir",n):n.code==="Digit9"&&Yt(e,"sv",n),!0;e.options.toolbar.find(function(a){if(!a.hotkey||a.toolbar){if(a.toolbar){var o=a.toolbar.find(function(f){if(!f.hotkey)return!1;if(z(f.hotkey,n))return e.toolbar.elements[f.name].children[0].dispatchEvent(new CustomEvent((0,c.Le)())),n.preventDefault(),!0});return!!o}return!1}if(z(a.hotkey,n))return e.toolbar.elements[a.name].children[0].dispatchEvent(new CustomEvent((0,c.Le)())),n.preventDefault(),!0})}})},Hr=function(e,t){t.addEventListener("selectstart",function(n){t.onmouseup=function(){setTimeout(function(){var i=Tn(e[e.currentMode].element);i.trim()?(e.currentMode==="wysiwyg"&&e.options.comment.enable&&(!(0,u.a1)(n.target,"data-type","footnotes-block")&&!(0,u.a1)(n.target,"data-type","link-ref-defs-block")?e.wysiwyg.showComment():e.wysiwyg.hideComment()),e.options.select&&e.options.select(i)):(e.currentMode==="wysiwyg"&&e.options.comment.enable&&e.wysiwyg.hideComment(),typeof e.options.unSelect=="function"&&e.options.unSelect())})}})},Nr=function(e,t){var n=(0,P.zh)(e);n.extractContents(),n.insertNode(document.createTextNode(Lute.Caret)),n.insertNode(document.createTextNode(t));var i=(0,u.a1)(n.startContainer,"data-block","0");i||(i=e.sv.element);var a=e.lute.SpinVditorSVDOM(i.textContent);a="<div data-block='0'>"+a.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",i.isEqualNode(e.sv.element)?i.innerHTML=a:i.outerHTML=a,R(e.sv.element),(0,P.ib)(e.sv.element,n),Ve(e)},Zn=function(e,t,n){n===void 0&&(n=!0);var i=e;for(i.nodeType===3&&(i=i.parentElement);i;){if(i.getAttribute("data-type")===t)return i;n?i=i.previousElementSibling:i=i.nextElementSibling}return!1},ji=function(e,t){F("SpinVditorSVDOM",e,"argument",t.options.debugger);var n=t.lute.SpinVditorSVDOM(e);return e="<div data-block='0'>"+n.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",F("SpinVditorSVDOM",e,"result",t.options.debugger),e},no=function(e){var t=e.getAttribute("data-type"),n=e.previousElementSibling,i=t&&t!=="text"&&t!=="table"&&t!=="heading-marker"&&t!=="newline"&&t!=="yaml-front-matter-open-marker"&&t!=="yaml-front-matter-close-marker"&&t!=="code-block-info"&&t!=="code-block-close-marker"&&t!=="code-block-open-marker"?e.textContent:"",a=!1;for(t==="newline"&&(a=!0);n&&!a;){var o=n.getAttribute("data-type");if(o==="li-marker"||o==="blockquote-marker"||o==="task-marker"||o==="padding"){var f=n.textContent;if(o==="li-marker"&&(t==="code-block-open-marker"||t==="code-block-info"))i=f.replace(/\S/g," ")+i;else if(t==="code-block-close-marker"&&n.nextElementSibling.isSameNode(e)){var b=Zn(e,"code-block-open-marker");b&&b.previousElementSibling&&(n=b.previousElementSibling,i=f+i)}else i=f+i}else o==="newline"&&(a=!0);n=n.previousElementSibling}return i},Ge=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),e.preview.render(e);var n=H(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,c.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),clearTimeout(e.sv.processTimeoutId),e.sv.processTimeoutId=window.setTimeout(function(){t.enableAddUndoStack&&!e.sv.composingLock&&e.undo.addToUndoStack(e)},e.options.undoDelay)},Bi=function(e,t){var n=(0,P.zh)(e),i=(0,N.S)(n.startContainer,"SPAN");i&&i.textContent.trim()!==""&&(t=`
`+t),n.collapse(!0),document.execCommand("insertHTML",!1,t)},ro=function(e,t,n,i){var a=(0,P.zh)(e),o=t.getAttribute("data-type");e.sv.element.childNodes.length===0&&(e.sv.element.innerHTML=`<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">
</span></span>`,(0,P.ib)(e.sv.element,a));var f=(0,u.F9)(a.startContainer),b=(0,N.S)(a.startContainer,"SPAN");if(f){if(o==="link"){var C=void 0;a.toString()===""?C="".concat(n).concat(Lute.Caret).concat(i):C="".concat(n).concat(a.toString()).concat(i.replace(")",Lute.Caret+")")),document.execCommand("insertHTML",!1,C);return}else if(o==="italic"||o==="bold"||o==="strike"||o==="inline-code"||o==="code"||o==="table"||o==="line"){var C=void 0;a.toString()===""?C="".concat(n).concat(Lute.Caret).concat(o==="code"?"":i):C="".concat(n).concat(a.toString()).concat(Lute.Caret).concat(o==="code"?"":i),o==="table"||o==="code"&&b&&b.textContent!==""?C=`

`+C:o==="line"&&(C=`

`.concat(n,`
`).concat(Lute.Caret)),document.execCommand("insertHTML",!1,C);return}else if((o==="check"||o==="list"||o==="ordered-list"||o==="quote")&&b){var w="* ";o==="check"?w="* [ ] ":o==="ordered-list"?w="1. ":o==="quote"&&(w="> ");var D=Zn(b,"newline");D?D.insertAdjacentText("afterend",w):f.insertAdjacentText("afterbegin",w),B(e);return}(0,P.ib)(e.sv.element,a),Ge(e)}},Ui=function(e){switch(e.currentMode){case"ir":return e.ir.element;case"wysiwyg":return e.wysiwyg.element;case"sv":return e.sv.element}},Fi=function(e,t){e.options.upload.setHeaders&&(e.options.upload.headers=e.options.upload.setHeaders()),e.options.upload.headers&&Object.keys(e.options.upload.headers).forEach(function(n){t.setRequestHeader(n,e.options.upload.headers[n])})},io=function(e,t,n,i){function a(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function b(D){try{w(i.next(D))}catch(j){f(j)}}function C(D){try{w(i.throw(D))}catch(j){f(j)}}function w(D){D.done?o(D.value):a(D.value).then(b,C)}w((i=i.apply(e,t||[])).next())})},ao=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,f;return f={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function b(w){return function(D){return C([w,D])}}function C(w){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(n=0)),n;)try{if(i=1,a&&(o=w[0]&2?a.return:w[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,w[1])).done)return o;switch(a=0,o&&(w=[w[0]&2,o.value]),w[0]){case 0:case 1:o=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,a=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!o||w[1]>o[0]&&w[1]<o[3])){n.label=w[1];break}if(w[0]===6&&n.label<o[1]){n.label=o[1],o=w;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(w);break}o[2]&&n.ops.pop(),n.trys.pop();continue}w=t.call(e,n)}catch(D){w=[6,D],a=0}finally{i=o=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},so=(function(){function e(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"}return e})(),oo=function(e,t){e.tip.hide();var n=[],i="",a="";e.options.lang,e.options;for(var o=function(w,D){var j=t[D],$=!0;j.name||(i+="<li>".concat(window.VditorI18n.nameEmpty,"</li>"),$=!1),j.size>e.options.upload.max&&(i+="<li>".concat(j.name," ").concat(window.VditorI18n.over," ").concat(e.options.upload.max/1024/1024,"M</li>"),$=!1);var Z=j.name.lastIndexOf("."),q=j.name.substr(Z),re=e.options.upload.filename(j.name.substr(0,Z))+q;if(e.options.upload.accept){var ne=e.options.upload.accept.split(",").some(function(G){var fe=G.trim();if(fe.indexOf(".")===0){if(q.toLowerCase()===fe.toLowerCase())return!0}else if(j.type.split("/")[0]===fe.split("/")[0])return!0;return!1});ne||(i+="<li>".concat(j.name," ").concat(window.VditorI18n.fileTypeError,"</li>"),$=!1)}$&&(n.push(j),a+="<li>".concat(re," ").concat(window.VditorI18n.uploading,' <a class="vditorCancelUpload" href="javascript:void(0)">').concat(window.VditorI18n.cancelUpload,"</a></li>"))},f=t.length,b=0;b<f;b++)o(f,b);if(e.tip.show("<ul>".concat(i).concat(a,"</ul>")),e.options.upload.cancel){var C=e.tip.element.querySelector(".vditorCancelUpload");C&&C.addEventListener("click",function(){e.options.upload.cancel(n),e.tip.hide(),e.upload.isUploading=!1})}return n},lo=function(e,t){var n=Ui(t);n.focus();var i=JSON.parse(e),a="";i.code===1&&(a="".concat(i.msg)),i.data.errFiles&&i.data.errFiles.length>0&&(a="<ul><li>".concat(a,"</li>"),i.data.errFiles.forEach(function(f){var b=f.lastIndexOf("."),C=t.options.upload.filename(f.substr(0,b))+f.substr(b);a+="<li>".concat(C," ").concat(window.VditorI18n.uploadError,"</li>")}),a+="</ul>"),a?t.tip.show(a):t.tip.hide();var o="";Object.keys(i.data.succMap).forEach(function(f){var b=i.data.succMap[f],C=f.lastIndexOf("."),w=f.substr(C),D=t.options.upload.filename(f.substr(0,C))+w;w=w.toLowerCase(),w.indexOf(".wav")===0||w.indexOf(".mp3")===0||w.indexOf(".ogg")===0?t.currentMode==="wysiwyg"?o+=`<div class="vditor-wysiwyg__block" data-type="html-block"
 data-block="0"><pre><code>&lt;audio controls="controls" src="`.concat(b,'"&gt;&lt;/audio&gt;</code></pre><pre class="vditor-wysiwyg__preview" data-render="1"><audio controls="controls" src="').concat(b,`"></audio></pre></div>
`):t.currentMode==="ir"?o+='<audio controls="controls" src="'.concat(b,`"></audio>
`):o+="[".concat(D,"](").concat(b,`)
`):w.indexOf(".apng")===0||w.indexOf(".bmp")===0||w.indexOf(".gif")===0||w.indexOf(".ico")===0||w.indexOf(".cur")===0||w.indexOf(".jpg")===0||w.indexOf(".jpeg")===0||w.indexOf(".jfif")===0||w.indexOf(".pjp")===0||w.indexOf(".pjpeg")===0||w.indexOf(".png")===0||w.indexOf(".svg")===0||w.indexOf(".webp")===0?t.currentMode==="wysiwyg"?o+='<img alt="'.concat(D,'" src="').concat(b,`">
`):o+="![".concat(D,"](").concat(b,`)
`):t.currentMode==="wysiwyg"?o+='<a href="'.concat(b,'">').concat(D,`</a>
`):o+="[".concat(D,"](").concat(b,`)
`)}),(0,P.Hc)(t.upload.range),document.execCommand("insertHTML",!1,o),t.upload.range=getSelection().getRangeAt(0).cloneRange()},Rr=function(e,t,n){return io(void 0,void 0,void 0,function(){var i,a,q,o,f,f,b,C,w,D,j,$,Z,q,re,ne;return ao(this,function(G){switch(G.label){case 0:for(i=[],a=e.options.upload.multiple===!0?t.length:1,q=0;q<a;q++)o=t[q],o instanceof DataTransferItem&&(o=o.getAsFile()),i.push(o);return e.options.upload.handler?[4,e.options.upload.handler(i)]:[3,2];case 1:return f=G.sent(),n&&(n.value=""),typeof f=="string"?(e.tip.show(f),[2]):[2];case 2:return!e.options.upload.url||!e.upload?(n&&(n.value=""),e.tip.show("please config: options.upload.url"),[2]):e.options.upload.file?[4,e.options.upload.file(i)]:[3,4];case 3:i=G.sent(),G.label=4;case 4:if(e.options.upload.validate&&(f=e.options.upload.validate(i),typeof f=="string"))return e.tip.show(f),[2];if(b=Ui(e),e.upload.range=(0,P.zh)(e),C=oo(e,i),C.length===0)return n&&(n.value=""),[2];for(w=new FormData,D=e.options.upload.extraData,j=0,$=Object.keys(D);j<$.length;j++)Z=$[j],w.append(Z,D[Z]);for(q=0,re=C.length;q<re;q++)w.append(e.options.upload.fieldName,C[q]);return ne=new XMLHttpRequest,e.upload.xhr=ne,ne.open("POST",e.options.upload.url),e.options.upload.token&&ne.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(ne.withCredentials=!0),Fi(e,ne),e.upload.isUploading=!0,b.setAttribute("contenteditable","false"),ne.onreadystatechange=function(){if(ne.readyState===XMLHttpRequest.DONE){if(e.upload.isUploading=!1,b.setAttribute("contenteditable","true"),ne.status>=200&&ne.status<300)if(e.options.upload.success)e.options.upload.success(b,ne.responseText);else{var fe=ne.responseText;e.options.upload.format&&(fe=e.options.upload.format(t,ne.responseText)),lo(fe,e)}else e.options.upload.error?e.options.upload.error(ne.responseText):e.tip.show(ne.responseText);n&&(n.value=""),e.upload.element.style.display="none",e.upload.xhr=void 0}},ne.upload.onprogress=function(fe){if(fe.lengthComputable){var se=fe.loaded/fe.total*100;e.upload.element.style.display="block";var me=e.upload.element;me.style.width=se+"%"}},ne.send(w),[2]}})})},Xn=function(e,t,n){var i,a=(0,u.F9)(t.startContainer);if(a||(a=e.wysiwyg.element),n&&n.inputType!=="formatItalic"&&n.inputType!=="deleteByDrag"&&n.inputType!=="insertFromDrop"&&n.inputType!=="formatBold"&&n.inputType!=="formatRemove"&&n.inputType!=="formatStrikeThrough"&&n.inputType!=="insertUnorderedList"&&n.inputType!=="insertOrderedList"&&n.inputType!=="formatOutdent"&&n.inputType!=="formatIndent"&&n.inputType!==""||!n){var o=Te(t.startContainer);o&&o.remove(),e.wysiwyg.element.querySelectorAll("wbr").forEach(function(se){se.remove()}),t.insertNode(document.createElement("wbr")),a.querySelectorAll("[style]").forEach(function(se){se.removeAttribute("style")}),a.querySelectorAll(".vditor-comment").forEach(function(se){se.textContent.trim()===""&&(se.classList.remove("vditor-comment","vditor-comment--focus"),se.removeAttribute("data-cmtids"))}),(i=a.previousElementSibling)===null||i===void 0||i.querySelectorAll(".vditor-comment").forEach(function(se){se.textContent.trim()===""&&(se.classList.remove("vditor-comment","vditor-comment--focus"),se.removeAttribute("data-cmtids"))});var f="";a.getAttribute("data-type")==="link-ref-defs-block"&&(a=e.wysiwyg.element);var b=a.isEqualNode(e.wysiwyg.element),C=(0,u.a1)(a,"data-type","footnotes-block");if(b)f=a.innerHTML;else{var w=(0,u.O9)(t.startContainer);if(w&&!C){var D=(0,N.S)(t.startContainer,"BLOCKQUOTE");D?a=(0,u.F9)(t.startContainer)||a:a=w}if(C&&(a=C),f=a.outerHTML,a.tagName==="UL"||a.tagName==="OL"){var j=a.previousElementSibling,$=a.nextElementSibling;j&&(j.tagName==="UL"||j.tagName==="OL")&&(f=j.outerHTML+f,j.remove()),$&&($.tagName==="UL"||$.tagName==="OL")&&(f=f+$.outerHTML,$.remove()),f=f.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}a.innerText.startsWith("```")||(e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(se){se&&!a.isEqualNode(se)&&(f+=se.outerHTML,se.remove())}),e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(se){se&&!a.isEqualNode(se)&&(f+=se.outerHTML,se.remove())}))}if(f=f.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""),f==='<p data-block="0">```<wbr></p>'&&e.hint.recentLanguage&&(f='<p data-block="0">```<wbr></p>'.replace("```","```"+e.hint.recentLanguage)),F("SpinVditorDOM",f,"argument",e.options.debugger),f=e.lute.SpinVditorDOM(f),F("SpinVditorDOM",f,"result",e.options.debugger),b)a.innerHTML=f;else if(a.outerHTML=f,C){var Z=(0,u.E2)(e.wysiwyg.element.querySelector("wbr"),"LI");if(Z){var q=e.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(Z.getAttribute("data-marker"),'"]'));q&&q.setAttribute("aria-label",Z.textContent.trim().substr(0,24))}}var re,ne=e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");ne.forEach(function(se,me){me===0?re=se:(re.insertAdjacentHTML("beforeend",se.innerHTML),se.remove())}),ne.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",ne[0]);var G,fe=e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");fe.forEach(function(se,me){me===0?G=se:(G.insertAdjacentHTML("beforeend",se.innerHTML),se.remove())}),fe.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",fe[0]),(0,P.ib)(e.wysiwyg.element,t),e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(se){Ne(se,e)}),n&&(n.inputType==="deleteContentBackward"||n.inputType==="deleteContentForward")&&e.options.comment.enable&&(e.wysiwyg.triggerRemoveComment(e),e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)))}ft(e),oe(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},co=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Vi=function(e,t,n,i){function a(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function b(D){try{w(i.next(D))}catch(j){f(j)}}function C(D){try{w(i.throw(D))}catch(j){f(j)}}function w(D){D.done?o(D.value):a(D.value).then(b,C)}w((i=i.apply(e,t||[])).next())})},Wi=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,f;return f={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function b(w){return function(D){return C([w,D])}}function C(w){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(n=0)),n;)try{if(i=1,a&&(o=w[0]&2?a.return:w[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,w[1])).done)return o;switch(a=0,o&&(w=[w[0]&2,o.value]),w[0]){case 0:case 1:o=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,a=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!o||w[1]>o[0]&&w[1]<o[3])){n.label=w[1];break}if(w[0]===6&&n.label<o[1]){n.label=o[1],o=w;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(w);break}o[2]&&n.ops.pop(),n.trys.pop();continue}w=t.call(e,n)}catch(D){w=[6,D],a=0}finally{i=o=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Ki=function(e,t,n){if(e.keyCode===229&&e.code===""&&e.key==="Unidentified"&&t.currentMode!=="sv"){var i=(0,u.F9)(n);if(i&&i.textContent.trim()==="")return t[t.currentMode].composingLock=!0,!1}return!0},qi=function(e,t,n){if(!(n.key==="Enter"||n.key==="Tab"||n.key==="Backspace"||n.key.indexOf("Arrow")>-1||(0,c.yl)(n)||n.key==="Escape"||n.shiftKey||n.altKey)){var i=(0,u.lG)(e.startContainer,"P")||(0,u.lG)(e.startContainer,"LI");if(i&&(0,P.im)(i,t[t.currentMode].element,e).start===0){i.nodeValue&&(i.nodeValue=i.nodeValue.replace(/\u2006/g,""));var a=document.createTextNode(p.g.ZWSP);e.insertNode(a),e.setStartAfter(a)}}},Gi=function(e,t){if(t==="ArrowDown"||t==="ArrowUp"){var n=(0,u.a1)(e.startContainer,"data-type","math-inline")||(0,u.a1)(e.startContainer,"data-type","html-entity")||(0,u.a1)(e.startContainer,"data-type","html-inline");n&&(t==="ArrowDown"&&e.setStartAfter(n.parentElement),t==="ArrowUp"&&e.setStartBefore(n.parentElement))}},Mn=function(e,t){var n=(0,P.zh)(e),i=(0,u.F9)(n.startContainer);i&&(i.insertAdjacentHTML(t,'<p data-block="0">'.concat(p.g.ZWSP,`<wbr>
</p>`)),(0,P.ib)(e[e.currentMode].element,n),fn(e),Ee(e))},uo=function(e){var t=(0,u.lG)(e,"TABLE");return t&&t.rows[0].cells[0].isSameNode(e)?t:!1},fo=function(e){var t=(0,u.lG)(e,"TABLE");return t&&t.lastElementChild.lastElementChild.lastElementChild.isSameNode(e)?t:!1},zi=function(e,t,n){n===void 0&&(n=!0);var i=e.previousElementSibling;return i||(e.parentElement.previousElementSibling?i=e.parentElement.previousElementSibling.lastElementChild:e.parentElement.parentElement.tagName==="TBODY"&&e.parentElement.parentElement.previousElementSibling?i=e.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:i=null),i&&(t.selectNodeContents(i),n||t.collapse(!1),(0,P.Hc)(t)),i},Ln=function(e,t,n,i,a){var o=(0,P.im)(i,e[e.currentMode].element,n);if(t.key==="ArrowDown"&&i.textContent.trimRight().substr(o.start).indexOf(`
`)===-1||t.key==="ArrowRight"&&o.start>=i.textContent.trimRight().length){var f=a.nextElementSibling;return!f||f&&(f.tagName==="TABLE"||f.getAttribute("data-type"))?(a.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(p.g.ZWSP,"<wbr></p>")),(0,P.ib)(e[e.currentMode].element,n)):(n.selectNodeContents(f),n.collapse(!0),(0,P.Hc)(n)),t.preventDefault(),!0}return!1},dn=function(e,t,n,i,a){var o=(0,P.im)(i,e[e.currentMode].element,n);if(t.key==="ArrowUp"&&i.textContent.substr(0,o.start).indexOf(`
`)===-1||(t.key==="ArrowLeft"||t.key==="Backspace"&&n.toString()==="")&&o.start===0){var f=a.previousElementSibling;return!f||f&&(f.tagName==="TABLE"||f.getAttribute("data-type"))?(a.insertAdjacentHTML("beforebegin",'<p data-block="0">'.concat(p.g.ZWSP,"<wbr></p>")),(0,P.ib)(e[e.currentMode].element,n)):(n.selectNodeContents(f),n.collapse(!1),(0,P.Hc)(n)),t.preventDefault(),!0}return!1},Yn=function(e,t,n,i){i===void 0&&(i=!0);var a=(0,u.lG)(t.startContainer,"LI");if(e[e.currentMode].element.querySelectorAll("wbr").forEach(function(D){D.remove()}),t.insertNode(document.createElement("wbr")),i&&a){for(var o="",f=0;f<a.parentElement.childElementCount;f++){var b=a.parentElement.children[f].querySelector("input");b&&b.remove(),o+='<p data-block="0">'.concat(a.parentElement.children[f].innerHTML.trimLeft(),"</p>")}a.parentElement.insertAdjacentHTML("beforebegin",o),a.parentElement.remove()}else if(a)if(n==="check")a.parentElement.querySelectorAll("li").forEach(function(D){D.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'.concat(D.textContent.indexOf(" ")===0?"":" ")),D.classList.add("vditor-task")});else{a.querySelector("input")&&a.parentElement.querySelectorAll("li").forEach(function(D){D.querySelector("input").remove(),D.classList.remove("vditor-task")});var w=void 0;n==="list"?(w=document.createElement("ul"),w.setAttribute("data-marker","*")):(w=document.createElement("ol"),w.setAttribute("data-marker","1.")),w.setAttribute("data-block","0"),w.setAttribute("data-tight",a.parentElement.getAttribute("data-tight")),w.innerHTML=a.parentElement.innerHTML,a.parentElement.parentNode.replaceChild(w,a.parentElement)}else{var C=(0,u.a1)(t.startContainer,"data-block","0");C||(e[e.currentMode].element.querySelector("wbr").remove(),C=e[e.currentMode].element.querySelector("p"),C.innerHTML="<wbr>"),n==="check"?(C.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '.concat(C.innerHTML,"</li></ul>")),C.remove()):n==="list"?(C.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'.concat(C.innerHTML,"</li></ul>")),C.remove()):n==="ordered-list"&&(C.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'.concat(C.innerHTML,"</li></ol>")),C.remove())}},$i=function(e,t,n){var i=t.previousElementSibling;if(t&&i){var a=[t];Array.from(n.cloneContents().children).forEach(function(C,w){C.nodeType!==3&&t&&C.textContent.trim()!==""&&t.getAttribute("data-node-id")===C.getAttribute("data-node-id")&&(w!==0&&a.push(t),t=t.nextElementSibling)}),e[e.currentMode].element.querySelectorAll("wbr").forEach(function(C){C.remove()}),n.insertNode(document.createElement("wbr"));var o=i.parentElement,f="";a.forEach(function(C){var w=C.getAttribute("data-marker");w.length!==1&&(w="1".concat(w.slice(-1))),f+='<li data-node-id="'.concat(C.getAttribute("data-node-id"),'" data-marker="').concat(w,'">').concat(C.innerHTML,"</li>"),C.remove()}),i.insertAdjacentHTML("beforeend","<".concat(o.tagName,' data-block="0">').concat(f,"</").concat(o.tagName,">")),e.currentMode==="wysiwyg"?o.outerHTML=e.lute.SpinVditorDOM(o.outerHTML):o.outerHTML=e.lute.SpinVditorIRDOM(o.outerHTML),(0,P.ib)(e[e.currentMode].element,n);var b=(0,u.O9)(n.startContainer);b&&b.querySelectorAll(".vditor-".concat(e.currentMode,"__preview[data-render='2']")).forEach(function(C){Ne(C,e),e.currentMode==="wysiwyg"&&C.previousElementSibling.setAttribute("style","display:none")}),Ee(e),fn(e)}else e[e.currentMode].element.focus()},Pr=function(e,t,n,i){var a=(0,u.lG)(t.parentElement,"LI");if(a){e[e.currentMode].element.querySelectorAll("wbr").forEach(function(j){j.remove()}),n.insertNode(document.createElement("wbr"));var o=t.parentElement,f=o.cloneNode(),b=[t];Array.from(n.cloneContents().children).forEach(function(j,$){j.nodeType!==3&&t&&j.textContent.trim()!==""&&t.getAttribute("data-node-id")===j.getAttribute("data-node-id")&&($!==0&&b.push(t),t=t.nextElementSibling)});var C=!1,w="";o.querySelectorAll("li").forEach(function(j){C&&(w+=j.outerHTML,!j.nextElementSibling&&!j.previousElementSibling?j.parentElement.remove():j.remove()),j.isSameNode(b[b.length-1])&&(C=!0)}),b.reverse().forEach(function(j){a.insertAdjacentElement("afterend",j)}),w&&(f.innerHTML=w,b[0].insertAdjacentElement("beforeend",f)),e.currentMode==="wysiwyg"?i.outerHTML=e.lute.SpinVditorDOM(i.outerHTML):i.outerHTML=e.lute.SpinVditorIRDOM(i.outerHTML),(0,P.ib)(e[e.currentMode].element,n);var D=(0,u.O9)(n.startContainer);D&&D.querySelectorAll(".vditor-".concat(e.currentMode,"__preview[data-render='2']")).forEach(function(j){Ne(j,e),e.currentMode==="wysiwyg"&&j.previousElementSibling.setAttribute("style","display:none")}),Ee(e),fn(e)}else e[e.currentMode].element.focus()},Qn=function(e,t){for(var n=getSelection().getRangeAt(0).startContainer.parentElement,i=e.rows[0].cells.length,a=e.rows.length,o=0,f=0;f<a;f++)for(var b=0;b<i;b++)if(e.rows[f].cells[b].isSameNode(n)){o=b;break}for(var C=0;C<a;C++)e.rows[C].cells[o].setAttribute("align",t)},Ir=function(e){var t=e.trimRight().split(`
`).pop();return t===""?!1:(t.replace(/ |-/g,"")===""||t.replace(/ |_/g,"")===""||t.replace(/ |\*/g,"")==="")&&t.replace(/ /g,"").length>2?!(t.indexOf("-")>-1&&t.trimLeft().indexOf(" ")===-1&&e.trimRight().split(`
`).length>1||t.indexOf("    ")===0||t.indexOf("	")===0):!1},jr=function(e){var t=e.trimRight().split(`
`);return e=t.pop(),e.indexOf("    ")===0||e.indexOf("	")===0||(e=e.trimLeft(),e===""||t.length===0)?!1:e.replace(/-/g,"")===""||e.replace(/=/g,"")===""},Ee=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),e.currentMode==="wysiwyg"?oe(e,t):e.currentMode==="ir"?Ht(e,t):e.currentMode==="sv"&&Ge(e,t)},Ji=function(e,t,n,i){var a,o=e.startContainer,f=(0,u.lG)(o,"LI");if(f){if(!(0,c.yl)(i)&&!i.altKey&&i.key==="Enter"&&!i.shiftKey&&n&&f.contains(n)&&n.nextElementSibling)return f&&!f.textContent.endsWith(`
`)&&f.insertAdjacentText("beforeend",`
`),e.insertNode(document.createTextNode(`

`)),e.collapse(!1),Ee(t),i.preventDefault(),!0;if(!(0,c.yl)(i)&&!i.shiftKey&&!i.altKey&&i.key==="Backspace"&&!f.previousElementSibling&&e.toString()===""&&(0,P.im)(f,t[t.currentMode].element,e).start===0)return f.nextElementSibling?(f.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(f.innerHTML,"</p>")),f.remove()):f.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(f.innerHTML,"</p>"),(0,P.ib)(t[t.currentMode].element,e),Ee(t),i.preventDefault(),!0;if(!(0,c.yl)(i)&&!i.shiftKey&&!i.altKey&&i.key==="Backspace"&&f.textContent.trim().replace(p.g.ZWSP,"")===""&&e.toString()===""&&((a=f.previousElementSibling)===null||a===void 0?void 0:a.tagName)==="LI")return f.previousElementSibling.insertAdjacentText("beforeend",`

`),e.selectNodeContents(f.previousElementSibling),e.collapse(!1),f.remove(),(0,P.ib)(t[t.currentMode].element,e),Ee(t),i.preventDefault(),!0;if(!(0,c.yl)(i)&&!i.altKey&&i.key==="Tab"){var b=!1;if((e.startOffset===0&&(o.nodeType===3&&!o.previousSibling||o.nodeType!==3&&o.nodeName==="LI")||f.classList.contains("vditor-task")&&e.startOffset===1&&o.previousSibling.nodeType!==3&&o.previousSibling.tagName==="INPUT")&&(b=!0),b||e.toString()!=="")return i.shiftKey?Pr(t,f,e,f.parentElement):$i(t,f,e),i.preventDefault(),!0}}return!1},Br=function(e,t,n){if(e.options.tab&&n.key==="Tab")return n.shiftKey||(t.toString()===""?(t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1)):(t.extractContents(),t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1))),(0,P.Hc)(t),Ee(e),n.preventDefault(),!0},Zi=function(e,t,n,i){if(n){if(!(0,c.yl)(e)&&!e.altKey&&e.key==="Enter"){var a=String.raw(la||(la=co(["",""],["",""])),n.textContent).replace(/\\\|/g,"").trim(),o=a.split("|");if(a.startsWith("|")&&a.endsWith("|")&&o.length>3){var f=o.map(function(){return"---"}).join("|");return f=n.textContent+`
`+f.substring(3,f.length-3)+`
|<wbr>`,n.outerHTML=t.lute.SpinVditorDOM(f),(0,P.ib)(t[t.currentMode].element,i),Ee(t),Ve(t),e.preventDefault(),!0}if(Ir(n.innerHTML)&&n.previousElementSibling){var b="",C=n.innerHTML.trimRight().split(`
`);return C.length>1&&(C.pop(),b='<p data-block="0">'.concat(C.join(`
`),"</p>")),n.insertAdjacentHTML("afterend","".concat(b,`<hr data-block="0"><p data-block="0"><wbr>
</p>`)),n.remove(),(0,P.ib)(t[t.currentMode].element,i),Ee(t),Ve(t),e.preventDefault(),!0}if(jr(n.innerHTML))return t.currentMode==="wysiwyg"?n.outerHTML=t.lute.SpinVditorDOM(n.innerHTML+`<p data-block="0"><wbr>
</p>`):n.outerHTML=t.lute.SpinVditorIRDOM(n.innerHTML+`<p data-block="0"><wbr>
</p>`),(0,P.ib)(t[t.currentMode].element,i),Ee(t),Ve(t),e.preventDefault(),!0}if(i.collapsed&&n.previousElementSibling&&e.key==="Backspace"&&!(0,c.yl)(e)&&!e.altKey&&!e.shiftKey&&n.textContent.trimRight().split(`
`).length>1&&(0,P.im)(n,t[t.currentMode].element,i).start===0){var w=(0,u.DX)(n.previousElementSibling);return w.textContent.endsWith(`
`)||(w.textContent=w.textContent+`
`),w.parentElement.insertAdjacentHTML("beforeend","<wbr>".concat(n.innerHTML)),n.remove(),(0,P.ib)(t[t.currentMode].element,i),!1}return!1}},Xi=function(e,t,n){for(var i="",a=0;a<n.parentElement.childElementCount;a++)i+='<td align="'.concat(n.parentElement.children[a].getAttribute("align"),'"> </td>');n.tagName==="TH"?n.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>".concat(i,"</tr></tbody>")):n.parentElement.insertAdjacentHTML("afterend","<tr>".concat(i,"</tr>")),Ee(e)},Yi=function(e,t,n){for(var i="",a=0;a<n.parentElement.childElementCount;a++)n.tagName==="TH"?i+='<th align="'.concat(n.parentElement.children[a].getAttribute("align"),'"> </th>'):i+='<td align="'.concat(n.parentElement.children[a].getAttribute("align"),'"> </td>');if(n.tagName==="TH"){n.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>".concat(i,"</tr></thead>")),t.insertNode(document.createElement("wbr"));var o=n.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");n.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",o),n.parentElement.parentElement.remove(),(0,P.ib)(e.ir.element,t)}else n.parentElement.insertAdjacentHTML("beforebegin","<tr>".concat(i,"</tr>"));Ee(e)},er=function(e,t,n,i){i===void 0&&(i="afterend");for(var a=0,o=n.previousElementSibling;o;)a++,o=o.previousElementSibling;for(var f=0;f<t.rows.length;f++)f===0?t.rows[f].cells[a].insertAdjacentHTML(i,"<th> </th>"):t.rows[f].cells[a].insertAdjacentHTML(i,"<td> </td>");Ee(e)},Qi=function(e,t,n){if(n.tagName==="TD"){var i=n.parentElement.parentElement;n.parentElement.previousElementSibling?t.selectNodeContents(n.parentElement.previousElementSibling.lastElementChild):t.selectNodeContents(i.previousElementSibling.lastElementChild.lastElementChild),i.childElementCount===1?i.remove():n.parentElement.remove(),t.collapse(!1),(0,P.Hc)(t),Ee(e)}},ea=function(e,t,n,i){for(var a=0,o=i.previousElementSibling;o;)a++,o=o.previousElementSibling;(i.previousElementSibling||i.nextElementSibling)&&(t.selectNodeContents(i.previousElementSibling||i.nextElementSibling),t.collapse(!0));for(var f=0;f<n.rows.length;f++){var b=n.rows[f].cells;if(b.length===1){n.remove(),fn(e);break}b[a].remove()}(0,P.Hc)(t),Ee(e)},ta=function(e,t,n){var i=n.startContainer,a=(0,u.lG)(i,"TD")||(0,u.lG)(i,"TH");if(a){if(!(0,c.yl)(t)&&!t.altKey&&t.key==="Enter"){(!a.lastElementChild||a.lastElementChild&&(!a.lastElementChild.isSameNode(a.lastChild)||a.lastElementChild.tagName!=="BR"))&&a.insertAdjacentHTML("beforeend","<br>");var o=document.createElement("br");return n.insertNode(o),n.setStartAfter(o),Ee(e),Ve(e),t.preventDefault(),!0}if(t.key==="Tab"){if(t.shiftKey)return zi(a,n),t.preventDefault(),!0;var f=a.nextElementSibling;return f||(a.parentElement.nextElementSibling?f=a.parentElement.nextElementSibling.firstElementChild:a.parentElement.parentElement.tagName==="THEAD"&&a.parentElement.parentElement.nextElementSibling?f=a.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:f=null),f&&(n.selectNodeContents(f),(0,P.Hc)(n)),t.preventDefault(),!0}var b=a.parentElement.parentElement.parentElement;if(t.key==="ArrowUp"){if(t.preventDefault(),a.tagName==="TH")return b.previousElementSibling?(n.selectNodeContents(b.previousElementSibling),n.collapse(!1),(0,P.Hc)(n)):Mn(e,"beforebegin"),!0;for(var C=0,w=a.parentElement;C<w.cells.length&&!w.cells[C].isSameNode(a);C++);var D=w.previousElementSibling;return D||(D=w.parentElement.previousElementSibling.firstChild),n.selectNodeContents(D.cells[C]),n.collapse(!1),(0,P.Hc)(n),!0}if(t.key==="ArrowDown"){t.preventDefault();var w=a.parentElement;if(!w.nextElementSibling&&a.tagName==="TD")return b.nextElementSibling?(n.selectNodeContents(b.nextElementSibling),n.collapse(!0),(0,P.Hc)(n)):Mn(e,"afterend"),!0;for(var C=0;C<w.cells.length&&!w.cells[C].isSameNode(a);C++);var f=w.nextElementSibling;return f||(f=w.parentElement.nextElementSibling.firstChild),n.selectNodeContents(f.cells[C]),n.collapse(!0),(0,P.Hc)(n),!0}if(e.currentMode==="wysiwyg"&&!(0,c.yl)(t)&&t.key==="Enter"&&!t.shiftKey&&t.altKey){var j=e.wysiwyg.popover.querySelector(".vditor-input");return j.focus(),j.select(),t.preventDefault(),!0}if(!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey&&t.key==="Backspace"&&n.startOffset===0&&n.toString()===""){var $=zi(a,n,!1);return!$&&b&&(b.textContent.trim()===""?(b.outerHTML=`<p data-block="0"><wbr>
</p>`,(0,P.ib)(e[e.currentMode].element,n)):(n.setStartBefore(b),n.collapse(!0)),Ee(e)),t.preventDefault(),!0}if(z("F",t))return Yi(e,n,a),t.preventDefault(),!0;if(z("=",t))return Xi(e,n,a),t.preventDefault(),!0;if(z("G",t))return er(e,b,a,"beforebegin"),t.preventDefault(),!0;if(z("=",t))return er(e,b,a),t.preventDefault(),!0;if(z("-",t))return Qi(e,n,a),t.preventDefault(),!0;if(z("-",t))return ea(e,n,b,a),t.preventDefault(),!0;if(z("L",t)){if(e.currentMode==="ir")return Qn(b,"left"),Ee(e),t.preventDefault(),!0;var Z=e.wysiwyg.popover.querySelector('[data-type="left"]');if(Z)return Z.click(),t.preventDefault(),!0}if(z("C",t)){if(e.currentMode==="ir")return Qn(b,"center"),Ee(e),t.preventDefault(),!0;var Z=e.wysiwyg.popover.querySelector('[data-type="center"]');if(Z)return Z.click(),t.preventDefault(),!0}if(z("R",t)){if(e.currentMode==="ir")return Qn(b,"right"),Ee(e),t.preventDefault(),!0;var Z=e.wysiwyg.popover.querySelector('[data-type="right"]');if(Z)return Z.click(),t.preventDefault(),!0}}return!1},na=function(e,t,n,i){if(n.tagName==="PRE"&&z("A",t))return i.selectNodeContents(n.firstElementChild),t.preventDefault(),!0;if(e.options.tab&&t.key==="Tab"&&!t.shiftKey&&i.toString()==="")return i.insertNode(document.createTextNode(e.options.tab)),i.collapse(!1),Ee(e),t.preventDefault(),!0;if(t.key==="Backspace"&&!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey){var a=(0,P.im)(n,e[e.currentMode].element,i);if((a.start===0||a.start===1&&n.innerText===`
`)&&i.toString()==="")return n.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(n.firstElementChild.innerHTML,"</p>"),(0,P.ib)(e[e.currentMode].element,i),Ee(e),t.preventDefault(),!0}return!(0,c.yl)(t)&&!t.altKey&&t.key==="Enter"?(n.firstElementChild.textContent.endsWith(`
`)||n.firstElementChild.insertAdjacentText("beforeend",`
`),i.extractContents(),i.insertNode(document.createTextNode(`
`)),i.collapse(!1),(0,P.Hc)(i),(0,c.vU)()||(e.currentMode==="wysiwyg"?Xn(e,i):st(e,i)),Ve(e),t.preventDefault(),!0):!1},ra=function(e,t,n,i){var a=t.startContainer,o=(0,u.lG)(a,"BLOCKQUOTE");if(o&&t.toString()===""){if(n.key==="Backspace"&&!(0,c.yl)(n)&&!n.shiftKey&&!n.altKey&&(0,P.im)(o,e[e.currentMode].element,t).start===0)return t.insertNode(document.createElement("wbr")),o.outerHTML=o.innerHTML,(0,P.ib)(e[e.currentMode].element,t),Ee(e),n.preventDefault(),!0;if(i&&n.key==="Enter"&&!(0,c.yl)(n)&&!n.shiftKey&&!n.altKey&&i.parentElement.tagName==="BLOCKQUOTE"){var f=!1;if(i.innerHTML.replace(p.g.ZWSP,"")===`
`||i.innerHTML.replace(p.g.ZWSP,"")===""?(f=!0,i.remove()):i.innerHTML.endsWith(`

`)&&(0,P.im)(i,e[e.currentMode].element,t).start===i.textContent.length-1&&(i.innerHTML=i.innerHTML.substr(0,i.innerHTML.length-2),f=!0),f)return o.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(p.g.ZWSP,`<wbr>
</p>`)),(0,P.ib)(e[e.currentMode].element,t),Ee(e),n.preventDefault(),!0}var b=(0,u.F9)(a);if(e.currentMode==="wysiwyg"&&b&&z(";",n))return t.insertNode(document.createElement("wbr")),b.outerHTML='<blockquote data-block="0">'.concat(b.outerHTML,"</blockquote>"),(0,P.ib)(e.wysiwyg.element,t),oe(e),n.preventDefault(),!0;if(Ln(e,n,t,o,o)||dn(e,n,t,o,o))return!0}return!1},ia=function(e,t,n){var i=t.startContainer,a=(0,u.lG)(i,"LI");if(a&&a.classList.contains("vditor-task")){if(z("J",n)){var o=a.firstElementChild;return o.checked?o.removeAttribute("checked"):o.setAttribute("checked","checked"),Ee(e),n.preventDefault(),!0}if(n.key==="Backspace"&&!(0,c.yl)(n)&&!n.shiftKey&&!n.altKey&&t.toString()===""&&t.startOffset===1&&(i.nodeType===3&&i.previousSibling&&i.previousSibling.tagName==="INPUT"||i.nodeType!==3)){var f=a.previousElementSibling;if(a.querySelector("input").remove(),f){var b=(0,u.DX)(f);b.parentElement.insertAdjacentHTML("beforeend","<wbr>"+a.innerHTML.trim()),a.remove()}else a.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(a.innerHTML.trim()||`
`,"</p>")),a.nextElementSibling?a.remove():a.parentElement.remove();return(0,P.ib)(e[e.currentMode].element,t),Ee(e),n.preventDefault(),!0}if(n.key==="Enter"&&!(0,c.yl)(n)&&!n.shiftKey&&!n.altKey){if(a.textContent.trim()==="")if((0,u.fb)(a.parentElement,"vditor-task")){var C=(0,u.O9)(i);C&&Pr(e,a,t,C)}else if(a.nextElementSibling){var w="",D="",j=!1;Array.from(a.parentElement.children).forEach(function(re){a.isSameNode(re)?j=!0:j?w+=re.outerHTML:D+=re.outerHTML});var $=a.parentElement.tagName,Z=a.parentElement.tagName==="OL"?"":' data-marker="'.concat(a.parentElement.getAttribute("data-marker"),'"'),q="";D&&(q=a.parentElement.tagName==="UL"?"":' start="1"',D="<".concat($,' data-tight="true"').concat(Z,' data-block="0">').concat(D,"</").concat($,">")),a.parentElement.outerHTML="".concat(D,`<p data-block="0"><wbr>
</p><`).concat($,`
 data-tight="true"`).concat(Z,' data-block="0"').concat(q,">").concat(w,"</").concat($,">")}else a.parentElement.insertAdjacentHTML("afterend",`<p data-block="0"><wbr>
</p>`),a.parentElement.querySelectorAll("li").length===1?a.parentElement.remove():a.remove();else i.nodeType!==3&&t.startOffset===0&&i.firstChild.tagName==="INPUT"?t.setStart(i.childNodes[1],1):(t.setEndAfter(a.lastChild),a.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'.concat(a.getAttribute("data-marker"),'"><input type="checkbox"> <wbr></li>')),document.querySelector("wbr").after(t.extractContents()));return(0,P.ib)(e[e.currentMode].element,t),Ee(e),Ve(e),n.preventDefault(),!0}}return!1},aa=function(e,t,n,i){if(t.startContainer.nodeType!==3){var a=t.startContainer.children[t.startOffset];if(a&&a.tagName==="HR")return t.selectNodeContents(a.previousElementSibling),t.collapse(!1),n.preventDefault(),!0}if(i){var o=i.previousElementSibling;if(o&&(0,P.im)(i,e[e.currentMode].element,t).start===0&&((0,c.vU)()&&o.tagName==="HR"||o.tagName==="TABLE")){if(o.tagName==="TABLE"){var f=o.lastElementChild.lastElementChild.lastElementChild;f.innerHTML=f.innerHTML.trimLeft()+"<wbr>"+i.textContent.trim(),i.remove()}else o.remove();return(0,P.ib)(e[e.currentMode].element,t),Ee(e),n.preventDefault(),!0}}return!1},sa=function(e){(0,c.vU)()&&e.startContainer.nodeType!==3&&e.startContainer.tagName==="HR"&&e.setStartBefore(e.startContainer)},oa=function(e,t,n){var i,a;if(!(0,c.vU)())return!1;if(e.key==="ArrowUp"&&t&&((i=t.previousElementSibling)===null||i===void 0?void 0:i.tagName)==="TABLE"){var o=t.previousElementSibling;return n.selectNodeContents(o.rows[o.rows.length-1].lastElementChild),n.collapse(!1),e.preventDefault(),!0}return e.key==="ArrowDown"&&t&&((a=t.nextElementSibling)===null||a===void 0?void 0:a.tagName)==="TABLE"?(n.selectNodeContents(t.nextElementSibling.rows[0].cells[0]),n.collapse(!0),e.preventDefault(),!0):!1},tr=function(e,t,n){return Vi(void 0,void 0,void 0,function(){var i,a,o,f,b,C,w,D,j,$,Z,q,re,G,ne,G,fe;return Wi(this,function(se){switch(se.label){case 0:return e[e.currentMode].element.getAttribute("contenteditable")!=="true"?[2]:(t.stopPropagation(),t.preventDefault(),"clipboardData"in t?(i=t.clipboardData.getData("text/html"),a=t.clipboardData.getData("text/plain"),o=t.clipboardData.files):(i=t.dataTransfer.getData("text/html"),a=t.dataTransfer.getData("text/plain"),t.dataTransfer.types.includes("Files")&&(o=t.dataTransfer.items)),f={},b=function(me,Re){if(!Re)return["",Lute.WalkContinue];if(e.options.upload.renderLinkDest)return e.options.upload.renderLinkDest(e,me,Re);var Oe=me.TokensStr();if(me.__internal_object__.Parent.Type===34&&Oe&&Oe.indexOf("file://")===-1&&e.options.upload.linkToImgUrl){var Pe=new XMLHttpRequest;Pe.open("POST",e.options.upload.linkToImgUrl),e.options.upload.token&&Pe.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(Pe.withCredentials=!0),Fi(e,Pe),Pe.setRequestHeader("Content-Type","application/json; charset=utf-8"),Pe.onreadystatechange=function(){if(Pe.readyState===XMLHttpRequest.DONE){if(Pe.status===200){var lt=Pe.responseText;e.options.upload.linkToImgFormat&&(lt=e.options.upload.linkToImgFormat(Pe.responseText));var Xe=JSON.parse(lt);if(Xe.code!==0){e.tip.show(Xe.msg);return}var ct=Xe.data.originalURL;if(e.currentMode==="sv")e.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach(function(We){We.textContent===ct&&(We.textContent=Xe.data.url)});else{var be=e[e.currentMode].element.querySelector('img[src="'.concat(ct,'"]'));be.src=Xe.data.url,e.currentMode==="ir"&&(be.previousElementSibling.previousElementSibling.innerHTML=Xe.data.url)}Ee(e)}else e.tip.show(Pe.responseText);e.options.upload.linkToImgCallback&&e.options.upload.linkToImgCallback(Pe.responseText)}},Pe.send(JSON.stringify({url:Oe}))}return e.currentMode==="ir"?['<span class="vditor-ir__marker vditor-ir__marker--link">'.concat(Lute.EscapeHTMLStr(Oe),"</span>"),Lute.WalkContinue]:e.currentMode==="wysiwyg"?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'.concat(Lute.EscapeHTMLStr(Oe),"</span>"),Lute.WalkContinue]},(i.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/ig,"").trim()==='<a href="'.concat(a,'">').concat(a,"</a>")||i.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/ig,"").trim()==='<!--StartFragment--><a href="'.concat(a,'">').concat(a,"</a><!--EndFragment-->"))&&(i=""),C=new DOMParser().parseFromString(i,"text/html"),C.body&&(i=C.body.innerHTML),i=Lute.Sanitize(i),e.wysiwyg.getComments(e),w=e[e.currentMode].element.scrollHeight,D=Ke(i,a,e.currentMode),j=e.currentMode==="sv"?(0,u.a1)(t.target,"data-type","code-block"):(0,u.lG)(t.target,"CODE"),j?(e.currentMode==="sv"?document.execCommand("insertHTML",!1,a.replace(/&/g,"&amp;").replace(/</g,"&lt;")):($=(0,P.im)(t.target,e[e.currentMode].element),j.parentElement.tagName!=="PRE"&&(a+=p.g.ZWSP),j.textContent=j.textContent.substring(0,$.start)+a+j.textContent.substring($.end),(0,P.$j)($.start+a.length,$.start+a.length,j.parentElement),!((fe=j.parentElement)===null||fe===void 0)&&fe.nextElementSibling.classList.contains("vditor-".concat(e.currentMode,"__preview"))&&(j.parentElement.nextElementSibling.innerHTML=j.outerHTML,Ne(j.parentElement.nextElementSibling,e))),[3,10]):[3,1]);case 1:return D?(n.pasteCode(D),[3,10]):[3,2];case 2:return i.trim()===""?[3,5]:(Z=document.createElement("div"),Z.innerHTML=i,e.options.upload.base64ToLink?[3,4]:[4,po(e,Z,("clipboardData"in t?t.clipboardData:t.dataTransfer).getData("text/rtf"))]);case 3:se.sent(),se.label=4;case 4:return Z.querySelectorAll("[style]").forEach(function(me){me.removeAttribute("style")}),Z.querySelectorAll(".vditor-copy").forEach(function(me){me.remove()}),e.currentMode==="ir"?(f.HTML2VditorIRDOM={renderLinkDest:b},e.lute.SetJSRenderers({renderers:f}),(0,P.oC)(e.lute.HTML2VditorIRDOM(Z.innerHTML),e)):e.currentMode==="wysiwyg"?(f.HTML2VditorDOM={renderLinkDest:b},e.lute.SetJSRenderers({renderers:f}),(0,P.oC)(e.lute.HTML2VditorDOM(Z.innerHTML),e)):(f.Md2VditorSVDOM={renderLinkDest:b},e.lute.SetJSRenderers({renderers:f}),Nr(e,e.lute.HTML2Md(Z.innerHTML).trimRight())),e.outline.render(e),[3,10];case 5:return o.length>0?e.options.upload.url||e.options.upload.handler?[4,Rr(e,o)]:[3,7]:[3,9];case 6:return se.sent(),[3,8];case 7:q=new FileReader,"clipboardData"in t?(o=t.clipboardData.files,re=o[0]):t.dataTransfer.types.includes("Files")&&(o=t.dataTransfer.items,re=o[0].getAsFile()),re&&re.type.startsWith("image")&&(q.readAsDataURL(re),q.onload=function(){var me="";e.currentMode==="wysiwyg"?me+='<img alt="'.concat(re.name,'" src="').concat(q.result.toString(),`">
`):me+="![".concat(re.name,"](").concat(q.result.toString(),`)
`),document.execCommand("insertHTML",!1,me)}),se.label=8;case 8:return[3,10];case 9:a.trim()!==""&&o.length===0&&(G=(0,P.zh)(e),G.toString()!==""&&e.lute.IsValidLinkDest(a)&&(a="[".concat(G.toString(),"](").concat(a,")")),e.currentMode==="ir"?(f.Md2VditorIRDOM={renderLinkDest:b},e.lute.SetJSRenderers({renderers:f}),(0,P.oC)(Lute.Sanitize(e.lute.Md2VditorIRDOM(a)),e)):e.currentMode==="wysiwyg"?(f.Md2VditorDOM={renderLinkDest:b},e.lute.SetJSRenderers({renderers:f}),(0,P.oC)(Lute.Sanitize(e.lute.Md2VditorDOM(a)),e)):(f.Md2VditorSVDOM={renderLinkDest:b},e.lute.SetJSRenderers({renderers:f}),Nr(e,a)),e.outline.render(e)),se.label=10;case 10:return e.currentMode!=="sv"&&(ne=(0,u.F9)((0,P.zh)(e).startContainer),ne&&(G=(0,P.zh)(e),e[e.currentMode].element.querySelectorAll("wbr").forEach(function(me){me.remove()}),G.insertNode(document.createElement("wbr")),e.currentMode==="wysiwyg"?ne.outerHTML=e.lute.SpinVditorDOM(ne.outerHTML):ne.outerHTML=e.lute.SpinVditorIRDOM(ne.outerHTML),(0,P.ib)(e[e.currentMode].element,G)),e[e.currentMode].element.querySelectorAll(".vditor-".concat(e.currentMode,"__preview[data-render='2']")).forEach(function(me){Ne(me,e)})),e.wysiwyg.triggerRemoveComment(e),Ee(e),e[e.currentMode].element.scrollHeight-w>Math.min(e[e.currentMode].element.clientHeight,window.innerHeight)/2&&Ve(e),[2]}})})},po=function(e,t,n){return Vi(void 0,void 0,void 0,function(){var i,a,o,f,b,C,w,D,j,re,$,Z,q,re,ne,G;return Wi(this,function(fe){switch(fe.label){case 0:if(!n)return[2];if(i=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,a=new RegExp("(?:("+i.source+"))([\\da-fA-F\\s]+)\\}","g"),o=n.match(a),f=[],o)for(b=0,C=o;b<C.length;b++)w=C[b],D=void 0,w.includes("\\pngblip")?D="image/png":w.includes("\\jpegblip")&&(D="image/jpeg"),D&&f.push({hex:w.replace(i,"").replace(/[^\da-fA-F]/g,""),type:D});for(j=[],Ur(t,function(se){if(se.tagName==="V:SHAPE")return Ur(se,function(me){me.tagName==="V:IMAGEDATA"&&j.push({shape:se,img:me})}),!1}),re=0;re<j.length;re++)$=document.createElement("img"),Z="data:"+f[re].type+";base64,"+btoa((f[re].hex.match(/\w{2}/g)||[]).map(function(se){return String.fromCharCode(parseInt(se,16))}).join("")),$.src=Z,$.title=j[re].img.getAttribute("title"),j[re].shape.parentNode.replaceChild($,j[re].shape);q=t.querySelectorAll("img"),re=0,fe.label=1;case 1:return re<q.length?(ne=q[re].src||"",ne?(G=q[re],[4,e.options.upload.base64ToLink(ne)]):[3,3]):[3,4];case 2:G.src=fe.sent(),fe.label=3;case 3:return re++,[3,1];case 4:return[2]}})})},Ur=function(e,t){var n=t(e);if(n!==!1)for(var i=0;i<e.children.length;i++)Ur(e.children[i],t)},la,ca=function(e){var t,n;e.hint.render(e);var i=(0,P.zh)(e).startContainer,a=(0,u.a1)(i,"data-type","code-block-info");if(a)if(a.textContent.replace(p.g.ZWSP,"")===""&&e.hint.recentLanguage){a.textContent=p.g.ZWSP+e.hint.recentLanguage;var o=(0,P.zh)(e);o.selectNodeContents(a)}else{var f=[],b=a.textContent.substring(0,(0,P.im)(a,e.ir.element).start).replace(p.g.ZWSP,"");(e.options.preview.hljs.langs||p.g.ALIAS_CODE_LANGUAGES.concat(((n=(t=window.hljs)===null||t===void 0?void 0:t.listLanguages())!==null&&n!==void 0?n:[]).sort())).forEach(function(C){C.indexOf(b.toLowerCase())>-1&&f.push({html:C,value:C})}),e.hint.genHTML(f,b,e)}},Ht=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&ca(e),clearTimeout(e.ir.processTimeoutId),e.ir.processTimeoutId=window.setTimeout(function(){if(!e.ir.composingLock){var n=H(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,c.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}},e.options.undoDelay)},An=function(e,t){var n=(0,P.zh)(e),i=(0,u.F9)(n.startContainer)||n.startContainer;if(i){var a=i.querySelector(".vditor-ir__marker--heading");a?a.innerHTML=t:(i.insertAdjacentText("afterbegin",t),n.selectNodeContents(i),n.collapse(!1)),st(e,n.cloneRange()),de(e)}},nr=function(e,t,n){var i=(0,u.a1)(e.startContainer,"data-type",n);if(i){i.firstElementChild.remove(),i.lastElementChild.remove(),e.insertNode(document.createElement("wbr"));var a=document.createElement("div");a.innerHTML=t.lute.SpinVditorIRDOM(i.outerHTML),i.outerHTML=a.firstElementChild.innerHTML.trim()}},ho=function(e,t,n,i){var a=(0,P.zh)(e),o=t.getAttribute("data-type"),f=a.startContainer;f.nodeType===3&&(f=f.parentElement);var b=!0;if(t.classList.contains("vditor-menu--current"))if(o==="quote"){var C=(0,u.lG)(f,"BLOCKQUOTE");C&&(a.insertNode(document.createElement("wbr")),C.outerHTML=C.innerHTML.trim()===""?'<p data-block="0">'.concat(C.innerHTML,"</p>"):C.innerHTML)}else if(o==="link"){var w=(0,u.a1)(a.startContainer,"data-type","a");if(w){var D=(0,u.fb)(a.startContainer,"vditor-ir__link");D?(a.insertNode(document.createElement("wbr")),w.outerHTML=D.innerHTML):w.outerHTML=w.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else o==="italic"?nr(a,e,"em"):o==="bold"?nr(a,e,"strong"):o==="strike"?nr(a,e,"s"):o==="inline-code"?nr(a,e,"code"):(o==="check"||o==="list"||o==="ordered-list")&&(Yn(e,a,o),b=!1,t.classList.remove("vditor-menu--current"));else{e.ir.element.childNodes.length===0&&(e.ir.element.innerHTML='<p data-block="0"><wbr></p>',(0,P.ib)(e.ir.element,a));var j=(0,u.F9)(a.startContainer);if(o==="line"){if(j){var $=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;j.innerHTML.trim()===""?j.outerHTML=$:j.insertAdjacentHTML("afterend",$)}}else if(o==="quote")j&&(a.insertNode(document.createElement("wbr")),j.outerHTML='<blockquote data-block="0">'.concat(j.outerHTML,"</blockquote>"),b=!1,t.classList.add("vditor-menu--current"));else if(o==="link"){var Z=void 0;a.toString()===""?Z="".concat(n,"<wbr>").concat(i):Z="".concat(n).concat(a.toString()).concat(i.replace(")","<wbr>)")),document.execCommand("insertHTML",!1,Z),b=!1,t.classList.add("vditor-menu--current")}else if(o==="italic"||o==="bold"||o==="strike"||o==="inline-code"||o==="code"||o==="table"){var Z=void 0;a.toString()===""?Z="".concat(n,"<wbr>").concat(i):(o==="code"?Z="".concat(n,`
`).concat(a.toString(),"<wbr>").concat(i):o==="table"?Z="".concat(n).concat(a.toString(),"<wbr>").concat(i):Z="".concat(n).concat(a.toString()).concat(i,"<wbr>"),a.deleteContents()),(o==="table"||o==="code")&&(Z=`
`+Z+`

`);var q=document.createElement("span");q.innerHTML=Z,a.insertNode(q),st(e,a),o==="table"&&(a.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),(0,P.Hc)(a))}else(o==="check"||o==="list"||o==="ordered-list")&&(Yn(e,a,o,!1),b=!1,v(e.toolbar.elements,["check","list","ordered-list"]),t.classList.add("vditor-menu--current"))}(0,P.ib)(e.ir.element,a),Ht(e),b&&de(e)},mo=function(e,t,n,i){function a(o){return o instanceof n?o:new n(function(f){f(o)})}return new(n||(n=Promise))(function(o,f){function b(D){try{w(i.next(D))}catch(j){f(j)}}function C(D){try{w(i.throw(D))}catch(j){f(j)}}function w(D){D.done?o(D.value):a(D.value).then(b,C)}w((i=i.apply(e,t||[])).next())})},go=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,f;return f={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function b(w){return function(D){return C([w,D])}}function C(w){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(n=0)),n;)try{if(i=1,a&&(o=w[0]&2?a.return:w[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,w[1])).done)return o;switch(a=0,o&&(w=[w[0]&2,o.value]),w[0]){case 0:case 1:o=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,a=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!o||w[1]>o[0]&&w[1]<o[3])){n.label=w[1];break}if(w[0]===6&&n.label<o[1]){n.label=o[1],o=w;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(w);break}o[2]&&n.ops.pop(),n.trys.pop();continue}w=t.call(e,n)}catch(D){w=[6,D],a=0}finally{i=o=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},yo=(function(){function e(t){var n=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(i,a){n.element.style.display="none";var o=decodeURIComponent(i.getAttribute("data-value")),f=window.getSelection().getRangeAt(0);if(a.currentMode==="ir"){var b=(0,u.a1)(f.startContainer,"data-type","code-block-info");if(b){b.textContent=p.g.ZWSP+o.trimRight(),f.selectNodeContents(b),f.collapse(!1),Ht(a),b.parentElement.querySelectorAll("code").forEach(function(j){j.className="language-"+o.trimRight()}),Ne(b.parentElement.querySelector(".vditor-ir__preview"),a),n.recentLanguage=o.trimRight();return}}if(a.currentMode==="wysiwyg"&&f.startContainer.nodeType!==3){var C=f.startContainer,w=void 0;if(C.classList.contains("vditor-input")?w=C:w=C.firstElementChild,w&&w.classList.contains("vditor-input")){w.value=o.trimRight(),f.selectNodeContents(w),f.collapse(!1),w.dispatchEvent(new CustomEvent("input",{detail:1})),n.recentLanguage=o.trimRight();return}}if(f.setStart(f.startContainer,n.lastIndex),f.deleteContents(),a.options.hint.parse?a.currentMode==="sv"?(0,P.oC)(a.lute.SpinVditorSVDOM(o),a):a.currentMode==="wysiwyg"?(0,P.oC)(a.lute.SpinVditorDOM(o),a):(0,P.oC)(a.lute.SpinVditorIRDOM(o),a):(0,P.oC)(o,a),n.splitChar===":"&&o.indexOf(":")>-1&&a.currentMode!=="sv"&&f.insertNode(document.createTextNode(" ")),f.collapse(!1),(0,P.Hc)(f),a.currentMode==="wysiwyg"){var D=(0,u.fb)(f.startContainer,"vditor-wysiwyg__block");D&&D.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(D.lastElementChild.innerHTML=D.firstElementChild.innerHTML,Ne(D.lastElementChild,a))}else if(a.currentMode==="ir"){var D=(0,u.fb)(f.startContainer,"vditor-ir__marker--pre");D&&D.nextElementSibling.classList.contains("vditor-ir__preview")&&(D.nextElementSibling.innerHTML=D.innerHTML,Ne(D.nextElementSibling,a))}Ee(a)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",t.push({key:":"})}return e.prototype.render=function(t){var n=this;if(window.getSelection().focusNode){var i,a=getSelection().getRangeAt(0);i=a.startContainer.textContent.substring(0,a.startOffset)||"";var o=this.getKey(i,t.options.hint.extend);if(typeof o>"u")this.element.style.display="none",clearTimeout(this.timeId);else if(this.splitChar===":"){var f=o===""?t.options.hint.emoji:t.lute.GetEmojis(),b=[];Object.keys(f).forEach(function(C){C.indexOf(o.toLowerCase())===0&&(f[C].indexOf(".")>-1?b.push({html:'<img src="'.concat(f[C],'" title=":').concat(C,':"/> :').concat(C,":"),value:":".concat(C,":")}):b.push({html:'<span class="vditor-hint__emoji">'.concat(f[C],"</span>").concat(C),value:f[C]}))}),this.genHTML(b,o,t)}else t.options.hint.extend.forEach(function(C){C.key===n.splitChar&&(clearTimeout(n.timeId),n.timeId=window.setTimeout(function(){return mo(n,void 0,void 0,function(){var w;return go(this,function(D){switch(D.label){case 0:return w=this.genHTML,[4,C.hint(o)];case 1:return w.apply(this,[D.sent(),o,t]),[2]}})})},t.options.hint.delay))})}},e.prototype.genHTML=function(t,n,i){var a=this;if(t.length===0){this.element.style.display="none";return}var o=i[i.currentMode].element,f=(0,P.Ny)(o),b=f.left+(i.options.outline.position==="left"?i.outline.element.offsetWidth:0),C=f.top,w="";t.forEach(function(j,$){if(!($>7)){var Z=j.html;if(n!==""){var q=Z.lastIndexOf(">")+1,re=Z.substr(q),ne=re.toLowerCase().indexOf(n.toLowerCase());ne>-1&&(re=re.substring(0,ne)+"<b>"+re.substring(ne,ne+n.length)+"</b>"+re.substring(ne+n.length),Z=Z.substr(0,q)+re)}w+='<button type="button" data-value="'.concat(encodeURIComponent(j.value),` "
`).concat($===0?"class='vditor-hint--current'":"","> ").concat(Z,"</button>")}}),this.element.innerHTML=w;var D=parseInt(document.defaultView.getComputedStyle(o,null).getPropertyValue("line-height"),10);this.element.style.top="".concat(C+(D||22),"px"),this.element.style.left="".concat(b,"px"),this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach(function(j){j.addEventListener("click",function($){a.fillEmoji(j,i),$.preventDefault()})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top="".concat(C-this.element.offsetHeight,"px")),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")},e.prototype.select=function(t,n){if(this.element.querySelectorAll("button").length===0||this.element.style.display==="none")return!1;var i=this.element.querySelector(".vditor-hint--current");if(t.key==="ArrowDown")return t.preventDefault(),t.stopPropagation(),i.removeAttribute("class"),i.nextElementSibling?i.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if(t.key==="ArrowUp"){if(t.preventDefault(),t.stopPropagation(),i.removeAttribute("class"),i.previousElementSibling)i.previousElementSibling.className="vditor-hint--current";else{var a=this.element.children.length;this.element.children[a-1].className="vditor-hint--current"}return!0}else if(!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey&&t.key==="Enter"&&!t.isComposing)return t.preventDefault(),t.stopPropagation(),this.fillEmoji(i,n),!0;return!1},e.prototype.getKey=function(t,n){var i=this;this.lastIndex=-1,this.splitChar="",n.forEach(function(w){var D=t.lastIndexOf(w.key);i.lastIndex<D&&(i.splitChar=w.key,i.lastIndex=D)});var a;if(this.lastIndex===-1)return a;var o=t.split(this.splitChar),f=o[o.length-1],b=32;if(o.length>1&&f.trim()===f)if(o.length===2&&o[0]===""&&o[1].length<b)a=o[1];else{var C=o[o.length-2].slice(-1);(0,E.X)(C)===" "&&f.length<b&&(a=f)}return a},e})(),bo=(function(){function e(t){this.composingLock=!1;var n=document.createElement("div");n.className="vditor-ir",n.innerHTML='<pre class="vditor-reset" placeholder="'.concat(t.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>`),this.element=n.firstElementChild,this.bindEvent(t),Lr(t,this.element),Ii(t,this.element),Ar(t,this.element),Dr(t,this.element),Hr(t,this.element),kr(t,this.element),xr(t,this.element,this.copy),Or(t,this.element,this.copy)}return e.prototype.copy=function(t,n){var i=getSelection().getRangeAt(0);if(i.toString()!==""){t.stopPropagation(),t.preventDefault();var a=document.createElement("div");a.appendChild(i.cloneContents()),t.clipboardData.setData("text/plain",n.lute.VditorIRDOM2Md(a.innerHTML).trim()),t.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("paste",function(i){tr(t,i,{pasteCode:function(a){document.execCommand("insertHTML",!1,a)}})}),this.element.addEventListener("scroll",function(){A(t,["hint"])}),this.element.addEventListener("compositionstart",function(i){n.composingLock=!0}),this.element.addEventListener("compositionend",function(i){(0,c.vU)()||st(t,getSelection().getRangeAt(0).cloneRange()),n.composingLock=!1}),this.element.addEventListener("input",function(i){if(!(i.inputType==="deleteByDrag"||i.inputType==="insertFromDrop")){if(n.preventInput){n.preventInput=!1,Ht(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0});return}n.composingLock||i.data===""||i.data===""||i.data===""||st(t,getSelection().getRangeAt(0).cloneRange(),!1,i)}}),this.element.addEventListener("click",function(i){if(i.target.tagName==="INPUT"){i.target.checked?i.target.setAttribute("checked","checked"):i.target.removeAttribute("checked"),n.preventInput=!0,Ht(t);return}var a=(0,P.zh)(t),o=(0,u.fb)(i.target,"vditor-ir__preview");if(o||(o=(0,u.fb)(a.startContainer,"vditor-ir__preview")),o&&(o.previousElementSibling.firstElementChild?a.selectNodeContents(o.previousElementSibling.firstElementChild):a.selectNodeContents(o.previousElementSibling),a.collapse(!0),(0,P.Hc)(a),Ve(t)),i.target.tagName==="IMG"){var f=i.target.parentElement.querySelector(".vditor-ir__marker--link");f&&(a.selectNode(f),(0,P.Hc)(a))}var b=(0,u.a1)(i.target,"data-type","a");if(b&&!b.classList.contains("vditor-ir__node--expand")){t.options.link.click?t.options.link.click(b.querySelector(":scope > .vditor-ir__marker--link")):t.options.link.isOpen&&window.open(b.querySelector(":scope > .vditor-ir__marker--link").textContent);return}if(i.target.isEqualNode(n.element)&&n.element.lastElementChild&&a.collapsed){var C=n.element.lastElementChild.getBoundingClientRect();i.y>C.top+C.height&&(n.element.lastElementChild.tagName==="P"&&n.element.lastElementChild.textContent.trim().replace(p.g.ZWSP,"")===""?(a.selectNodeContents(n.element.lastElementChild),a.collapse(!1)):(n.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(p.g.ZWSP,"<wbr></p>")),(0,P.ib)(n.element,a)))}a.toString()===""?Q(a,t):setTimeout(function(){Q((0,P.zh)(t),t)}),sn(i,t),de(t)}),this.element.addEventListener("keyup",function(i){if(!(i.isComposing||(0,c.yl)(i))){if(i.key==="Enter"&&Ve(t),de(t),(i.key==="Backspace"||i.key==="Delete")&&t.ir.element.innerHTML!==""&&t.ir.element.childNodes.length===1&&t.ir.element.firstElementChild&&t.ir.element.firstElementChild.tagName==="P"&&t.ir.element.firstElementChild.childElementCount===0&&(t.ir.element.textContent===""||t.ir.element.textContent===`
`)){t.ir.element.innerHTML="";return}var a=(0,P.zh)(t);i.key==="Backspace"?((0,c.vU)()&&a.startContainer.textContent===`
`&&a.startOffset===1&&(a.startContainer.textContent="",Q(a,t)),n.element.querySelectorAll(".language-math").forEach(function(f){var b=f.querySelector("br");b&&b.remove()})):i.key.indexOf("Arrow")>-1?((i.key==="ArrowLeft"||i.key==="ArrowRight")&&ca(t),Q(a,t)):i.keyCode===229&&i.code===""&&i.key==="Unidentified"&&Q(a,t);var o=(0,u.fb)(a.startContainer,"vditor-ir__preview");if(o){if(i.key==="ArrowUp"||i.key==="ArrowLeft")return o.previousElementSibling.firstElementChild?a.selectNodeContents(o.previousElementSibling.firstElementChild):a.selectNodeContents(o.previousElementSibling),a.collapse(!1),i.preventDefault(),!0;if(o.tagName==="SPAN"&&(i.key==="ArrowDown"||i.key==="ArrowRight"))return o.parentElement.getAttribute("data-type")==="html-entity"?(o.parentElement.insertAdjacentText("afterend",p.g.ZWSP),a.setStart(o.parentElement.nextSibling,1)):a.selectNodeContents(o.parentElement.lastElementChild),a.collapse(!1),i.preventDefault(),!0}}})},e})(),ua=function(e){if(e.currentMode==="sv")return e.lute.Md2HTML(H(e));if(e.currentMode==="wysiwyg")return e.lute.VditorDOM2HTML(e.wysiwyg.element.innerHTML);if(e.currentMode==="ir")return e.lute.VditorIRDOM2HTML(e.ir.element.innerHTML)},wo=m(214),fa=m(436),vo=(function(){function e(t){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'.concat(t,`</div>
<div class="vditor-outline__content"></div>`)}return e.prototype.render=function(t){var n="";return t.preview.element.style.display==="block"?n=(0,fa.k)(t.preview.previewElement,this.element.lastElementChild,t):n=(0,fa.k)(t[t.currentMode].element,this.element.lastElementChild,t),n},e.prototype.toggle=function(t,n,i){var a;n===void 0&&(n=!0),i===void 0&&(i=!0);var o=(a=t.toolbar.elements.outline)===null||a===void 0?void 0:a.firstElementChild;if(n&&window.innerWidth>=p.g.MOBILE_WIDTH?(this.element.style.display="block",this.render(t),o?.classList.add("vditor-menu--current")):(this.element.style.display="none",o?.classList.remove("vditor-menu--current")),i&&getSelection().rangeCount>0){var f=getSelection().getRangeAt(0);t[t.currentMode].element.contains(f.startContainer)&&(0,P.Hc)(f)}Y(t)},e})(),Eo=m(280),_o=(function(){function e(t){var n=this;this.element=document.createElement("div"),this.element.className="vditor-preview",this.previewElement=document.createElement("div"),this.previewElement.className="vditor-reset",t.options.classes.preview&&this.previewElement.classList.add(t.options.classes.preview),this.previewElement.style.maxWidth=t.options.preview.maxWidth+"px",this.previewElement.addEventListener("copy",function(C){if(C.target.tagName!=="TEXTAREA"){var w=document.createElement("div");w.className="vditor-reset",w.appendChild(getSelection().getRangeAt(0).cloneContents()),n.copyToX(t,w,"default"),C.preventDefault()}}),this.previewElement.addEventListener("click",function(C){var w=(0,u.lG)(C.target,"SPAN");if(w&&(0,u.fb)(w,"vditor-toc")){var D=n.previewElement.querySelector("#"+w.getAttribute("data-target-id"));D&&(n.element.scrollTop=D.offsetTop);return}if(C.target.tagName==="A"){t.options.link.click?t.options.link.click(C.target):t.options.link.isOpen&&window.open(C.target.getAttribute("href")),C.preventDefault();return}C.target.tagName==="IMG"&&(t.options.image.preview?t.options.image.preview(C.target):t.options.image.isPreview&&(0,x.E)(C.target,t.options.lang,t.options.theme))}),this.element.appendChild(this.previewElement);var i=t.options.preview.actions;if(i.length!==0){var a=document.createElement("div");a.className="vditor-preview__action";for(var o=[],f=0;f<i.length;f++){var b=i[f];if(typeof b=="object"){o.push('<button type="button" data-type="'.concat(b.key,'" class="').concat(b.className,'"').concat(b.tooltip?' aria-label="'.concat(b.tooltip,'"'):"",'">').concat(b.text,"</button>"));continue}switch(b){case"desktop":o.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":o.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":o.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":o.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label=""><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":o.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label=""><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>');break}}a.innerHTML=o.join(""),a.addEventListener((0,c.Le)(),function(C){var w=(0,N.S)(C.target,"BUTTON");if(w){var D=w.getAttribute("data-type"),j=i.find(function($){return $?.key===D});if(j){j.click(D);return}if(D==="mp-wechat"||D==="zhihu"){n.copyToX(t,n.previewElement.cloneNode(!0),D);return}D==="desktop"?n.previewElement.style.width="auto":D==="tablet"?n.previewElement.style.width="780px":n.previewElement.style.width="360px",n.previewElement.scrollWidth>n.previewElement.parentElement.clientWidth&&(n.previewElement.style.width="auto"),n.render(t),a.querySelectorAll("button").forEach(function($){$.classList.remove("vditor-preview__action--current")}),w.classList.add("vditor-preview__action--current")}}),this.element.insertBefore(a,this.previewElement)}}return e.prototype.render=function(t,n){var i=this;if(clearTimeout(this.mdTimeoutId),this.element.style.display==="none"){this.element.getAttribute("data-type")==="renderPerformance"&&t.tip.hide();return}if(n){this.previewElement.innerHTML=n;return}if(H(t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")===""){this.previewElement.innerHTML="";return}var a=new Date().getTime(),o=H(t);this.mdTimeoutId=window.setTimeout(function(){if(t.options.preview.url){var f=new XMLHttpRequest;f.open("POST",t.options.preview.url),f.setRequestHeader("Content-Type","application/json;charset=UTF-8"),f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE)if(f.status===200){var C=JSON.parse(f.responseText);if(C.code!==0){t.tip.show(C.msg);return}t.options.preview.transform&&(C.data=t.options.preview.transform(C.data)),i.previewElement.innerHTML=C.data,i.afterRender(t,a)}else{var w=t.lute.Md2HTML(o);t.options.preview.transform&&(w=t.options.preview.transform(w)),i.previewElement.innerHTML=w,i.afterRender(t,a)}},f.send(JSON.stringify({markdownText:o}))}else{var b=t.lute.Md2HTML(o);t.options.preview.transform&&(b=t.options.preview.transform(b)),i.previewElement.innerHTML=b,i.afterRender(t,a)}},t.options.preview.delay)},e.prototype.afterRender=function(t,n){t.options.preview.parse&&t.options.preview.parse(this.element);var i=new Date().getTime()-n;new Date().getTime()-n>2600?(t.tip.show(window.VditorI18n.performanceTip.replace("${x}",i.toString())),t.preview.element.setAttribute("data-type","renderPerformance")):t.preview.element.getAttribute("data-type")==="renderPerformance"&&(t.tip.hide(),t.preview.element.removeAttribute("data-type"));var a=t.preview.element.querySelector(".vditor-comment--focus");a&&a.classList.remove("vditor-comment--focus"),(0,J.O)(t.preview.previewElement,t.options.preview.hljs),(0,ye.s)(t.options.preview.hljs,t.preview.previewElement,t.options.cdn),(0,Ae.i)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,Ce.K)(t.preview.previewElement,t.options.cdn),(0,He.J)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,ie.P)(t.preview.previewElement,t.options.cdn),(0,ue.v)(t.preview.previewElement,t.options.cdn),(0,I.p)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,ge.P)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,pe.B)(t.preview.previewElement,t.options.cdn),(0,V.Q)(t.preview.previewElement,t.options.cdn),t.options.preview.render.media.enable&&(0,Eo.Y)(t.preview.previewElement),t.options.customRenders.forEach(function(b){b.render(t.preview.previewElement,t)});var o=t.preview.element,f=t.outline.render(t);f===""&&(f="[ToC]"),o.querySelectorAll('[data-type="toc-block"]').forEach(function(b){b.innerHTML=f,(0,Se.H)(b,{cdn:t.options.cdn,math:t.options.preview.math})}),(0,Se.H)(t.preview.previewElement,{cdn:t.options.cdn,math:t.options.preview.math})},e.prototype.copyToX=function(t,n,i){i===void 0&&(i="mp-wechat"),i!=="zhihu"?n.querySelectorAll(".katex-html .base").forEach(function(o){o.style.display="initial"}):n.querySelectorAll(".language-math").forEach(function(o){o.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'.concat(o.getAttribute("data-math"),'\\" style="display: block; margin: 0 auto; max-width: 100%;">')}),n.style.backgroundColor="#fff",n.querySelectorAll("code").forEach(function(o){o.style.backgroundImage="none"}),this.element.append(n);var a=n.ownerDocument.createRange();a.selectNode(n),(0,P.Hc)(a),document.execCommand("copy"),n.remove(),t.tip.show(["zhihu","mp-wechat"].includes(i)?"".concat(i==="zhihu"?"":"",""):"")},e})(),So=(function(){function e(t){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--".concat(t.options.resize.position),this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(t)}return e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("mousedown",function(i){var a=document,o=i.clientY,f=t.element.offsetHeight,b=63+t.element.querySelector(".vditor-toolbar").clientHeight;a.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),n.element.classList.add("vditor-resize--selected"),a.onmousemove=function(C){t.options.resize.position==="top"?t.element.style.height=Math.max(b,f+(o-C.clientY))+"px":t.element.style.height=Math.max(b,f+(C.clientY-o))+"px",t.options.typewriterMode&&(t.sv.element.style.paddingBottom=t.sv.element.parentElement.offsetHeight/2+"px")},a.onmouseup=function(){t.options.resize.after&&t.options.resize.after(t.element.offsetHeight-f),window.captureEvents&&window.captureEvents(),a.onmousemove=null,a.onmouseup=null,a.ondragstart=null,a.onselectstart=null,a.onselect=null,n.element.classList.remove("vditor-resize--selected")}})},e})(),Co=(function(){function e(t){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",t.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(t),Lr(t,this.element),Ar(t,this.element),Dr(t,this.element),Hr(t,this.element),kr(t,this.element),xr(t,this.element,this.copy),Or(t,this.element,this.copy)}return e.prototype.copy=function(t,n){t.stopPropagation(),t.preventDefault(),t.clipboardData.setData("text/plain",Tn(n[n.currentMode].element))},e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("paste",function(i){tr(t,i,{pasteCode:function(a){document.execCommand("insertHTML",!1,a)}})}),this.element.addEventListener("scroll",function(){if(t.preview.element.style.display==="block"){var i=n.element.scrollTop,a=n.element.clientHeight,o=n.element.scrollHeight-parseFloat(n.element.style.paddingBottom||"0"),f=t.preview.element;i/a>.5?f.scrollTop=(i+a)*f.scrollHeight/o-a:f.scrollTop=i*f.scrollHeight/o}}),this.element.addEventListener("compositionstart",function(i){n.composingLock=!0}),this.element.addEventListener("compositionend",function(i){(0,c.vU)()||B(t,i),n.composingLock=!1}),this.element.addEventListener("input",function(i){if(!(i.inputType==="deleteByDrag"||i.inputType==="insertFromDrop")&&!(n.composingLock||i.data===""||i.data===""||i.data==="")){if(n.preventInput){n.preventInput=!1,Ge(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0});return}B(t,i)}}),this.element.addEventListener("keyup",function(i){if(!(i.isComposing||(0,c.yl)(i))){if((i.key==="Backspace"||i.key==="Delete")&&t.sv.element.innerHTML!==""&&t.sv.element.childNodes.length===1&&t.sv.element.firstElementChild&&t.sv.element.firstElementChild.tagName==="DIV"&&t.sv.element.firstElementChild.childElementCount===2&&(t.sv.element.firstElementChild.textContent===""||t.sv.element.textContent===`
`)){t.sv.element.innerHTML="";return}i.key==="Enter"&&Ve(t)}})},e})(),da=(function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return e.prototype.show=function(t,n){var i=this;n===void 0&&(n=6e3),this.element.className="vditor-tip vditor-tip--show",n===0?(this.element.innerHTML='<div class="vditor-tip__content">'.concat(t,`
<div class="vditor-tip__close">X</div></div>`),this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){i.hide()})):(this.element.innerHTML='<div class="vditor-tip__content">'.concat(t,"</div>"),setTimeout(function(){i.hide()},n)),this.element.removeAttribute("style"),setTimeout(function(){var a=i.element.getBoundingClientRect();a.top<46&&(i.element.style.position="fixed",i.element.style.top="46px")},150)},e.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},e})(),Fr=function(e,t){if(t.options.preview.mode!==e){switch(t.options.preview.mode=e,e){case"both":t.sv.element.style.display="block",t.preview.element.style.display="block",t.preview.render(t),y(t.toolbar.elements,["both"]);break;case"editor":t.sv.element.style.display="block",t.preview.element.style.display="none",v(t.toolbar.elements,["both"]);break}t.devtools&&t.devtools.renderEchart(t)}},To=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Mo=(function(e){To(t,e);function t(n,i){var a=e.call(this,n,i)||this;return n.options.preview.mode==="both"&&a.element.children[0].classList.add("vditor-menu--current"),a.element.children[0].addEventListener((0,c.Le)(),function(o){var f=a.element.firstElementChild;f.classList.contains(p.g.CLASS_MENU_DISABLED)||(o.preventDefault(),n.currentMode==="sv"&&(n.options.preview.mode==="both"?Fr("editor",n):Fr("both",n)))}),a}return t})(Ue),Lo=(function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"}return e})(),pa=m(580),Ao=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),ko=(function(e){Ao(t,e);function t(n,i){var a=e.call(this,n,i)||this,o=a.element.children[0],f=document.createElement("div");f.className="vditor-hint".concat(i.level===2?"":" vditor-panel--arrow");var b="";return p.g.CODE_THEME.forEach(function(C){b+="<button>".concat(C,"</button>")}),f.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(b,"</div>"),f.addEventListener((0,c.Le)(),function(C){C.target.tagName==="BUTTON"&&(A(n,["subToolbar"]),n.options.preview.hljs.style=C.target.textContent,(0,pa.Y)(C.target.textContent,n.options.cdn),C.preventDefault(),C.stopPropagation())}),a.element.appendChild(f),T(n,f,o,i.level),a}return t})(Ue),xo=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Oo=(function(e){xo(t,e);function t(n,i){var a=e.call(this,n,i)||this,o=a.element.children[0],f=document.createElement("div");f.className="vditor-hint".concat(i.level===2?"":" vditor-panel--arrow");var b="";return Object.keys(n.options.preview.theme.list).forEach(function(C){b+='<button data-type="'.concat(C,'">').concat(n.options.preview.theme.list[C],"</button>")}),f.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(b,"</div>"),f.addEventListener((0,c.Le)(),function(C){C.target.tagName==="BUTTON"&&(A(n,["subToolbar"]),n.options.preview.theme.current=C.target.getAttribute("data-type"),(0,U.Z)(n.options.preview.theme.current,n.options.preview.theme.path),C.preventDefault(),C.stopPropagation())}),a.element.appendChild(f),T(n,f,o,i.level),a}return t})(Ue),Do=(function(){function e(t){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(t,"")}return e.prototype.render=function(t,n){var i=n.endsWith(`
`)?n.length-1:n.length;if(t.options.counter.type==="text"&&t[t.currentMode]){var a=t[t.currentMode].element.cloneNode(!0);a.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(o){o.remove()}),i=a.textContent.length}typeof t.options.counter.max=="number"?(i>t.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML="".concat(i,"/").concat(t.options.counter.max)):this.element.innerHTML="".concat(i),this.element.setAttribute("aria-label",t.options.counter.type),t.options.counter.after&&t.options.counter.after(i,{enable:t.options.counter.enable,max:t.options.counter.max,type:t.options.counter.type})},e})(),Ho=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),No=(function(e){Ho(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].innerHTML=i.icon,a.element.children[0].addEventListener((0,c.Le)(),function(o){o.preventDefault(),!o.currentTarget.classList.contains(p.g.CLASS_MENU_DISABLED)&&i.click(o,n)}),a}return t})(Ue),Ro=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Po=(function(e){Ro(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.firstElementChild.addEventListener((0,c.Le)(),function(o){var f=a.element.firstElementChild;f.classList.contains(p.g.CLASS_MENU_DISABLED)||(o.preventDefault(),f.classList.contains("vditor-menu--current")?(f.classList.remove("vditor-menu--current"),n.devtools.element.style.display="none",Y(n)):(f.classList.add("vditor-menu--current"),n.devtools.element.style.display="block",Y(n),n.devtools.renderEchart(n)))}),a}return t})(Ue),Io=(function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"}return e})(),jo=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Bo=(function(e){jo(t,e);function t(n,i){var a=e.call(this,n,i)||this,o=document.createElement("div");o.className="vditor-panel vditor-panel--arrow";var f="";return Object.keys(n.options.hint.emoji).forEach(function(b){var C=n.options.hint.emoji[b];C.indexOf(".")>-1?f+='<button data-value=":'.concat(b,': " data-key=":').concat(b,`:"><img
data-value=":`).concat(b,': " data-key=":').concat(b,':" class="vditor-emojis__icon" src="').concat(C,'"/></button>'):f+='<button data-value="'.concat(C,` "
 data-key="`).concat(b,'"><span class="vditor-emojis__icon">').concat(C,"</span></button>")}),o.innerHTML='<div class="vditor-emojis" style="max-height: '.concat(n.options.height==="auto"?"auto":n.options.height-80,'px">').concat(f,`</div><div class="vditor-emojis__tail">
    <span class="vditor-emojis__tip"></span><span>`).concat(n.options.hint.emojiTail||"",`</span>
</div>`),a.element.appendChild(o),T(n,o,a.element.firstElementChild,i.level),a.bindEvent(n),a}return t.prototype.bindEvent=function(n){var i=this;this.element.lastElementChild.addEventListener((0,c.Le)(),function(a){var o=(0,N.S)(a.target,"BUTTON");if(o){a.preventDefault();var f=o.getAttribute("data-value"),b=(0,P.zh)(n),C=f;if(n.currentMode==="wysiwyg"?C=n.lute.SpinVditorDOM(f):n.currentMode==="ir"&&(C=n.lute.SpinVditorIRDOM(f)),f.indexOf(":")>-1&&n.currentMode!=="sv"){var w=document.createElement("div");w.innerHTML=C,C=w.firstElementChild.firstElementChild.outerHTML+" ",(0,P.oC)(C,n)}else b.extractContents(),b.insertNode(document.createTextNode(f)),(0,u.F9)(b.startContainer)||ot(n,b);b.collapse(!1),(0,P.Hc)(b),i.element.lastElementChild.style.display="none",Ee(n)}}),this.element.lastElementChild.addEventListener("mouseover",function(a){var o=(0,N.S)(a.target,"BUTTON");o&&(i.element.querySelector(".vditor-emojis__tip").innerHTML=o.getAttribute("data-key"))})},t})(Ue),ha=function(e,t,n){var i=document.createElement("a");"download"in i?(i.download=n,i.style.display="none",i.href=URL.createObjectURL(new Blob([t])),document.body.appendChild(i),i.click(),i.remove()):e.tip.show(window.VditorI18n.downloadTip,0)},Uo=function(e){var t=H(e);ha(e,t,t.substr(0,10)+".md")},Fo=function(e){e.tip.show(window.VditorI18n.generate,3800);var t=document.querySelector("#vditorExportIframe");t.contentDocument.open(),t.contentDocument.write('<link rel="stylesheet" href="'.concat(e.options.cdn,`/dist/index.css"/>
<script src="`).concat(e.options.cdn,`/dist/method.min.js"><\/script>
<div id="preview" style="width: 800px"></div>
<script>
window.addEventListener("message", (e) => {
  if(!e.data) {
    return;
  }
  Vditor.preview(document.getElementById('preview'), e.data, {
    cdn: "`).concat(e.options.cdn,`",
    markdown: {
      theme: `).concat(JSON.stringify(e.options.preview.theme),`
    },
    hljs: {
      style: "`).concat(e.options.preview.hljs.style,`"
    }
  });
  setTimeout(() => {
        window.print();
    }, 3600);
}, false);
<\/script>`)),t.contentDocument.close(),setTimeout(function(){t.contentWindow.postMessage(H(e),"*")},200)},Vo=function(e){var t=ua(e),n='<html><head><link rel="stylesheet" type="text/css" href="'.concat(e.options.cdn,`/dist/index.css"/>
<script src="`).concat(e.options.cdn,"/dist/js/i18n/").concat(e.options.lang,`.js"><\/script>
<script src="`).concat(e.options.cdn,`/dist/method.min.js"><\/script></head>
<body><div class="vditor-reset" id="preview">`).concat(t,`</div>
<script>
    const previewElement = document.getElementById('preview')
    Vditor.setContentTheme('`).concat(e.options.preview.theme.current,"', '").concat(e.options.preview.theme.path,`');
    Vditor.codeRender(previewElement);
    Vditor.highlightRender(`).concat(JSON.stringify(e.options.preview.hljs),", previewElement, '").concat(e.options.cdn,`');
    Vditor.mathRender(previewElement, {
        cdn: '`).concat(e.options.cdn,`',
        math: `).concat(JSON.stringify(e.options.preview.math),`,
    });
    Vditor.mermaidRender(previewElement, '`).concat(e.options.cdn,"', '").concat(e.options.theme,`');
    Vditor.SMILESRender(previewElement, '`).concat(e.options.cdn,"', '").concat(e.options.theme,`');
    Vditor.markmapRender(previewElement, '`).concat(e.options.cdn,`');
    Vditor.flowchartRender(previewElement, '`).concat(e.options.cdn,`');
    Vditor.graphvizRender(previewElement, '`).concat(e.options.cdn,`');
    Vditor.chartRender(previewElement, '`).concat(e.options.cdn,"', '").concat(e.options.theme,`');
    Vditor.mindmapRender(previewElement, '`).concat(e.options.cdn,"', '").concat(e.options.theme,`');
    Vditor.abcRender(previewElement, '`).concat(e.options.cdn,`');
    `).concat(e.options.preview.render.media.enable?"Vditor.mediaRender(previewElement);":"",`
    Vditor.speechRender(previewElement);
<\/script>
<script src="`).concat(e.options.cdn,"/dist/js/icons/").concat(e.options.icon,'.js"><\/script></body></html>');ha(e,n,t.substr(0,10)+".html")},Wo=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Ko=(function(e){Wo(t,e);function t(n,i){var a=e.call(this,n,i)||this,o=a.element.children[0],f=document.createElement("div");return f.className="vditor-hint".concat(i.level===2?"":" vditor-panel--arrow"),f.innerHTML=`<button data-type="markdown">Markdown</button>
<button data-type="pdf">PDF</button>
<button data-type="html">HTML</button>`,f.addEventListener((0,c.Le)(),function(b){var C=b.target;if(C.tagName==="BUTTON"){switch(C.getAttribute("data-type")){case"markdown":Uo(n);break;case"pdf":Fo(n);break;case"html":Vo(n);break}A(n,["subToolbar"]),b.preventDefault(),b.stopPropagation()}}),a.element.appendChild(f),T(n,f,o,i.level),a}return t})(Ue),qo=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Go=(function(e){qo(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a._bindEvent(n,i),a}return t.prototype._bindEvent=function(n,i){this.element.children[0].addEventListener((0,c.Le)(),function(a){a.preventDefault(),n.element.className.includes("vditor--fullscreen")?(i.level||(this.innerHTML=i.icon),n.element.style.zIndex="",document.body.style.overflow="",n.element.classList.remove("vditor--fullscreen"),Object.keys(n.toolbar.elements).forEach(function(o){var f=n.toolbar.elements[o].firstChild;f&&(f.className=f.className.replace("__s","__n"),n.options.toolbar.forEach(function(b){typeof b!="string"&&b.tipPosition&&b.name===f.dataset.type&&(f.className="vditor-tooltipped vditor-tooltipped__".concat(b.tipPosition))}))}),n.counter&&(n.counter.element.className=n.counter.element.className.replace("__s","__n"))):(i.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),n.element.style.zIndex=n.options.fullscreen.index.toString(),document.body.style.overflow="hidden",n.element.classList.add("vditor--fullscreen"),Object.keys(n.toolbar.elements).forEach(function(o){var f=n.toolbar.elements[o].firstChild;f&&(f.className=f.className.replace("__n","__s"))}),n.counter&&(n.counter.element.className=n.counter.element.className.replace("__n","__s"))),n.devtools&&n.devtools.renderEchart(n),i.click&&i.click(a,n),Y(n),te(n)})},t})(Ue),zo=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),$o=(function(e){zo(t,e);function t(n,i){var a=e.call(this,n,i)||this,o=document.createElement("div");return o.className="vditor-hint vditor-panel--arrow",o.innerHTML='<button data-tag="h1" data-value="# ">'.concat(window.VditorI18n.heading1," ").concat((0,c.ns)("&lt;1>"),`</button>
<button data-tag="h2" data-value="## ">`).concat(window.VditorI18n.heading2," &lt;").concat((0,c.ns)("2"),`></button>
<button data-tag="h3" data-value="### ">`).concat(window.VditorI18n.heading3," &lt;").concat((0,c.ns)("3"),`></button>
<button data-tag="h4" data-value="#### ">`).concat(window.VditorI18n.heading4," &lt;").concat((0,c.ns)("4"),`></button>
<button data-tag="h5" data-value="##### ">`).concat(window.VditorI18n.heading5," &lt;").concat((0,c.ns)("5"),`></button>
<button data-tag="h6" data-value="###### ">`).concat(window.VditorI18n.heading6," &lt;").concat((0,c.ns)("6"),"></button>"),a.element.appendChild(o),a._bindEvent(n,o),a}return t.prototype._bindEvent=function(n,i){var a=this.element.children[0];a.addEventListener((0,c.Le)(),function(f){f.preventDefault(),clearTimeout(n.wysiwyg.afterRenderTimeoutId),clearTimeout(n.ir.processTimeoutId),clearTimeout(n.sv.processTimeoutId),!a.classList.contains(p.g.CLASS_MENU_DISABLED)&&(a.blur(),a.classList.contains("vditor-menu--current")?(n.currentMode==="wysiwyg"?(ln(n),oe(n)):n.currentMode==="ir"&&An(n,""),a.classList.remove("vditor-menu--current")):(A(n,["subToolbar"]),i.style.display="block"))});for(var o=0;o<6;o++)i.children.item(o).addEventListener((0,c.Le)(),function(f){f.preventDefault(),n.currentMode==="wysiwyg"?(St(n,f.target.getAttribute("data-tag")),oe(n),a.classList.add("vditor-menu--current")):n.currentMode==="ir"?(An(n,f.target.getAttribute("data-value")),a.classList.add("vditor-menu--current")):Bi(n,f.target.getAttribute("data-value")),i.style.display="none"})},t})(Ue),Jo=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Zo=(function(e){Jo(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,c.Le)(),function(o){o.preventDefault(),n.tip.show(`<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">
<div style="margin-top: 14px;flex: 1">
    <div>Markdown </div>
    <ul style="list-style: none">
        <li><a href="https://ld246.com/article/1583308420519" target="_blank"></a></li>
        <li><a href="https://ld246.com/article/1583129520165" target="_blank"></a></li>
        <li><a href="https://ld246.com/article/1583305480675" target="_blank"></a></li>
        <li><a href="https://ld246.com/article/1582778815353" target="_blank"></a></li>
    </ul>
</div>
<div style="margin-top: 14px;flex: 1">
    <div>Vditor </div>
    <ul style="list-style: none">
        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>
        <li><a href="https://ld246.com/tag/vditor" target="_blank"></a></li>
        <li><a href="https://ld246.com/article/1549638745630" target="_blank"></a></li>
        <li><a href="https://ld246.com/guide/markdown" target="_blank"></a></li>
    </ul>
</div></div>`,0)}),a}return t})(Ue),Xo=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Yo=(function(e){Xo(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,c.Le)(),function(o){if(o.preventDefault(),!(a.element.firstElementChild.classList.contains(p.g.CLASS_MENU_DISABLED)||n.currentMode==="sv")){var f=(0,P.zh)(n),b=(0,u.lG)(f.startContainer,"LI");b&&$i(n,b,f)}}),a}return t})(Ue),Qo=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),el=(function(e){Qo(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,c.Le)(),function(o){o.preventDefault(),n.tip.show(`<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">
<p style="text-align: center;margin: 14px 0">
    <em> Markdown </em>
</p>
<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">
    <img src="https://unpkg.com/vditor/dist/images/logo.png" style="margin: 0 auto;height: 68px"/>
    <div>&nbsp;&nbsp;</div>
    <div style="flex: 1;min-width: 250px">
        Vditor  Markdown  Typora
         TypeScript  JavaScript  VueReactAngular  Svelte 
    </div>
</div>
<div style="display: flex;flex-wrap: wrap;">
    <ul style="list-style: none;flex: 1;min-width:148px">
        <li>
        <a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>
        </li>
        <li>
        MIT
        </li>
    </ul>
    <ul style="list-style: none;margin-right: 18px">
        <li>
        Vditor v`.concat(p.H," / Lute v").concat(Lute.Version,`
        </li>
        <li>
        <a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>
        </li>
    </ul>
</div>
</div>`),0)}),a}return t})(Ue),tl=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),nl=(function(e){tl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,c.Le)(),function(o){o.preventDefault(),!(a.element.firstElementChild.classList.contains(p.g.CLASS_MENU_DISABLED)||n.currentMode==="sv")&&Mn(n,"afterend")}),a}return t})(Ue),rl=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),il=(function(e){rl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,c.Le)(),function(o){o.preventDefault(),!(a.element.firstElementChild.classList.contains(p.g.CLASS_MENU_DISABLED)||n.currentMode==="sv")&&Mn(n,"beforebegin")}),a}return t})(Ue),al=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),sl=(function(e){al(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,c.Le)(),function(o){if(o.preventDefault(),!(a.element.firstElementChild.classList.contains(p.g.CLASS_MENU_DISABLED)||n.currentMode==="sv")){var f=(0,P.zh)(n),b=(0,u.lG)(f.startContainer,"LI");b&&Pr(n,b,f,b.parentElement)}}),a}return t})(Ue),ol=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),ll=(function(e){ol(t,e);function t(n,i){var a=e.call(this,n,i)||this;return n.options.outline&&a.element.firstElementChild.classList.add("vditor-menu--current"),a.element.children[0].addEventListener((0,c.Le)(),function(o){o.preventDefault();var f=n.toolbar.elements.outline.firstElementChild;f.classList.contains(p.g.CLASS_MENU_DISABLED)||(n.options.outline.enable=!a.element.firstElementChild.classList.contains("vditor-menu--current"),n.outline.toggle(n,n.options.outline.enable))}),a}return t})(Ue),cl=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),ul=(function(e){cl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a._bindEvent(n),a}return t.prototype._bindEvent=function(n){var i=this;this.element.children[0].addEventListener((0,c.Le)(),function(a){a.preventDefault();var o=i.element.firstElementChild;if(!o.classList.contains(p.g.CLASS_MENU_DISABLED)){var f=p.g.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);o.classList.contains("vditor-menu--current")?(o.classList.remove("vditor-menu--current"),n.currentMode==="sv"?(n.sv.element.style.display="block",n.options.preview.mode==="both"?n.preview.element.style.display="block":n.preview.element.style.display="none"):(n[n.currentMode].element.parentElement.style.display="block",n.preview.element.style.display="none"),_(n.toolbar.elements,f),n.outline.render(n)):(g(n.toolbar.elements,f),n.preview.element.style.display="block",n.currentMode==="sv"?n.sv.element.style.display="none":n[n.currentMode].element.parentElement.style.display="none",n.preview.render(n),o.classList.add("vditor-menu--current"),A(n,["subToolbar","hint","popover"]),setTimeout(function(){n.outline.render(n)},n.options.preview.delay+10)),Y(n)}})},t})(Ue),fl=(function(){function e(t){this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0;var n;if(typeof AudioContext<"u")n=new AudioContext;else if(webkitAudioContext)n=new webkitAudioContext;else return;this.DEFAULT_SAMPLE_RATE=n.sampleRate;var i=n.createGain(),a=n.createMediaStreamSource(t);a.connect(i),this.recorder=n.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,i.connect(this.recorder),this.recorder.connect(n.destination),this.readyFlag=!0}return e.prototype.cloneChannelData=function(t,n){this.leftChannel.push(new Float32Array(t)),this.rightChannel.push(new Float32Array(n)),this.recordingLength+=2048},e.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},e.prototype.stopRecording=function(){this.isRecording=!1},e.prototype.buildWavFileBlob=function(){for(var t=this.mergeBuffers(this.leftChannel),n=this.mergeBuffers(this.rightChannel),i=new Float32Array(t.length),a=0;a<t.length;++a)i[a]=.5*(t[a]+n[a]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(i=this.downSampleBuffer(i,this.SAMPLE_RATE));var o=44+i.length*2,f=new ArrayBuffer(o),b=new DataView(f);this.writeUTFBytes(b,0,"RIFF"),b.setUint32(4,o,!0),this.writeUTFBytes(b,8,"WAVE"),this.writeUTFBytes(b,12,"fmt "),b.setUint32(16,16,!0),b.setUint16(20,1,!0),b.setUint16(22,1,!0),b.setUint32(24,this.SAMPLE_RATE,!0),b.setUint32(28,this.SAMPLE_RATE*2,!0),b.setUint16(32,2,!0),b.setUint16(34,16,!0);var C=i.length*2;this.writeUTFBytes(b,36,"data"),b.setUint32(40,C,!0);for(var w=i.length,D=44,j=1,$=0;$<w;$++)b.setInt16(D,i[$]*(32767*j),!0),D+=2;return new Blob([b],{type:"audio/wav"})},e.prototype.downSampleBuffer=function(t,n){if(n===this.DEFAULT_SAMPLE_RATE||n>this.DEFAULT_SAMPLE_RATE)return t;for(var i=this.DEFAULT_SAMPLE_RATE/n,a=Math.round(t.length/i),o=new Float32Array(a),f=0,b=0;f<o.length;){for(var C=Math.round((f+1)*i),w=0,D=0,j=b;j<C&&j<t.length;j++)w+=t[j],D++;o[f]=w/D,f++,b=C}return o},e.prototype.mergeBuffers=function(t){for(var n=new Float32Array(this.recordingLength),i=0,a=t.length,o=0;o<a;++o){var f=t[o];n.set(f,i),i+=f.length}return n},e.prototype.writeUTFBytes=function(t,n,i){for(var a=i.length,o=0;o<a;o++)t.setUint8(n+o,i.charCodeAt(o))},e})(),dl=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),pl=(function(e){dl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a._bindEvent(n),a}return t.prototype._bindEvent=function(n){var i=this,a;this.element.children[0].addEventListener((0,c.Le)(),function(o){if(o.preventDefault(),!i.element.firstElementChild.classList.contains(p.g.CLASS_MENU_DISABLED)){var f=n[n.currentMode].element;if(!a){navigator.mediaDevices.getUserMedia({audio:!0}).then(function(C){a=new fl(C),a.recorder.onaudioprocess=function(w){if(a.isRecording){var D=w.inputBuffer.getChannelData(0),j=w.inputBuffer.getChannelData(1);a.cloneChannelData(D,j)}},a.startRecordingNewWavFile(),n.tip.show(window.VditorI18n.recording),f.setAttribute("contenteditable","false"),i.element.children[0].classList.add("vditor-menu--current")}).catch(function(){n.tip.show(window.VditorI18n["record-tip"])});return}if(a.isRecording){a.stopRecording(),n.tip.hide();var b=new File([a.buildWavFileBlob()],"record".concat(new Date().getTime(),".wav"),{type:"video/webm"});Rr(n,[b]),i.element.children[0].classList.remove("vditor-menu--current")}else n.tip.show(window.VditorI18n.recording),f.setAttribute("contenteditable","false"),a.startRecordingNewWavFile(),i.element.children[0].classList.add("vditor-menu--current")}})},t})(Ue),hl=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),ml=(function(e){hl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return g({redo:a.element},["redo"]),a.element.children[0].addEventListener((0,c.Le)(),function(o){o.preventDefault(),!a.element.firstElementChild.classList.contains(p.g.CLASS_MENU_DISABLED)&&n.undo.redo(n)}),a}return t})(Ue),gl=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),yl=(function(e){gl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return g({undo:a.element},["undo"]),a.element.children[0].addEventListener((0,c.Le)(),function(o){o.preventDefault(),!a.element.firstElementChild.classList.contains(p.g.CLASS_MENU_DISABLED)&&n.undo.undo(n)}),a}return t})(Ue),bl=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),wl=(function(e){bl(t,e);function t(n,i){var a=e.call(this,n,i)||this,o='<input type="file"';return n.options.upload.multiple&&(o+=' multiple="multiple"'),n.options.upload.accept&&(o+=' accept="'.concat(n.options.upload.accept,'"')),a.element.children[0].innerHTML="".concat(i.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>').concat(o,">"),a._bindEvent(n),a}return t.prototype._bindEvent=function(n){var i=this;this.element.children[0].addEventListener((0,c.Le)(),function(a){if(i.element.firstElementChild.classList.contains(p.g.CLASS_MENU_DISABLED)){a.stopPropagation(),a.preventDefault();return}}),this.element.querySelector("input").addEventListener("change",function(a){if(i.element.firstElementChild.classList.contains(p.g.CLASS_MENU_DISABLED)){a.stopPropagation(),a.preventDefault();return}a.target.files.length!==0&&Rr(n,a.target.files,a.target)})},t})(Ue),vl=(function(){function e(t){var n=this,i=t.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",i.toolbar.forEach(function(a,o){var f=n.genItem(t,a,o);if(n.element.appendChild(f),a.toolbar){var b=document.createElement("div");b.className="vditor-hint vditor-panel--arrow",b.addEventListener((0,c.Le)(),function(C){b.style.display="none"}),a.toolbar.forEach(function(C,w){C.level=2,b.appendChild(n.genItem(t,C,o+w))}),f.appendChild(b),T(t,b,f.children[0])}}),t.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),t.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),t.options.counter.enable&&(t.counter=new Do(t),this.element.appendChild(t.counter.element))}return e.prototype.updateConfig=function(t,n){t.options.toolbarConfig=Object.assign({hide:!1,pin:!1},n),t.options.toolbarConfig.hide?this.element.classList.add("vditor-toolbar--hide"):this.element.classList.remove("vditor-toolbar--hide"),t.options.toolbarConfig.pin?this.element.classList.add("vditor-toolbar--pin"):this.element.classList.remove("vditor-toolbar--pin")},e.prototype.genItem=function(t,n,i){var a;switch(n.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":a=new Ue(t,n);break;case"emoji":a=new Bo(t,n);break;case"headings":a=new $o(t,n);break;case"|":a=new Io;break;case"br":a=new Lo;break;case"undo":a=new yl(t,n);break;case"redo":a=new ml(t,n);break;case"help":a=new Zo(t,n);break;case"both":a=new Mo(t,n);break;case"preview":a=new ul(t,n);break;case"fullscreen":a=new Go(t,n);break;case"upload":a=new wl(t,n);break;case"record":a=new pl(t,n);break;case"info":a=new el(t,n);break;case"edit-mode":a=new to(t,n);break;case"devtools":a=new Po(t,n);break;case"outdent":a=new sl(t,n);break;case"indent":a=new Yo(t,n);break;case"outline":a=new ll(t,n);break;case"insert-after":a=new nl(t,n);break;case"insert-before":a=new il(t,n);break;case"code-theme":a=new ko(t,n);break;case"content-theme":a=new Oo(t,n);break;case"export":a=new Ko(t,n);break;default:a=new No(t,n);break}if(a){var o=n.name;return(o==="br"||o==="|")&&(o=o+i),this.elements[o]=a.element,a.element}},e})(),El=m(173),_l=(function(){function e(){this.stackSize=50,this.resetStack(),this.dmp=new El}return e.prototype.clearStack=function(t){this.resetStack(),this.resetIcon(t)},e.prototype.resetIcon=function(t){t.toolbar&&(this[t.currentMode].undoStack.length>1?_(t.toolbar.elements,["undo"]):g(t.toolbar.elements,["undo"]),this[t.currentMode].redoStack.length!==0?_(t.toolbar.elements,["redo"]):g(t.toolbar.elements,["redo"]))},e.prototype.undo=function(t){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"&&!(this[t.currentMode].undoStack.length<2)){var n=this[t.currentMode].undoStack.pop();n&&(this[t.currentMode].redoStack.push(n),this.renderDiff(n,t),this[t.currentMode].hasUndo=!0,A(t,["hint"]))}},e.prototype.redo=function(t){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"){var n=this[t.currentMode].redoStack.pop();n&&(this[t.currentMode].undoStack.push(n),this.renderDiff(n,t,!0))}},e.prototype.recordFirstPosition=function(t,n){if(getSelection().rangeCount!==0&&!(this[t.currentMode].undoStack.length!==1||this[t.currentMode].undoStack[0].length===0||this[t.currentMode].redoStack.length>0)&&!((0,c.vU)()&&n.key==="Backspace")&&!(0,c.G6)()){var i=this.addCaret(t);i.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[t.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[t.currentMode].undoStack[0][0].diffs[0][1]=i,this[t.currentMode].lastText=i)}},e.prototype.addToUndoStack=function(t){var n=this.addCaret(t,!0),i=this.dmp.diff_main(n,this[t.currentMode].lastText,!0),a=this.dmp.patch_make(n,this[t.currentMode].lastText,i);a.length===0&&this[t.currentMode].undoStack.length>0||(this[t.currentMode].lastText=n,this[t.currentMode].undoStack.push(a),this[t.currentMode].undoStack.length>this.stackSize&&this[t.currentMode].undoStack.shift(),this[t.currentMode].hasUndo&&(this[t.currentMode].redoStack=[],this[t.currentMode].hasUndo=!1,g(t.toolbar.elements,["redo"])),this[t.currentMode].undoStack.length>1&&_(t.toolbar.elements,["undo"]))},e.prototype.renderDiff=function(t,n,i){i===void 0&&(i=!1);var a;if(i){var o=this.dmp.patch_deepCopy(t).reverse();o.forEach(function(b){b.diffs.forEach(function(C){C[0]=-C[0]})}),a=this.dmp.patch_apply(o,this[n.currentMode].lastText)[0]}else a=this.dmp.patch_apply(t,this[n.currentMode].lastText)[0];if(this[n.currentMode].lastText=a,n[n.currentMode].element.innerHTML=a,n.currentMode!=="sv"&&(n[n.currentMode].element.querySelectorAll(".vditor-".concat(n.currentMode,"__preview")).forEach(function(b){b.parentElement.querySelector(".language-echarts")&&(n.currentMode==="ir"?b.parentElement.outerHTML=n.lute.SpinVditorIRDOM(b.parentElement.outerHTML):b.parentElement.outerHTML=n.lute.SpinVditorDOM(b.parentElement.outerHTML))}),n[n.currentMode].element.querySelectorAll(".vditor-".concat(n.currentMode,"__preview[data-render='2']")).forEach(function(b){Ne(b,n)})),n[n.currentMode].element.querySelector("wbr"))(0,P.ib)(n[n.currentMode].element,n[n.currentMode].element.ownerDocument.createRange()),Ve(n);else{var f=getSelection().getRangeAt(0);f.setEndBefore(n[n.currentMode].element),f.collapse(!1)}ft(n),Ee(n,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),fn(n),n[n.currentMode].element.querySelectorAll(".vditor-".concat(n.currentMode,"__preview[data-render='2']")).forEach(function(b){Ne(b,n)}),this[n.currentMode].undoStack.length>1?_(n.toolbar.elements,["undo"]):g(n.toolbar.elements,["undo"]),this[n.currentMode].redoStack.length!==0?_(n.toolbar.elements,["redo"]):g(n.toolbar.elements,["redo"])},e.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},e.prototype.addCaret=function(t,n){n===void 0&&(n=!1);var i;if(getSelection().rangeCount!==0&&!t[t.currentMode].element.querySelector("wbr")){var a=getSelection().getRangeAt(0);if(t[t.currentMode].element.contains(a.startContainer)){i=a.cloneRange();var o=document.createElement("span");o.className="vditor-wbr",a.insertNode(o)}}var f=t[t.currentMode].element.cloneNode(!0);f.querySelectorAll(".vditor-".concat(t.currentMode,"__preview[data-render='1']")).forEach(function(C){C.firstElementChild&&(C.firstElementChild.classList.contains("language-echarts")||C.firstElementChild.classList.contains("language-plantuml")||C.firstElementChild.classList.contains("language-mindmap")?(C.firstElementChild.removeAttribute("_echarts_instance_"),C.firstElementChild.removeAttribute("data-processed"),C.firstElementChild.innerHTML=C.previousElementSibling.firstElementChild.innerHTML,C.setAttribute("data-render","2")):C.firstElementChild.classList.contains("language-math")&&(C.setAttribute("data-render","2"),C.firstElementChild.textContent=C.firstElementChild.getAttribute("data-math"),C.firstElementChild.removeAttribute("data-math")))});var b=f.innerHTML;return t[t.currentMode].element.querySelectorAll(".vditor-wbr").forEach(function(C){C.remove()}),n&&i&&(0,P.Hc)(i),b.replace('<span class="vditor-wbr"></span>',"<wbr>")},e})(),Sl=m(673),Cl=(function(){function e(t){this.defaultOptions={rtl:!1,after:void 0,cache:{enable:!0},cdn:p.g.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},customRenders:[],debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"","-1":"",confused:"",eyes:"",heart:"",rocket:"",smile:"",tada:""},emojiPath:"".concat(p.g.CDN,"/dist/images/emoji"),extend:[],parse:!0},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:p.g.HLJS_OPTIONS,markdown:p.g.MARKDOWN_OPTIONS,math:p.g.MATH_OPTIONS,maxWidth:800,mode:"both",theme:p.g.THEME_OPTIONS,render:{media:{enable:!0}}},link:{isOpen:!0},image:{isPreview:!0},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(n){return n.replace(/\W/g,"")},linkToImgUrl:"",max:10*1024*1024,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=t}return e.prototype.merge=function(){var t,n,i,a,o,f,b,C,w;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),!((n=(t=this.options.preview)===null||t===void 0?void 0:t.theme)===null||n===void 0)&&n.list&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),!((o=(a=(i=this.options.preview)===null||i===void 0?void 0:i.render)===null||a===void 0?void 0:a.media)===null||o===void 0)&&o.enable&&(this.defaultOptions.preview.render.media.enable=this.options.preview.render.media.enable),!((f=this.options.hint)===null||f===void 0)&&f.emoji&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment),this.options.cdn&&(!((C=(b=this.options.preview)===null||b===void 0?void 0:b.theme)===null||C===void 0)&&C.path||(this.defaultOptions.preview.theme.path="".concat(this.options.cdn,"/dist/css/content-theme")),!((w=this.options.hint)===null||w===void 0)&&w.emojiPath||(this.defaultOptions.hint.emojiPath="".concat(this.options.cdn,"/dist/images/emoji"))));var D=(0,Sl.T)(this.defaultOptions,this.options);if(D.cache.enable&&!D.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return D},e.prototype.mergeToolbar=function(t){var n=this,i=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:";",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:` | col2 | col3 |
| --- | --- | --- |
|  |  |  |
|  |  |  |`,tipPosition:"n"},{name:"|"},{hotkey:"Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],a=[];return t.forEach(function(o){var f=o;i.forEach(function(b){typeof o=="string"&&b.name===o&&(f=b),typeof o=="object"&&b.name===o.name&&(f=Object.assign({},b,o))}),o.toolbar&&(f.toolbar=n.mergeToolbar(o.toolbar)),a.push(f)}),a},e})(),Tl=(function(){function e(t){var n=this;this.composingLock=!1,this.commentIds=[];var i=document.createElement("div");i.className="vditor-wysiwyg",i.innerHTML='<pre class="vditor-reset" placeholder="'.concat(t.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>
<div class="vditor-panel vditor-panel--none"></div>
<div class="vditor-panel vditor-panel--none">
    <button type="button" aria-label="`).concat(window.VditorI18n.comment,`" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">
        <svg><use xlink:href="#vditor-icon-comment"></use></svg>
    </button>
</div>`),this.element=i.firstElementChild,this.popover=i.firstElementChild.nextElementSibling,this.selectPopover=i.lastElementChild,this.bindEvent(t),Lr(t,this.element),Ii(t,this.element),Ar(t,this.element),Dr(t,this.element),Hr(t,this.element),kr(t,this.element),xr(t,this.element,this.copy),Or(t,this.element,this.copy),t.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var a=Lute.NewNodeID(),o=getSelection().getRangeAt(0),f=o.cloneRange(),b=o.extractContents(),C,w,D=!1,j=!1;b.childNodes.forEach(function(q,re){var ne=!1;if(q.nodeType===3?ne=!0:q.classList.contains("vditor-comment")?q.classList.contains("vditor-comment")&&q.setAttribute("data-cmtids",q.getAttribute("data-cmtids")+" "+a):ne=!0,ne)if(q.nodeType!==3&&q.getAttribute("data-block")==="0"&&re===0&&f.startOffset>0)q.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(a,'">').concat(q.innerHTML,"</span>"),C=q;else if(q.nodeType!==3&&q.getAttribute("data-block")==="0"&&re===b.childNodes.length-1&&f.endOffset<f.endContainer.textContent.length)q.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(a,'">').concat(q.innerHTML,"</span>"),w=q;else if(q.nodeType!==3&&q.getAttribute("data-block")==="0")re===0?D=!0:re===b.childNodes.length-1&&(j=!0),q.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(a,'">').concat(q.innerHTML,"</span>");else{var G=document.createElement("span");G.classList.add("vditor-comment"),G.setAttribute("data-cmtids",a),q.parentNode.insertBefore(G,q),G.appendChild(q)}});var $=(0,u.F9)(f.startContainer);$&&(C?($.insertAdjacentHTML("beforeend",C.innerHTML),C.remove()):$.textContent.trim().replace(p.g.ZWSP,"")===""&&D&&$.remove());var Z=(0,u.F9)(f.endContainer);Z&&(w?(Z.insertAdjacentHTML("afterbegin",w.innerHTML),w.remove()):Z.textContent.trim().replace(p.g.ZWSP,"")===""&&j&&Z.remove()),o.insertNode(b),t.options.comment.add(a,o.toString(),n.getComments(t,!0)),oe(t,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),n.hideComment()})}return e.prototype.getComments=function(t,n){var i=this;if(n===void 0&&(n=!1),t.currentMode==="wysiwyg"&&t.options.comment.enable){this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach(function(o){i.commentIds=i.commentIds.concat(o.getAttribute("data-cmtids").split(" "))}),this.commentIds=Array.from(new Set(this.commentIds));var a=[];if(n)return this.commentIds.forEach(function(o){a.push({id:o,top:i.element.querySelector('.vditor-comment[data-cmtids="'.concat(o,'"]')).offsetTop})}),a}else return[]},e.prototype.triggerRemoveComment=function(t){var n=function(o,f){var b=new Set(f);return o.filter(function(C){return!b.has(C)})};if(t.currentMode==="wysiwyg"&&t.options.comment.enable&&t.wysiwyg.commentIds.length>0){var i=JSON.parse(JSON.stringify(this.commentIds));this.getComments(t);var a=n(i,this.commentIds);a.length>0&&t.options.comment.remove(a)}},e.prototype.showComment=function(){var t=(0,P.Ny)(this.element);this.selectPopover.setAttribute("style","left:".concat(t.left,"px;display:block;top:").concat(Math.max(-8,t.top-21),"px"))},e.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},e.prototype.unbindListener=function(){window.removeEventListener("scroll",this.scrollListener)},e.prototype.copy=function(t,n){var i=getSelection().getRangeAt(0);if(i.toString()!==""){t.stopPropagation(),t.preventDefault();var a=(0,u.lG)(i.startContainer,"CODE"),o=(0,u.lG)(i.endContainer,"CODE");if(a&&o&&o.isSameNode(a)){var f="";a.parentElement.tagName==="PRE"?f=i.toString():f="`"+i.toString()+"`",t.clipboardData.setData("text/plain",f),t.clipboardData.setData("text/html","");return}var b=(0,u.lG)(i.startContainer,"A"),C=(0,u.lG)(i.endContainer,"A");if(b&&C&&C.isSameNode(b)){var w=b.getAttribute("title")||"";w&&(w=' "'.concat(w,'"')),t.clipboardData.setData("text/plain","[".concat(i.toString(),"](").concat(b.getAttribute("href")).concat(w,")")),t.clipboardData.setData("text/html","");return}var D=document.createElement("div");D.appendChild(i.cloneContents()),t.clipboardData.setData("text/plain",n.lute.VditorDOM2Md(D.innerHTML).trim()),t.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(t){var n=this;this.unbindListener(),window.addEventListener("scroll",this.scrollListener=function(){if(A(t,["hint"]),!(n.popover.style.display!=="block"||n.selectPopover.style.display!=="block")){var i=parseInt(n.popover.getAttribute("data-top"),10);if(t.options.height!=="auto"){if(t.options.toolbarConfig.pin&&t.toolbar.element.getBoundingClientRect().top===0){var a=Math.max(window.scrollY-t.element.offsetTop-8,Math.min(i-t.wysiwyg.element.scrollTop,n.element.clientHeight-21))+"px";n.popover.style.display==="block"&&(n.popover.style.top=a),n.selectPopover.style.display==="block"&&(n.selectPopover.style.top=a)}return}else if(!t.options.toolbarConfig.pin)return;var o=Math.max(i,window.scrollY-t.element.offsetTop-8)+"px";n.popover.style.display==="block"&&(n.popover.style.top=o),n.selectPopover.style.display==="block"&&(n.selectPopover.style.top=o)}}),this.element.addEventListener("scroll",function(){if(A(t,["hint"]),t.options.comment&&t.options.comment.enable&&t.options.comment.scroll&&t.options.comment.scroll(t.wysiwyg.element.scrollTop),n.popover.style.display==="block"){var i=parseInt(n.popover.getAttribute("data-top"),10)-t.wysiwyg.element.scrollTop,a=-8;t.options.toolbarConfig.pin&&t.toolbar.element.getBoundingClientRect().top===0&&(a=window.scrollY-t.element.offsetTop+a);var o=Math.max(a,Math.min(i,n.element.clientHeight-21))+"px";n.popover.style.top=o,n.selectPopover.style.top=o}}),this.element.addEventListener("paste",function(i){tr(t,i,{pasteCode:function(a){var o=(0,P.zh)(t),f=document.createElement("template");f.innerHTML=a,o.insertNode(f.content.cloneNode(!0));var b=(0,u.a1)(o.startContainer,"data-block","0");b?b.outerHTML=t.lute.SpinVditorDOM(b.outerHTML):t.wysiwyg.element.innerHTML=t.lute.SpinVditorDOM(t.wysiwyg.element.innerHTML),(0,P.ib)(t.wysiwyg.element,o)}})}),this.element.addEventListener("compositionstart",function(){n.composingLock=!0}),this.element.addEventListener("compositionend",function(i){var a=(0,N.W)(getSelection().getRangeAt(0).startContainer);if(a&&a.textContent===""){ft(t);return}(0,c.vU)()||Xn(t,getSelection().getRangeAt(0).cloneRange(),i),n.composingLock=!1}),this.element.addEventListener("input",function(i){if(!(i.inputType==="deleteByDrag"||i.inputType==="insertFromDrop")){if(n.preventInput){n.preventInput=!1,oe(t);return}if(n.composingLock||i.data===""||i.data===""||i.data===""){oe(t);return}var a=getSelection().getRangeAt(0),o=(0,u.F9)(a.startContainer);if(o||(ot(t,a),o=(0,u.F9)(a.startContainer)),!!o){for(var f=(0,P.im)(o,t.wysiwyg.element,a).start,b=!0,C=f-1;C>o.textContent.substr(0,f).lastIndexOf(`
`);C--)if(o.textContent.charAt(C)!==" "&&o.textContent.charAt(C)!=="	"){b=!1;break}f===0&&(b=!1);for(var w=!0,C=f-1;C<o.textContent.length;C++)if(o.textContent.charAt(C)!==" "&&o.textContent.charAt(C)!==`
`){w=!1;break}w&&/^#{1,6} $/.test(o.textContent)&&(w=!1);var D=(0,N.W)(getSelection().getRangeAt(0).startContainer);if(D&&D.textContent===""&&(ft(t),D.remove()),b&&o.getAttribute("data-type")!=="code-block"||w||jr(o.innerHTML)||Ir(o.innerHTML)&&o.previousElementSibling){typeof t.options.input=="function"&&t.options.input(H(t));return}i.inputType==="insertParagraph"&&n.element.innerHTML==="<p><br></p><p><br></p>"&&o.previousElementSibling.remove(),Xn(t,a,i)}}}),this.element.addEventListener("click",function(i){if(i.target.tagName==="INPUT"){var a=i.target;a.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),n.preventInput=!0,getSelection().rangeCount>0&&(0,P.Hc)(getSelection().getRangeAt(0)),oe(t);return}if(i.target.tagName==="IMG"&&!i.target.parentElement.classList.contains("vditor-wysiwyg__preview")){i.target.getAttribute("data-type")==="link-ref"?Ri(t,i.target):Xs(i,t);return}var o=(0,u.lG)(i.target,"A");if(o){t.options.link.click?t.options.link.click(o):t.options.link.isOpen&&window.open(o.getAttribute("href")),i.preventDefault();return}var f=(0,P.zh)(t);if(i.target.isEqualNode(n.element)&&n.element.lastElementChild&&f.collapsed){var b=n.element.lastElementChild.getBoundingClientRect();i.y>b.top+b.height&&(n.element.lastElementChild.tagName==="P"&&n.element.lastElementChild.textContent.trim().replace(p.g.ZWSP,"")===""?(f.selectNodeContents(n.element.lastElementChild),f.collapse(!1)):(n.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(p.g.ZWSP,"<wbr></p>")),(0,P.ib)(n.element,f)))}Ct(t);var C=(0,u.fb)(i.target,"vditor-wysiwyg__preview");C||(C=(0,u.fb)((0,P.zh)(t).startContainer,"vditor-wysiwyg__preview")),C&&qe(C,t),sn(i,t)}),this.element.addEventListener("keyup",function(i){if(!(i.isComposing||(0,c.yl)(i))){i.key==="Enter"&&Ve(t),(i.key==="Backspace"||i.key==="Delete")&&t.wysiwyg.element.innerHTML!==""&&t.wysiwyg.element.childNodes.length===1&&t.wysiwyg.element.firstElementChild&&t.wysiwyg.element.firstElementChild.tagName==="P"&&t.wysiwyg.element.firstElementChild.childElementCount===0&&(t.wysiwyg.element.textContent===""||t.wysiwyg.element.textContent===`
`)&&(t.wysiwyg.element.innerHTML="");var a=(0,P.zh)(t);if(i.key==="Backspace"&&(0,c.vU)()&&a.startContainer.textContent===`
`&&a.startOffset===1&&(a.startContainer.textContent=""),ot(t,a),Ct(t),!(i.key!=="ArrowDown"&&i.key!=="ArrowRight"&&i.key!=="Backspace"&&i.key!=="ArrowLeft"&&i.key!=="ArrowUp")){(i.key==="ArrowLeft"||i.key==="ArrowRight")&&t.hint.render(t);var o=(0,u.fb)(a.startContainer,"vditor-wysiwyg__preview");if(!o&&a.startContainer.nodeType!==3&&a.startOffset>0){var f=a.startContainer;f.classList.contains("vditor-wysiwyg__block")&&(o=f.lastElementChild)}if(o){var b=o.previousElementSibling;if(b.style.display==="none"){i.key==="ArrowDown"||i.key==="ArrowRight"?qe(o,t):qe(o,t,!1);return}var C=o.previousElementSibling;if(C.tagName==="PRE"&&(C=C.firstElementChild),i.key==="ArrowDown"||i.key==="ArrowRight"){var f=o.parentElement,w=Ye(f);if(w&&w.nodeType!==3){var D=w.querySelector(".vditor-wysiwyg__preview");if(D){qe(D,t);return}}if(w.nodeType===3){for(;w.textContent.length===0&&w.nextSibling;)w=w.nextSibling;a.setStart(w,1)}else a.setStart(w.firstChild,0)}else a.selectNodeContents(C),a.collapse(!1)}}}})},e})(),Ml=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Ll=(function(e){Ml(t,e);function t(n,i){var a=e.call(this)||this;if(a.isDestroyed=!1,a.version=p.H,typeof n=="string"){if(i?i.cache?i.cache.id||(i.cache.id="vditor".concat(n)):i.cache={id:"vditor".concat(n)}:i={cache:{id:"vditor".concat(n)}},!document.getElementById(n))return a.showErrorTip("Failed to get element by id: ".concat(n)),a;n=document.getElementById(n)}var o=new Cl(i),f=o.merge();if(f.i18n)window.VditorI18n=f.i18n,a.init(n,f);else if(["de_DE","en_US","es_ES","fr_FR","ja_JP","ko_KR","pt_BR","ru_RU","sv_SE","vi_VN","zh_CN","zh_TW"].includes(f.lang)){var b="vditorI18nScript",C=b+f.lang;document.querySelectorAll('head script[id^="'.concat(b,'"]')).forEach(function(w){w.id!==C&&document.head.removeChild(w)}),(0,O.G)("".concat(f.cdn,"/dist/js/i18n/").concat(f.lang,".js"),C).then(function(){a.init(n,f)}).catch(function(w){a.showErrorTip("GET ".concat(f.cdn,"/dist/js/i18n/").concat(f.lang,".js net::ERR_ABORTED 404 (Not Found)"))})}else throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");return a}return t.prototype.showErrorTip=function(n){var i=new da;document.body.appendChild(i.element),i.show(n,0)},t.prototype.updateToolbarConfig=function(n){this.vditor.toolbar.updateConfig(this.vditor,n)},t.prototype.setTheme=function(n,i,a,o){this.vditor.options.theme=n,W(this.vditor),i&&(this.vditor.options.preview.theme.current=i,(0,U.Z)(i,o||this.vditor.options.preview.theme.path)),a&&(this.vditor.options.preview.hljs.style=a,(0,pa.Y)(a,this.vditor.options.cdn))},t.prototype.getValue=function(){return H(this.vditor)},t.prototype.getCurrentMode=function(){return this.vditor.currentMode},t.prototype.focus=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.focus():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.focus():this.vditor.currentMode==="ir"&&this.vditor.ir.element.focus()},t.prototype.blur=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.blur():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.blur():this.vditor.currentMode==="ir"&&this.vditor.ir.element.blur()},t.prototype.disabled=function(){A(this.vditor,["subToolbar","hint","popover"]),g(this.vditor.toolbar.elements,p.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},t.prototype.enable=function(){_(this.vditor.toolbar.elements,p.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},t.prototype.getSelection=function(){if(this.vditor.currentMode==="wysiwyg")return Tn(this.vditor.wysiwyg.element);if(this.vditor.currentMode==="sv")return Tn(this.vditor.sv.element);if(this.vditor.currentMode==="ir")return Tn(this.vditor.ir.element)},t.prototype.renderPreview=function(n){this.vditor.preview.render(this.vditor,n)},t.prototype.getCursorPosition=function(){return(0,P.Ny)(this.vditor[this.vditor.currentMode].element)},t.prototype.isUploading=function(){return this.vditor.upload.isUploading},t.prototype.clearCache=function(){this.vditor.options.cache.enable&&(0,c.pK)()&&localStorage.removeItem(this.vditor.options.cache.id)},t.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},t.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},t.prototype.html2md=function(n){return this.vditor.lute.HTML2Md(n)},t.prototype.exportJSON=function(n){return this.vditor.lute.RenderJSON(n)},t.prototype.getHTML=function(){return ua(this.vditor)},t.prototype.tip=function(n,i){this.vditor.tip.show(n,i)},t.prototype.setPreviewMode=function(n){Fr(n,this.vditor)},t.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},t.prototype.updateValue=function(n){document.execCommand("insertHTML",!1,n)},t.prototype.insertValue=function(n,i){i===void 0&&(i=!0);var a=(0,P.zh)(this.vditor);a.collapse(!0);var o=document.createElement("template");o.innerHTML=n,a.insertNode(o.content.cloneNode(!0)),a.collapse(!1),this.vditor.currentMode==="sv"?(this.vditor.sv.preventInput=!0,i&&B(this.vditor)):this.vditor.currentMode==="wysiwyg"?i&&Xn(this.vditor,getSelection().getRangeAt(0)):this.vditor.currentMode==="ir"&&(this.vditor.ir.preventInput=!0,i&&st(this.vditor,getSelection().getRangeAt(0),!0))},t.prototype.insertMD=function(n){this.vditor.currentMode==="ir"?(0,P.oC)(this.vditor.lute.Md2VditorIRDOM(n),this.vditor):this.vditor.currentMode==="wysiwyg"?(0,P.oC)(this.vditor.lute.Md2VditorDOM(n),this.vditor):Nr(this.vditor,n),this.vditor.outline.render(this.vditor),Ee(this.vditor)},t.prototype.setValue=function(n,i){var a=this;i===void 0&&(i=!1),this.vditor.currentMode==="sv"?(this.vditor.sv.element.innerHTML="<div data-block='0'>".concat(this.vditor.lute.SpinVditorSVDOM(n),"</div>"),Ge(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):this.vditor.currentMode==="wysiwyg"?Pi(this.vditor,n,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(n),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(o){Ne(o,a.vditor)}),Ht(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),n||(A(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),i&&this.clearStack()},t.prototype.insertEmptyBlock=function(n){Mn(this.vditor,n)},t.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},t.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style");var n=document.getElementById("vditorIconScript");n&&n.remove(),this.clearCache(),he(),this.vditor.wysiwyg.unbindListener(),this.vditor.options.after=void 0,this.isDestroyed=!0},t.prototype.getCommentIds=function(){return this.vditor.currentMode!=="wysiwyg"?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},t.prototype.hlCommentIds=function(n){if(this.vditor.currentMode==="wysiwyg"){var i=function(a){a.classList.remove("vditor-comment--hover"),n.forEach(function(o){a.getAttribute("data-cmtids").indexOf(o)>-1&&a.classList.add("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(a){i(a)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(a){i(a)})}},t.prototype.unHlCommentIds=function(n){if(this.vditor.currentMode==="wysiwyg"){var i=function(a){n.forEach(function(o){a.getAttribute("data-cmtids").indexOf(o)>-1&&a.classList.remove("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(a){i(a)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(a){i(a)})}},t.prototype.removeCommentIds=function(n){var i=this;if(this.vditor.currentMode==="wysiwyg"){var a=function(o,f){var b=o.getAttribute("data-cmtids").split(" ");b.find(function(C,w){if(C===f)return b.splice(w,1),!0}),b.length===0?(o.outerHTML=o.innerHTML,(0,P.zh)(i.vditor).collapse(!0)):o.setAttribute("data-cmtids",b.join(" "))};n.forEach(function(o){i.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(f){a(f,o)}),i.vditor.preview.element.style.display!=="none"&&i.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(f){a(f,o)})}),oe(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},t.prototype.init=function(n,i){var a=this;this.isDestroyed||(this.vditor={currentMode:i.mode,element:n,hint:new yo(i.hint.extend),lute:void 0,options:i,originalInnerHTML:n.innerHTML,outline:new vo(window.VditorI18n.outline),tip:new da},this.vditor.sv=new Co(this.vditor),this.vditor.undo=new _l,this.vditor.wysiwyg=new Tl(this.vditor),this.vditor.ir=new bo(this.vditor),this.vditor.toolbar=new vl(this.vditor),i.resize.enable&&(this.vditor.resize=new So(this.vditor)),this.vditor.toolbar.elements.devtools&&(this.vditor.devtools=new d),(i.upload.url||i.upload.handler)&&(this.vditor.upload=new so),(0,O.G)(i._lutePath||"".concat(i.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){a.vditor.lute=(0,wo.X)({autoSpace:a.vditor.options.preview.markdown.autoSpace,gfmAutoLink:a.vditor.options.preview.markdown.gfmAutoLink,codeBlockPreview:a.vditor.options.preview.markdown.codeBlockPreview,emojiSite:a.vditor.options.hint.emojiPath,emojis:a.vditor.options.hint.emoji,fixTermTypo:a.vditor.options.preview.markdown.fixTermTypo,footnotes:a.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:a.vditor.options.preview.math.inlineDigit,linkBase:a.vditor.options.preview.markdown.linkBase,linkPrefix:a.vditor.options.preview.markdown.linkPrefix,listStyle:a.vditor.options.preview.markdown.listStyle,mark:a.vditor.options.preview.markdown.mark,mathBlockPreview:a.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:a.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:a.vditor.options.preview.markdown.sanitize,toc:a.vditor.options.preview.markdown.toc}),a.vditor.preview=new _o(a.vditor),ee(a.vditor),i.after&&i.after(),i.icon&&(0,O.J)("".concat(i.cdn,"/dist/js/icons/").concat(i.icon,".js"),"vditorIconScript")}))},t})(M.default);const Al=Ll})(),S=S.default,S})()})})(fr)),fr.exports}var of=sf();const Za=rf(of),lf={class:"grid-cols-1 md:grid-cols-2 grid",id:"qapp"},cf={id:"preview-container"},uf=["innerHTML"],ff={__name:"QuestionPaper",setup(r){const s=Sa(`# Welcome to the Editor

Write Markdown with **bold**, *italic*, and LaTeX math like $E=mc^2$ or $$\\int_a^b f(x)\\,dx$$.`),l=Sa("");let h=null;const m=M=>{const p=document.getElementById("preview");Za.preview(p,M,{markdown:{toc:!0},render:{math:{engine:"KaTeX",inlineDigit:!0},hljs:{style:"github"},media:{enable:!0}}}),l.value=p.innerHTML},S=()=>{window.print()};return Ts(()=>{h=new Za("editor",{mode:"wysiwyg",height:"100%",minHeight:300,placeholder:"Start typing your Markdown here...",preview:{math:{engine:"KaTeX",inlineDigit:!0},hljs:{style:"github"}},input:M=>{s.value=M,m(M)},after:()=>{h.setValue(s.value),m(s.value)},lang:"en_US",cache:{enable:!1}})}),(M,p)=>(Ks(),qs("div",lf,[p[0]||(p[0]=jt("div",{id:"editor-container"},[jt("div",{id:"editor"})],-1)),jt("div",cf,[jt("div",{id:"preview",innerHTML:l.value},null,8,uf)]),jt("div",{class:"md:col-span-2",id:"toolbar"},[jt("button",{class:"py-2 font-bold px-4 bg-blue-600 hover:bg-blue-500 text-white rounded-lg cursor-pointer",onClick:S},"Print Preview")])]))}},df={class:"max-w-6xl mx-auto"},pf={__name:"App",setup(r){return(s,l)=>(Ks(),qs("main",df,[l[0]||(l[0]=jt("h1",{class:"text-2xl font-bold my-3 text-center"},"Question Paper",-1)),Zt(ff)]))}};ef(pf).mount("#app");
